
{
    
    
    
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
        
        
        
    
    "pages": [{"date":"2021-09-16","image":"","imageAlt":"","link":"http://example.org/posts/2021-09-16-miller-traiter-les-fichiers-csv-et-autres-en-ligne-de-commande/","summary":"Hier, j\u0026rsquo;ai découvert le programme mlr (https://github.com/johnkerl/miller)\nIl est installable par apt sous ubuntu.\nIl permet d\u0026rsquo;effectuer des traitements sur les fichiers dont les données sont indexées par nom\nname-indexed data such as CSV, TSV, and tabular JSON\nLa documentation semble bien étoffée: https://miller.readthedocs.io/en/latest/index.html\n$ wget https://www.data.gouv.fr/fr/datasets/r/de7d0863-13e8-4010-9c75-487269f5d7ac -O depts.csv ... depts.csv 100%[=====================================================================================================================\u0026gt;] 3,25K --.-KB/s ds 0,01s ... $ cat depts.csv | head -n 2 code_departement,nom_departement,code_region,nom_region 1,Ain,84,Auvergne-Rhône-Alpes $ cat depts.csv | tail -n 2 974,La Réunion,4,La Réunion 976,Mayotte,6,Mayotte $ mlr --icsv --from depts.","tags":["commande","csv","miller"],"text":"hier, j\u0026rsquo;ai découvert le programme mlr (https://github.com/johnkerl/miller)\nil est installable par apt sous ubuntu.\nil permet d\u0026rsquo;effectuer des traitements sur les fichiers dont les données sont indexées par nom\nname-indexed data such as csv, tsv, and tabular json\nla documentation semble bien étoffée: https://miller.readthedocs.io/en/latest/index.html\n$ wget https://www.data.gouv.fr/fr/datasets/r/de7d0863-13e8-4010-9c75-487269f5d7ac -o depts.csv ... depts.csv 100%[=====================================================================================================================\u0026gt;] 3,25k --.-kb/s ds 0,01s ... $ cat depts.csv | head -n 2 code_departement,nom_departement,code_region,nom_region 1,ain,84,auvergne-rhône-alpes $ cat depts.csv | tail -n 2 974,la réunion,4,la réunion 976,mayotte,6,mayotte $ mlr --icsv --from depts.csv --opprint cat|head code_departement nom_departement code_region nom_region 1 ain 84 auvergne-rhône-alpes 2 aisne 32 hauts-de-france 3 allier 84 auvergne-rhône-alpes 4 alpes-de-haute-provence 93 provence-alpes-côte d\u0026#39;azur 5 hautes-alpes 93 provence-alpes-côte d\u0026#39;azur 6 alpes-maritimes 93 provence-alpes-côte d\u0026#39;azur 7 ardèche 84 auvergne-rhône-alpes 8 ardennes 44 grand est 9 ariège 76 occitanie $ mlr --icsv --from depts.csv --opprint filter \u0026#39;$nom_departement =~ \u0026#34;^g\u0026#34;\u0026#39; code_departement nom_departement code_region nom_region 30 gard 76 occitanie 32 gers 76 occitanie 33 gironde 75 nouvelle-aquitaine 971 guadeloupe 1 guadeloupe 973 guyane 3 guyane exemple pour retrouver les communes de dordogne qui ont un code postal girondin (et oui, cela existe !) :\n$ mlr --icsv --from ~/téléchargements/communes-departement-region.csv filter -s \u0026#39;$code_commune_insee=~\u0026#34;^24\u0026#34; \u0026amp;\u0026amp; $code_postal=~\u0026#34;^33\u0026#34;\u0026#39; code_commune_insee=24189,nom_commune_postal=fougueyrolles,code_postal=33220,libelle_acheminement=fougueyrolles,ligne_5=,latitude=44.8684209151,longitude=0.188754198495,code_commune=189,article=,nom_commune=fougueyrolles,nom_commune_complet=fougueyrolles,code_departement=24,nom_departement=dordogne,code_region=75,nom_region=nouvelle-aquitaine code_commune_insee=24335,nom_commune_postal=port ste foy et ponchapt,code_postal=33220,libelle_acheminement=port ste foy et ponchapt,ligne_5=,latitude=44.8622535573,longitude=0.208854675888,code_commune=335,article=,nom_commune=port-sainte-foy-et-ponchapt,nom_commune_complet=port-sainte-foy-et-ponchapt,code_departement=24,nom_departement=dordogne,code_region=75,nom_region=nouvelle-aquitaine ","title":"miller, traiter les fichiers CSV (et autres) en ligne de commande"},{"date":"2021-09-01","image":"","imageAlt":"","link":"http://example.org/posts/2021-09-01-q4os-konsole-activer-les-emoji/","summary":"https://forum.manjaro.org/t/howto-enable-emoji-fonts/36695/3","tags":["konsole","q4os"],"text":"https://forum.manjaro.org/t/howto-enable-emoji-fonts/36695/3\n","title":"q4os, konsole, activer les emoji"},{"date":"2021-08-30","image":"","imageAlt":"","link":"http://example.org/posts/2021-08-30-linux-passage-macmini-2009-sous-linux/","summary":"Rappel des liens visionnés :\nhttps://youtu.be/5KaHNLR6Aac https://youtu.be/6g5G4Rl-v1w Matériel que j\u0026rsquo;ai acheté pour mon modèle de macmini\nhttps://www.amazon.fr/dp/B06XG36FV7/ref=pe_27091421_487052621_TE_item https://www.crucial.fr/ssd/mx500/ct250mx500ssd1 ","tags":["linux","macmini"],"text":"rappel des liens visionnés :\nhttps://youtu.be/5kahnlr6aac https://youtu.be/6g5g4rl-v1w matériel que j\u0026rsquo;ai acheté pour mon modèle de macmini\nhttps://www.amazon.fr/dp/b06xg36fv7/ref=pe_27091421_487052621_te_item https://www.crucial.fr/ssd/mx500/ct250mx500ssd1 ","title":"Linux, passage macmini 2009 sous linux"},{"date":"2021-08-30","image":"","imageAlt":"","link":"http://example.org/posts/2021-08-30-elementaryos-transparence-terminal/","summary":"$ gsettings get io.elementary.terminal.settings background \u0026#39;rgba(46, 46, 46, 0.95)\u0026#39; $ gsettings set io.elementary.terminal.settings background \u0026#39;rgba(46, 46, 46, 0.75)\u0026#39; $ gsettings set io.elementary.terminal.settings background \u0026#39;rgba(46, 46, 46, 1)\u0026#39; $ ","tags":["gnome"],"text":"$ gsettings get io.elementary.terminal.settings background \u0026#39;rgba(46, 46, 46, 0.95)\u0026#39; $ gsettings set io.elementary.terminal.settings background \u0026#39;rgba(46, 46, 46, 0.75)\u0026#39; $ gsettings set io.elementary.terminal.settings background \u0026#39;rgba(46, 46, 46, 1)\u0026#39; $ ","title":"elementaryos, transparence terminal"},{"date":"2021-08-30","image":"","imageAlt":"","link":"http://example.org/posts/2021-08-30-q4os-distribution-linux/","summary":"Sur un macmini de 2009 que j\u0026rsquo;ai upgradé en mémoire + disque dur (8G, SSD), j\u0026rsquo;ai eu des petits soucis pour trouver LA bonne distribution.\nJ\u0026rsquo;ai eu des problèmes de souris (pointeur lent parfois au redémarrage) et des problèmes de touche \u0026ldquo;mangée\u0026rdquo; lors des frappes au clavier.\nSi la déconnexion du cable USB pour la souris et reconnexion sur un autre port USB, résolvait le problème, ce n\u0026rsquo;était pas le cas pour le clavier.","tags":["distribution","elementaryOS","linux","q4os"],"text":"sur un macmini de 2009 que j\u0026rsquo;ai upgradé en mémoire + disque dur (8g, ssd), j\u0026rsquo;ai eu des petits soucis pour trouver la bonne distribution.\nj\u0026rsquo;ai eu des problèmes de souris (pointeur lent parfois au redémarrage) et des problèmes de touche \u0026ldquo;mangée\u0026rdquo; lors des frappes au clavier.\nsi la déconnexion du cable usb pour la souris et reconnexion sur un autre port usb, résolvait le problème, ce n\u0026rsquo;était pas le cas pour le clavier.\ncela me l\u0026rsquo;a fait sur elementaryos.\nj\u0026rsquo;ai tenté la distribution q4os et n\u0026rsquo;ai pas ce genre de problème avec.\n","title":"q4os, distribution linux"},{"date":"2021-08-30","image":"","imageAlt":"","link":"http://example.org/posts/2021-08-30-scanner-brother-ads1600w-probleme-linux-lors-de-l-envoi-en-ftp/","summary":"L\u0026rsquo;envoi en FTP ne fonctionne pas avec le paquet vsftpd (bien que l\u0026rsquo;envoi d\u0026rsquo;une page de test depuis l\u0026rsquo;interface de gestion du scanner indique OK).\nsudo apt install vsftpd Lors du scan d\u0026rsquo;un document réel, le scanner indique \u0026ldquo;Sending error\u0026rdquo; sans plus d\u0026rsquo;information.\nEn changeant le serveur FTP, cela passe.\nPrendre\nsudo apt install pure-ftpd-common ","tags":["ftp","scanner"],"text":"l\u0026rsquo;envoi en ftp ne fonctionne pas avec le paquet vsftpd (bien que l\u0026rsquo;envoi d\u0026rsquo;une page de test depuis l\u0026rsquo;interface de gestion du scanner indique ok).\nsudo apt install vsftpd lors du scan d\u0026rsquo;un document réel, le scanner indique \u0026ldquo;sending error\u0026rdquo; sans plus d\u0026rsquo;information.\nen changeant le serveur ftp, cela passe.\nprendre\nsudo apt install pure-ftpd-common ","title":"Scanner Brother ADS1600W, problème linux lors de l'envoi en FTP"},{"date":"2021-08-30","image":"","imageAlt":"","link":"http://example.org/posts/2021-08-30-linux-rebooter-lorsque-l-interface-graphique-est-figee/","summary":"Si les ctrl alt F1 (etc\u0026hellip;) ne permettent pas de basculer sur une console texte pour tuer les processus récalcitrants, il est possible de rebooter en utilisant une commande magique\nalt Impr (syst) r e i s u b\nSource : https://fr.wikipedia.org/wiki/Magic_SysRq_key","tags":["reboot"],"text":"si les ctrl alt f1 (etc\u0026hellip;) ne permettent pas de basculer sur une console texte pour tuer les processus récalcitrants, il est possible de rebooter en utilisant une commande magique\nalt impr (syst) r e i s u b\nsource : https://fr.wikipedia.org/wiki/magic_sysrq_key\n","title":"Linux, rebooter lorsque l'interface graphique est  figée"},{"date":"2021-07-07","image":"","imageAlt":"","link":"http://example.org/posts/2021-07-07-linux-clavier-et-souris-bluetooth/","summary":"Procédure pour appairer clavier \u0026amp; souris bluetooth sur linux.\n$ bluetoothctl \u0026gt; scan on [NEW] Device D8:2A:5E:FB:5C:9C Trackpad de System Administrator \u0026gt; pair D8:2A:5E:FB:5C:9C \u0026gt; connect D8:2A:5E:FB:5C:9C \u0026gt; trust D8:2A:5E:FB:5C:9C [NEW] Device 60:BF:42:05:D6:33 Keyboard de System Administrator \u0026gt; pair 60:BF:42:05:D6:33 [agent] PIN code: 899777 [CHG] Device 60:BF:42:05:D6:33 Paired: yes Pairing successful \u0026gt; connect 60:BF:42:05:D6:33 \u0026gt; trust 60:BF:42:05:D6:33 \u0026gt; quit ","tags":["bluetooth"],"text":"procédure pour appairer clavier \u0026amp; souris bluetooth sur linux.\n$ bluetoothctl \u0026gt; scan on [new] device d8:2a:5e:fb:5c:9c trackpad de system administrator \u0026gt; pair d8:2a:5e:fb:5c:9c \u0026gt; connect d8:2a:5e:fb:5c:9c \u0026gt; trust d8:2a:5e:fb:5c:9c [new] device 60:bf:42:05:d6:33 keyboard de system administrator \u0026gt; pair 60:bf:42:05:d6:33 [agent] pin code: 899777 [chg] device 60:bf:42:05:d6:33 paired: yes pairing successful \u0026gt; connect 60:bf:42:05:d6:33 \u0026gt; trust 60:bf:42:05:d6:33 \u0026gt; quit ","title":"linux, clavier et souris bluetooth"},{"date":"2021-05-21","image":"","imageAlt":"","link":"http://example.org/posts/2021-05-21-virtualbox-connaitre-l-ip-de-la-machine-hote/","summary":"Dans le terminal de la VM, ipconfig donne l\u0026rsquo;information dans\nPasserelle par défaut. . . . . . . . . : xxx netstat -rn donne l\u0026rsquo;information dans \u0026ldquo;Adr. passerelle\u0026rdquo;\nDestination réseau Masque réseau Adr. passerelle Adr. interface Métrique 0.0.0.0 0.0.0.0 xxx yyy 10 ","tags":["commandes","ipconfig","virtualbox"],"text":"dans le terminal de la vm, ipconfig donne l\u0026rsquo;information dans\npasserelle par défaut. . . . . . . . . : xxx netstat -rn donne l\u0026rsquo;information dans \u0026ldquo;adr. passerelle\u0026rdquo;\ndestination réseau masque réseau adr. passerelle adr. interface métrique 0.0.0.0 0.0.0.0 xxx yyy 10 ","title":"VirtualBox, connaitre l'IP de la machine hôte"},{"date":"2021-05-21","image":"","imageAlt":"","link":"http://example.org/posts/2021-05-21-virtualbox-activer-le-copier-coller-depuis-vers-la-machine-hote/","summary":"Aller dans le menu de la VM (barre menu VirtualBox) Périphérique \u0026gt; Presse-papier partagé \u0026gt; Bidirectionnel","tags":["virtualbox"],"text":"aller dans le menu de la vm (barre menu virtualbox) périphérique \u0026gt; presse-papier partagé \u0026gt; bidirectionnel\n","title":"VirtualBox, activer le copier/coller depuis/vers la machine hôte"},{"date":"2021-05-04","image":"","imageAlt":"","link":"http://example.org/posts/2021-05-04-bash-copier-les-fichiers-d-une-sortie-standard-vers-un-repertoire-en-utilisant-xargs-et-cp/","summary":"find . -name *.tgz | xargs cp -t ~/OLD/ ","tags":["bash","cp","xargs"],"text":"find . -name *.tgz | xargs cp -t ~/old/ ","title":"bash, copier les fichiers d'une sortie standard vers un répertoire en utilisant xargs et cp"},{"date":"2021-04-13","image":"","imageAlt":"","link":"http://example.org/posts/2021-04-13-intellij-ctrl+shift-u-toogle-case-ne-fonctionne-pas/","summary":"Le raccourci ctrl shift u (toogle case) ne fonctionne pas, il propose de saisir un code unicode (Linux Ubuntu : Unity).\nAjouter après le shebang du fichier bin/idea.sh :\nexport XMODIFIERS=\u0026#34;\u0026#34; ","tags":["intellij"],"text":"le raccourci ctrl shift u (toogle case) ne fonctionne pas, il propose de saisir un code unicode (linux ubuntu : unity).\najouter après le shebang du fichier bin/idea.sh :\nexport xmodifiers=\u0026#34;\u0026#34; ","title":"intellij, ctrl+shift u (toogle case) ne fonctionne pas"},{"date":"2021-04-01","image":"","imageAlt":"","link":"http://example.org/posts/2021-04-01-pratiques-securite/","summary":"Headers Http sur toutes les pages délivrées resp.addHeader(\u0026#34;X-Frame-Options\u0026#34;, \u0026#34;DENY\u0026#34;); resp.addHeader(\u0026#34;X-XSS-Protection\u0026#34;, \u0026#34;1; mode=block\u0026#34;); resp.addHeader(\u0026#34;X-Content-Type-Options\u0026#34;, \u0026#34;nosniff\u0026#34;); Header Http positionné lors de la création d\u0026rsquo;un HttpSession response.setHeader(\u0026#34;Set-Cookie\u0026#34;, \u0026#34;JSESSIONID=\u0026#34; + session.getId() + \u0026#34;; Path=/; HttpOnly\u0026#34;); Injection SQL Ne pas créer les requêtes SQL par concaténation / formatage de chaîne (%s)\n=\u0026gt; N\u0026rsquo;utiliser que des PreparedStatement (les paramètres sont échappés automatiquement)\nSortie page HTML Ne pas renvoyer de code HTML : si une donnée de la BDD contient un code JS injecté, il peut se retrouver exécuté lors de l\u0026rsquo;affichage","tags":["sécurité"],"text":"headers http sur toutes les pages délivrées resp.addheader(\u0026#34;x-frame-options\u0026#34;, \u0026#34;deny\u0026#34;); resp.addheader(\u0026#34;x-xss-protection\u0026#34;, \u0026#34;1; mode=block\u0026#34;); resp.addheader(\u0026#34;x-content-type-options\u0026#34;, \u0026#34;nosniff\u0026#34;); header http positionné lors de la création d\u0026rsquo;un httpsession response.setheader(\u0026#34;set-cookie\u0026#34;, \u0026#34;jsessionid=\u0026#34; + session.getid() + \u0026#34;; path=/; httponly\u0026#34;); injection sql ne pas créer les requêtes sql par concaténation / formatage de chaîne (%s)\n=\u0026gt; n\u0026rsquo;utiliser que des preparedstatement (les paramètres sont échappés automatiquement)\nsortie page html ne pas renvoyer de code html : si une donnée de la bdd contient un code js injecté, il peut se retrouver exécuté lors de l\u0026rsquo;affichage\nremplacer les caractères \u0026lt; \u0026gt; \u0026amp; \u0026rsquo; par leur entités html en sortie\nentrée formulaire html vérifier les paramètres, formats\u0026hellip; côté serveur (en plus du côté client)\nun filtre (implements javax.servlet.filter) peut être mis en place par exemple pour vérifier si les paramètres contiennent du code html, etc. =\u0026gt; permet de centraliser les vérifications, mais peut-être complexe (exemple : post avec body en json contenant une valeur avec du code html) si stocké en bdd, le code peut-être joué (si pas échappé en sortie)\njeton anti csrf ajouter dans les formulaires du site a un jeton (champ caché) qui sera vérifié lors de la soumission. ca permet d\u0026rsquo;éviter qu\u0026rsquo;un site tiers b formate une url (incluse dans sa page) qui sera jouée par le navigateur de l\u0026rsquo;utilisateur sur le site a.\nexceptions rattraper les exceptions et ne pas afficher la stack (pourrait indiquer une ip, nom de machine, chemin disque\u0026hellip;)\nmettre dans la page html un uuid et dans le local7 l\u0026rsquo;uuid avec la pile d\u0026rsquo;exception.\nutiliser une page d\u0026rsquo;erreur spécifique (il me semble que de base, la page d\u0026rsquo;exception affiche la version tomcat)\ncôté système : ne pas donner les versions apache / tomcat dans les headers de réponse.\n","title":"pratiques sécurité"},{"date":"2021-03-31","image":"","imageAlt":"","link":"http://example.org/posts/2021-03-31-ssh-acceder-a-un-site-derriere-un-vpn-via-une-vm/","summary":"Un petit schéma pour expliquer comment j\u0026rsquo;accède à fitnesse depuis mon poste linux.\nLe VPN est monté dans la VM, un local port forwarding permet d\u0026rsquo;accéder à fitnesse dans la VM.\nUn remote port forwarding permet d\u0026rsquo;écouter et répondre aux interrogations faites depuis le poste linux.","tags":["ssh","vm","vpn"],"text":"un petit schéma pour expliquer comment j\u0026rsquo;accède à fitnesse depuis mon poste linux.\nle vpn est monté dans la vm, un local port forwarding permet d\u0026rsquo;accéder à fitnesse dans la vm.\nun remote port forwarding permet d\u0026rsquo;écouter et répondre aux interrogations faites depuis le poste linux.\n","title":"ssh, accéder à un site derrière un VPN via une VM"},{"date":"2021-03-04","image":"","imageAlt":"","link":"http://example.org/posts/2021-03-04-grep-extraire-des-donnees/","summary":"Il est possible d\u0026rsquo;utiliser grep pour extraire des données.\nDans l\u0026rsquo;exemple qui suit, on récupère le nom des compagnies dans un fichier json.\ns=\u0026#39;[{\u0026#34;_id\u0026#34;:\u0026#34;6040e2f5ed4a6976ab0e8719\u0026#34;,\u0026#34;index\u0026#34;:0,\u0026#34;guid\u0026#34;:\u0026#34;5b71d966-1df3-4f22-8941-27d83e0181f2\u0026#34;,\u0026#34;isActive\u0026#34;:true,\u0026#34;balance\u0026#34;:\u0026#34;$2,464.05\u0026#34;,\u0026#34;picture\u0026#34;:\u0026#34;http://placehold.it/32x32\u0026#34;,\u0026#34;age\u0026#34;:36,\u0026#34;eyeColor\u0026#34;:\u0026#34;brown\u0026#34;,\u0026#34;name\u0026#34;:\u0026#34;House Hays\u0026#34;,\u0026#34;gender\u0026#34;:\u0026#34;male\u0026#34;,\u0026#34;company\u0026#34;:\u0026#34;WEBIOTIC\u0026#34;,\u0026#34;email\u0026#34;:\u0026#34;househays@webiotic.com\u0026#34;,\u0026#34;phone\u0026#34;:\u0026#34;+1 (921) 461-3048\u0026#34;,\u0026#34;address\u0026#34;:\u0026#34;246 Butler Street, Lydia, Federated States Of Micronesia, 8224\u0026#34;,\u0026#34;about\u0026#34;:\u0026#34;Labore proident eu non dolor reprehenderit et qui et pariatur. Consectetur quis incididunt aliqua cupidatat exercitation ex nulla ullamco reprehenderit deserunt. Velit cillum elit esse eu eiusmod cupidatat in fugiat ullamco. Labore labore officia minim sunt do.","tags":["awk","grep","sed"],"text":"il est possible d\u0026rsquo;utiliser grep pour extraire des données.\ndans l\u0026rsquo;exemple qui suit, on récupère le nom des compagnies dans un fichier json.\ns=\u0026#39;[{\u0026#34;_id\u0026#34;:\u0026#34;6040e2f5ed4a6976ab0e8719\u0026#34;,\u0026#34;index\u0026#34;:0,\u0026#34;guid\u0026#34;:\u0026#34;5b71d966-1df3-4f22-8941-27d83e0181f2\u0026#34;,\u0026#34;isactive\u0026#34;:true,\u0026#34;balance\u0026#34;:\u0026#34;$2,464.05\u0026#34;,\u0026#34;picture\u0026#34;:\u0026#34;http://placehold.it/32x32\u0026#34;,\u0026#34;age\u0026#34;:36,\u0026#34;eyecolor\u0026#34;:\u0026#34;brown\u0026#34;,\u0026#34;name\u0026#34;:\u0026#34;house hays\u0026#34;,\u0026#34;gender\u0026#34;:\u0026#34;male\u0026#34;,\u0026#34;company\u0026#34;:\u0026#34;webiotic\u0026#34;,\u0026#34;email\u0026#34;:\u0026#34;househays@webiotic.com\u0026#34;,\u0026#34;phone\u0026#34;:\u0026#34;+1 (921) 461-3048\u0026#34;,\u0026#34;address\u0026#34;:\u0026#34;246 butler street, lydia, federated states of micronesia, 8224\u0026#34;,\u0026#34;about\u0026#34;:\u0026#34;labore proident eu non dolor reprehenderit et qui et pariatur. consectetur quis incididunt aliqua cupidatat exercitation ex nulla ullamco reprehenderit deserunt. velit cillum elit esse eu eiusmod cupidatat in fugiat ullamco. labore labore officia minim sunt do. mollit nisi tempor amet in dolor nostrud ipsum. enim dolore ipsum ad aliquip excepteur in dolore culpa ullamco officia fugiat do sint mollit. anim et enim nulla laboris irure aute eu excepteur sunt sint.\\r\\n\u0026#34;,\u0026#34;registered\u0026#34;:\u0026#34;2015-10-22t07:38:03 -02:00\u0026#34;,\u0026#34;latitude\u0026#34;:-79.514578,\u0026#34;longitude\u0026#34;:109.061478,\u0026#34;tags\u0026#34;:[\u0026#34;ad\u0026#34;,\u0026#34;laboris\u0026#34;,\u0026#34;proident\u0026#34;,\u0026#34;exercitation\u0026#34;,\u0026#34;exercitation\u0026#34;,\u0026#34;excepteur\u0026#34;,\u0026#34;consectetur\u0026#34;],\u0026#34;friends\u0026#34;:[{\u0026#34;id\u0026#34;:0,\u0026#34;name\u0026#34;:\u0026#34;edwards cooper\u0026#34;},{\u0026#34;id\u0026#34;:1,\u0026#34;name\u0026#34;:\u0026#34;simpson walker\u0026#34;},{\u0026#34;id\u0026#34;:2,\u0026#34;name\u0026#34;:\u0026#34;moore stone\u0026#34;}],\u0026#34;greeting\u0026#34;:\u0026#34;hello, house hays! you have 3 unread messages.\u0026#34;,\u0026#34;favoritefruit\u0026#34;:\u0026#34;banana\u0026#34;},{\u0026#34;_id\u0026#34;:\u0026#34;6040e2f5385b7b47615c878e\u0026#34;,\u0026#34;index\u0026#34;:1,\u0026#34;guid\u0026#34;:\u0026#34;7533ebb0-4155-497f-a638-86bbc88f2359\u0026#34;,\u0026#34;isactive\u0026#34;:true,\u0026#34;balance\u0026#34;:\u0026#34;$1,895.01\u0026#34;,\u0026#34;picture\u0026#34;:\u0026#34;http://placehold.it/32x32\u0026#34;,\u0026#34;age\u0026#34;:32,\u0026#34;eyecolor\u0026#34;:\u0026#34;blue\u0026#34;,\u0026#34;name\u0026#34;:\u0026#34;whitley petersen\u0026#34;,\u0026#34;gender\u0026#34;:\u0026#34;male\u0026#34;,\u0026#34;company\u0026#34;:\u0026#34;rugstars\u0026#34;,\u0026#34;email\u0026#34;:\u0026#34;whitleypetersen@rugstars.com\u0026#34;,\u0026#34;phone\u0026#34;:\u0026#34;+1 (898) 523-3046\u0026#34;,\u0026#34;address\u0026#34;:\u0026#34;954 downing street, mulberry, new york, 837\u0026#34;,\u0026#34;about\u0026#34;:\u0026#34;consequat dolor non enim exercitation. ipsum nulla aliqua dolor non excepteur eu dolore. veniam laboris nulla elit exercitation est ut eiusmod amet consequat lorem. cupidatat ea aute do ipsum culpa dolor lorem. aliqua eiusmod exercitation do aliqua consequat pariatur cillum labore laboris reprehenderit ad nulla velit. non et nostrud pariatur laborum sint magna et dolor elit. deserunt nostrud culpa minim velit incididunt excepteur laborum.\\r\\n\u0026#34;,\u0026#34;registered\u0026#34;:\u0026#34;2020-04-09t11:24:58 -02:00\u0026#34;,\u0026#34;latitude\u0026#34;:-33.683353,\u0026#34;longitude\u0026#34;:-110.189524,\u0026#34;tags\u0026#34;:[\u0026#34;do\u0026#34;,\u0026#34;elit\u0026#34;,\u0026#34;dolore\u0026#34;,\u0026#34;sint\u0026#34;,\u0026#34;ullamco\u0026#34;,\u0026#34;cillum\u0026#34;,\u0026#34;deserunt\u0026#34;],\u0026#34;friends\u0026#34;:[{\u0026#34;id\u0026#34;:0,\u0026#34;name\u0026#34;:\u0026#34;debbie wolf\u0026#34;},{\u0026#34;id\u0026#34;:1,\u0026#34;name\u0026#34;:\u0026#34;agnes wilcox\u0026#34;},{\u0026#34;id\u0026#34;:2,\u0026#34;name\u0026#34;:\u0026#34;marie williams\u0026#34;}],\u0026#34;greeting\u0026#34;:\u0026#34;hello, whitley petersen! you have 6 unread messages.\u0026#34;,\u0026#34;favoritefruit\u0026#34;:\u0026#34;banana\u0026#34;},{\u0026#34;_id\u0026#34;:\u0026#34;6040e2f5174a92a3e83ffa0b\u0026#34;,\u0026#34;index\u0026#34;:2,\u0026#34;guid\u0026#34;:\u0026#34;3c93e708-98a3-4316-ae31-c34b06e615c3\u0026#34;,\u0026#34;isactive\u0026#34;:true,\u0026#34;balance\u0026#34;:\u0026#34;$3,116.35\u0026#34;,\u0026#34;picture\u0026#34;:\u0026#34;http://placehold.it/32x32\u0026#34;,\u0026#34;age\u0026#34;:34,\u0026#34;eyecolor\u0026#34;:\u0026#34;brown\u0026#34;,\u0026#34;name\u0026#34;:\u0026#34;maribel palmer\u0026#34;,\u0026#34;gender\u0026#34;:\u0026#34;female\u0026#34;,\u0026#34;company\u0026#34;:\u0026#34;pyramis\u0026#34;,\u0026#34;email\u0026#34;:\u0026#34;maribelpalmer@pyramis.com\u0026#34;,\u0026#34;phone\u0026#34;:\u0026#34;+1 (981) 596-3081\u0026#34;,\u0026#34;address\u0026#34;:\u0026#34;810 prince street, bethpage, oregon, 3792\u0026#34;,\u0026#34;about\u0026#34;:\u0026#34;magna deserunt ex do laborum. velit magna esse pariatur qui sit fugiat adipisicing est labore veniam adipisicing non velit laboris. deserunt enim aliquip ad consectetur aliqua non commodo.\\r\\n\u0026#34;,\u0026#34;registered\u0026#34;:\u0026#34;2019-08-28t09:48:02 -02:00\u0026#34;,\u0026#34;latitude\u0026#34;:-9.35305,\u0026#34;longitude\u0026#34;:-139.197267,\u0026#34;tags\u0026#34;:[\u0026#34;exercitation\u0026#34;,\u0026#34;ad\u0026#34;,\u0026#34;officia\u0026#34;,\u0026#34;qui\u0026#34;,\u0026#34;aliquip\u0026#34;,\u0026#34;quis\u0026#34;,\u0026#34;ea\u0026#34;],\u0026#34;friends\u0026#34;:[{\u0026#34;id\u0026#34;:0,\u0026#34;name\u0026#34;:\u0026#34;ines johnson\u0026#34;},{\u0026#34;id\u0026#34;:1,\u0026#34;name\u0026#34;:\u0026#34;jacquelyn matthews\u0026#34;},{\u0026#34;id\u0026#34;:2,\u0026#34;name\u0026#34;:\u0026#34;april hayes\u0026#34;}],\u0026#34;greeting\u0026#34;:\u0026#34;hello, maribel palmer! you have 6 unread messages.\u0026#34;,\u0026#34;favoritefruit\u0026#34;:\u0026#34;banana\u0026#34;},{\u0026#34;_id\u0026#34;:\u0026#34;6040e2f5e6aa8f70f5d40970\u0026#34;,\u0026#34;index\u0026#34;:3,\u0026#34;guid\u0026#34;:\u0026#34;6b79f9a7-39d5-4076-bc0e-b2c00e88c99a\u0026#34;,\u0026#34;isactive\u0026#34;:false,\u0026#34;balance\u0026#34;:\u0026#34;$3,668.00\u0026#34;,\u0026#34;picture\u0026#34;:\u0026#34;http://placehold.it/32x32\u0026#34;,\u0026#34;age\u0026#34;:23,\u0026#34;eyecolor\u0026#34;:\u0026#34;green\u0026#34;,\u0026#34;name\u0026#34;:\u0026#34;sheppard branch\u0026#34;,\u0026#34;gender\u0026#34;:\u0026#34;male\u0026#34;,\u0026#34;company\u0026#34;:\u0026#34;utara\u0026#34;,\u0026#34;email\u0026#34;:\u0026#34;sheppardbranch@utara.com\u0026#34;,\u0026#34;phone\u0026#34;:\u0026#34;+1 (848) 436-2200\u0026#34;,\u0026#34;address\u0026#34;:\u0026#34;755 everett avenue, boykin, nevada, 8790\u0026#34;,\u0026#34;about\u0026#34;:\u0026#34;excepteur mollit dolor ea nisi commodo. adipisicing id pariatur dolor ut culpa laborum exercitation ea ex excepteur culpa. cupidatat eu aute dolore quis deserunt velit enim sint nulla adipisicing lorem laboris labore. ut officia ad aute esse cupidatat enim labore tempor mollit lorem esse amet consectetur.\\r\\n\u0026#34;,\u0026#34;registered\u0026#34;:\u0026#34;2015-03-11t06:13:39 -01:00\u0026#34;,\u0026#34;latitude\u0026#34;:88.153716,\u0026#34;longitude\u0026#34;:161.643917,\u0026#34;tags\u0026#34;:[\u0026#34;sint\u0026#34;,\u0026#34;culpa\u0026#34;,\u0026#34;elit\u0026#34;,\u0026#34;consectetur\u0026#34;,\u0026#34;qui\u0026#34;,\u0026#34;consectetur\u0026#34;,\u0026#34;quis\u0026#34;],\u0026#34;friends\u0026#34;:[{\u0026#34;id\u0026#34;:0,\u0026#34;name\u0026#34;:\u0026#34;vicky terry\u0026#34;},{\u0026#34;id\u0026#34;:1,\u0026#34;name\u0026#34;:\u0026#34;stevens lawson\u0026#34;},{\u0026#34;id\u0026#34;:2,\u0026#34;name\u0026#34;:\u0026#34;manuela glenn\u0026#34;}],\u0026#34;greeting\u0026#34;:\u0026#34;hello, sheppard branch! you have 10 unread messages.\u0026#34;,\u0026#34;favoritefruit\u0026#34;:\u0026#34;strawberry\u0026#34;},{\u0026#34;_id\u0026#34;:\u0026#34;6040e2f5e42d8b2deda76c13\u0026#34;,\u0026#34;index\u0026#34;:4,\u0026#34;guid\u0026#34;:\u0026#34;02518c89-9f2c-41ee-92e7-ea83bb9c592e\u0026#34;,\u0026#34;isactive\u0026#34;:false,\u0026#34;balance\u0026#34;:\u0026#34;$1,503.78\u0026#34;,\u0026#34;picture\u0026#34;:\u0026#34;http://placehold.it/32x32\u0026#34;,\u0026#34;age\u0026#34;:26,\u0026#34;eyecolor\u0026#34;:\u0026#34;brown\u0026#34;,\u0026#34;name\u0026#34;:\u0026#34;winters robertson\u0026#34;,\u0026#34;gender\u0026#34;:\u0026#34;male\u0026#34;,\u0026#34;company\u0026#34;:\u0026#34;essensia\u0026#34;,\u0026#34;email\u0026#34;:\u0026#34;wintersrobertson@essensia.com\u0026#34;,\u0026#34;phone\u0026#34;:\u0026#34;+1 (974) 450-3181\u0026#34;,\u0026#34;address\u0026#34;:\u0026#34;722 dahlgreen place, keyport, indiana, 7084\u0026#34;,\u0026#34;about\u0026#34;:\u0026#34;mollit enim consectetur tempor nulla duis quis qui consectetur. veniam cillum minim laboris do quis. sit labore pariatur nostrud occaecat officia.\\r\\n\u0026#34;,\u0026#34;registered\u0026#34;:\u0026#34;2021-01-25t01:23:37 -01:00\u0026#34;,\u0026#34;latitude\u0026#34;:60.075124,\u0026#34;longitude\u0026#34;:94.701108,\u0026#34;tags\u0026#34;:[\u0026#34;cupidatat\u0026#34;,\u0026#34;consequat\u0026#34;,\u0026#34;culpa\u0026#34;,\u0026#34;sit\u0026#34;,\u0026#34;commodo\u0026#34;,\u0026#34;nulla\u0026#34;,\u0026#34;consectetur\u0026#34;],\u0026#34;friends\u0026#34;:[{\u0026#34;id\u0026#34;:0,\u0026#34;name\u0026#34;:\u0026#34;bridgett hampton\u0026#34;},{\u0026#34;id\u0026#34;:1,\u0026#34;name\u0026#34;:\u0026#34;macdonald oneill\u0026#34;},{\u0026#34;id\u0026#34;:2,\u0026#34;name\u0026#34;:\u0026#34;mills robinson\u0026#34;}],\u0026#34;greeting\u0026#34;:\u0026#34;hello, winters robertson! you have 10 unread messages.\u0026#34;,\u0026#34;favoritefruit\u0026#34;:\u0026#34;strawberry\u0026#34;}]\u0026#39; l\u0026rsquo;option -p active la compatibilité aux regexp perl, le -o la récupération du terme matché et enfin le \\k la suppression de la partie gauche dans le terme matché.\n$ echo $s | grep -po \u0026#39;\u0026#34;company\u0026#34;:\u0026#34;\\k[^\u0026#34;]+\u0026#39; webiotic rugstars pyramis utara essensia c\u0026rsquo;est plus simple que sed ou awk mais apparemment, le -p ne serait pas supporté sur toutes les distributions.\n","title":"grep, extraire des données"},{"date":"2021-02-10","image":"","imageAlt":"","link":"http://example.org/posts/2021-02-10-docker-pull-certificate-signed-by-unknown-authority/","summary":"For my case, the error was on \u0026ldquo;docker login\u0026rdquo; command.\nThe solution I found for my ubuntu: I downloaded the crt file via firefox (lock icon in the url adress bar) and save it :\n~/mydomain:1234.crt\nAfter that :\ncp ~/mydomain:1234.crt /usr/local/share/ca-certificates/ update-ca-certificates service docker restart Source: https://stackoverflow.com/a/62404469/3550759","tags":["certificat","docker"],"text":"for my case, the error was on \u0026ldquo;docker login\u0026rdquo; command.\nthe solution i found for my ubuntu: i downloaded the crt file via firefox (lock icon in the url adress bar) and save it :\n~/mydomain:1234.crt\nafter that :\ncp ~/mydomain:1234.crt /usr/local/share/ca-certificates/ update-ca-certificates service docker restart source: https://stackoverflow.com/a/62404469/3550759\n","title":"“docker pull” certificate signed by unknown authority"},{"date":"2021-01-08","image":"","imageAlt":"","link":"http://example.org/posts/2021-01-08-convertir-fichier-binaire-en-fichier-texte-contenant-une-trame-hexa/","summary":"Voici comment convertir un fichier binaire en un simple fichier texte contenant une trame hexa :\n$ hexdump -C PREMIER.wav | head -n 10 00000000 52 49 46 46 2c 17 00 00 57 41 56 45 66 6d 74 20 |RIFF,...WAVEfmt | 00000010 12 00 00 00 06 00 01 00 40 1f 00 00 40 1f 00 00 |........@...@...| 00000020 01 00 08 00 00 00 66 61 63 74 04 00 00 00 fa 16 |.","tags":["hexa","hexdump","wav"],"text":"voici comment convertir un fichier binaire en un simple fichier texte contenant une trame hexa :\n$ hexdump -c premier.wav | head -n 10 00000000 52 49 46 46 2c 17 00 00 57 41 56 45 66 6d 74 20 |riff,...wavefmt | 00000010 12 00 00 00 06 00 01 00 40 1f 00 00 40 1f 00 00 |........@...@...| 00000020 01 00 08 00 00 00 66 61 63 74 04 00 00 00 fa 16 |......fact......| 00000030 00 00 64 61 74 61 fa 16 00 00 55 54 54 54 55 55 |..data....utttuu| 00000040 55 54 57 57 57 54 55 55 54 57 57 55 55 d5 55 54 |utwwwtuutwwuu.ut| 00000050 57 54 55 d5 d5 d5 55 54 54 55 d5 d5 55 54 57 57 |wtu...uttu..utww| 00000060 54 55 54 54 57 57 57 57 57 54 54 54 54 55 54 54 |tuttwwwwwttttutt| 00000070 54 54 57 54 57 57 57 54 54 54 54 54 54 55 55 55 |ttwtwwwttttttuuu| 00000080 55 55 54 54 54 d5 55 d5 55 d5 55 d4 55 d4 d5 d7 |uuttt.u.u.u.u...| 00000090 d5 d7 d5 d7 55 d7 55 d4 54 d4 54 d7 54 d4 54 d4 |....u.u.t.t.t.t.| $ xxd -plain premier.wav | tr -d \u0026#39;\\n\u0026#39; \u0026gt; premier_hexa.txt $ head -c 500 premier_hexa.txt 524946462c17000057415645666d74201200000006000100401f0000401f00000100080000006661637404000000fa16000064617461fa16000055545454555555545757575455555457575555d55554575455d5d5d555545455d5d55554575754555454575757575754545454555454545457545757575454545454545555555555545454d555d555d555d455d4d5d7d5d7d5d755d755d454d454d754d454d454d754d754d454d7d5d655d7d5d45555575754565451d550d750d353d25cdf5eda5bc347f54efb7f87825a96e0ffe3c0ec66e0b0805a5e6d9c997b040f021496904f16978593ff691a000d0106051a19154df0ede04a6d6a6c67 ","title":"convertir fichier binaire en fichier texte contenant une trame hexa"},{"date":"2021-01-06","image":"","imageAlt":"","link":"http://example.org/posts/2021-01-06-ftpd-ouvrir-le-port-21/","summary":"En installant mon nouveau poste, j\u0026rsquo;ai eu un souci lors de la reconfiguration de mon scanner.\nLa résolution de nom se faisait mais le scanner n\u0026rsquo;arrivait pas à se connecter au serveur ftp fraichement installé.\nLe telnet sur le port 21 bloquait\u0026hellip;\nLa solution était d\u0026rsquo;ouvrir le port 21 avec la commande suivante :\n$ sudo ufw allow in ftp La règle a été ajoutée La règle a été ajoutée (v6) ","tags":["firewall","ftp"],"text":"en installant mon nouveau poste, j\u0026rsquo;ai eu un souci lors de la reconfiguration de mon scanner.\nla résolution de nom se faisait mais le scanner n\u0026rsquo;arrivait pas à se connecter au serveur ftp fraichement installé.\nle telnet sur le port 21 bloquait\u0026hellip;\nla solution était d\u0026rsquo;ouvrir le port 21 avec la commande suivante :\n$ sudo ufw allow in ftp la règle a été ajoutée la règle a été ajoutée (v6) ","title":"ftpd, ouvrir le port 21"},{"date":"2020-12-02","image":"","imageAlt":"","link":"http://example.org/posts/2020-12-02-docker-alpine-python-mariadb-modifications-pour-faire-tourner-les-tests-avec-python-mariadb-en-utilisant-mysql-python/","summary":"Erreurs vues et paquets installés :\napk add python3 python3-dev py3-virtualenv apk add python2 python2-dev apk add mariadb-dev #error: command \u0026#39;gcc\u0026#39; failed with exit status 1 # ---------------------------------------- # ERROR: Failed building wheel for MySQL-python apk add gcc #19 | #include \u0026lt;limits.h\u0026gt; # | ^~~~~~~~~~ # compilation terminated. # error: command \u0026#39;gcc\u0026#39; failed with exit status 1 apk add libc-dev #_mysql.c: In function \u0026#39;_mysql_ConnectionObject_ping\u0026#39;: #_mysql.c:1804:41: error: \u0026#39;MYSQL\u0026#39; {aka \u0026#39;struct st_mysql\u0026#39;} has no member named \u0026#39;reconnect\u0026#39; #1804 | if ( reconnect !","tags":["alpine","docker","mariadb"],"text":"erreurs vues et paquets installés :\napk add python3 python3-dev py3-virtualenv apk add python2 python2-dev apk add mariadb-dev #error: command \u0026#39;gcc\u0026#39; failed with exit status 1 # ---------------------------------------- # error: failed building wheel for mysql-python apk add gcc #19 | #include \u0026lt;limits.h\u0026gt; # | ^~~~~~~~~~ # compilation terminated. # error: command \u0026#39;gcc\u0026#39; failed with exit status 1 apk add libc-dev #_mysql.c: in function \u0026#39;_mysql_connectionobject_ping\u0026#39;: #_mysql.c:1804:41: error: \u0026#39;mysql\u0026#39; {aka \u0026#39;struct st_mysql\u0026#39;} has no member named \u0026#39;reconnect\u0026#39; #1804 | if ( reconnect != -1 ) self-\u0026gt;connection.reconnect = reconnect; # | ^ #error: command \u0026#39;gcc\u0026#39; failed with exit status 1 #https://github.com/defectdojo/django-defectdojo/issues/407#issuecomment-415862064 sed \u0026#39;/st_mysql_options options;/a unsigned int reconnect;\u0026#39; /usr/include/mysql/mysql.h -i.bkp ","title":"docker, alpine, python, mariadb : Modifications pour faire tourner les tests avec python / mariadb en utilisant MySQL-python"},{"date":"2020-12-02","image":"","imageAlt":"","link":"http://example.org/posts/2020-12-02-docker-alpine-mariadb-ce-que-j-en-pense/","summary":"J\u0026rsquo;ai voulu passer à alpine à cause de la taille de l\u0026rsquo;image produite et parce qu\u0026rsquo;elle boote vite.\nJe voulais améliorer les performances du pipeline de mon projet.\nJ\u0026rsquo;ai eu beaucoup de déboires pour :\ncomprendre et réussir à faire tourner le service MariaDB dans docker (je voulais une image généraliste qui ne fasse pas que MariaDB mais aussi du java/maven \u0026amp; du python2.7) contourner des problèmes pour réussir à configurer mariadb convenablement (actuellement les postes de dévs et le gitlab sont en mysql alors que nos serveurs d\u0026rsquo;intégration/préproduction/production sont passés en MariaDB).","tags":["alpine","docker","mariadb"],"text":"j\u0026rsquo;ai voulu passer à alpine à cause de la taille de l\u0026rsquo;image produite et parce qu\u0026rsquo;elle boote vite.\nje voulais améliorer les performances du pipeline de mon projet.\nj\u0026rsquo;ai eu beaucoup de déboires pour :\ncomprendre et réussir à faire tourner le service mariadb dans docker (je voulais une image généraliste qui ne fasse pas que mariadb mais aussi du java/maven \u0026amp; du python2.7) contourner des problèmes pour réussir à configurer mariadb convenablement (actuellement les postes de dévs et le gitlab sont en mysql alors que nos serveurs d\u0026rsquo;intégration/préproduction/production sont passés en mariadb). les sysadmins m\u0026rsquo;ont aiguillé. corriger des pbs d\u0026rsquo;appels depuis les tests java ou python hier, soir, j\u0026rsquo;arrive enfin à faire tourner les tests\u0026hellip; et désenchantement !\nles tests sont extrèmement lents sous alpine ! trop c\u0026rsquo;est trop\u0026hellip;\n(alpine) ran 110 tests in 379.308s ok __ _____ \\\\ \\\\ / /__| \\\\ v /\\\\__\\\\ \\\\_/ |___/ (ubuntu) ran 110 tests in 178.103s ok apparemment c\u0026rsquo;est connu\u0026hellip; je vais en rester là, peut-être aller voir du côté de debian:buster-slim\nréférences additionnelles\nhttps://andygrove.io/2020/05/why-musl-extremely-slow/ https://medium.com/swlh/alpine-slim-stretch-buster-jessie-bullseye-bookworm-what-are-the-differences-in-docker-62171ed4531d ","title":"docker / alpine / mariadb : ce que j'en pense...."},{"date":"2020-12-02","image":"","imageAlt":"","link":"http://example.org/posts/2020-12-02-docker-alpine-mariadb-ce-qui-m-a-ete-necessaire/","summary":"Voici ce qui m\u0026rsquo;a été nécessaire :\n#!/bin/bash apk add openrc # Avoid Service `hwdrivers\u0026#39; needs non existent service `dev\u0026#39; #/ # rc-status # * Caching service dependencies ... #Service `hwdrivers\u0026#39; needs non existent service `dev\u0026#39; [ ok ] #Runlevel: sysinit apk add udev-init-scripts-openrc apk add mariadb mariadb-client mariadb-server-utils pwgen mysql_install_db --user=mysql --ldata=/var/lib/mysql # com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure # due to : skip-networking # https://stackoverflow.com/a/2985169/3550759 # # Specified key was too long; max key length is 767 bytes # due to : innodb-default-row-format \u0026amp;\u0026amp; (maybe) innodb_strict_mode sed -e \u0026#39;/^\\\\[mysqld\\\\]/a innodb_strict_mode=0\u0026#39; \\\\ -e \u0026#39;/^\\\\[mysqld\\\\]/a innodb-default-row-format=dynamic\u0026#39; \\\\ -e \u0026#39;/^\\\\[mysqld\\\\]/a sql-mode=\u0026#34;ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION\u0026#34;\u0026#39; \\\\ -e \u0026#39;/^skip-networking/c #skip-networking\u0026#39; \\\\ -i /etc/my.","tags":["alpine","docker","mariadb"],"text":"voici ce qui m\u0026rsquo;a été nécessaire :\n#!/bin/bash apk add openrc # avoid service `hwdrivers\u0026#39; needs non existent service `dev\u0026#39; #/ # rc-status # * caching service dependencies ... #service `hwdrivers\u0026#39; needs non existent service `dev\u0026#39; [ ok ] #runlevel: sysinit apk add udev-init-scripts-openrc apk add mariadb mariadb-client mariadb-server-utils pwgen mysql_install_db --user=mysql --ldata=/var/lib/mysql # com.mysql.jdbc.exceptions.jdbc4.communicationsexception: communications link failure # due to : skip-networking # https://stackoverflow.com/a/2985169/3550759 # # specified key was too long; max key length is 767 bytes # due to : innodb-default-row-format \u0026amp;\u0026amp; (maybe) innodb_strict_mode sed -e \u0026#39;/^\\\\[mysqld\\\\]/a innodb_strict_mode=0\u0026#39; \\\\ -e \u0026#39;/^\\\\[mysqld\\\\]/a innodb-default-row-format=dynamic\u0026#39; \\\\ -e \u0026#39;/^\\\\[mysqld\\\\]/a sql-mode=\u0026#34;error_for_division_by_zero,no_auto_create_user,no_engine_substitution\u0026#34;\u0026#39; \\\\ -e \u0026#39;/^skip-networking/c #skip-networking\u0026#39; \\\\ -i /etc/my.cnf.d/mariadb-server.cnf rc-update add mariadb \u0026amp;\u0026amp; mkdir -p /run/openrc/ \u0026amp;\u0026amp; touch /run/openrc/softlevel attention, ça ne démarre pas étrangement si on ne fait pas le rc-status auparavent\u0026hellip;\nrc-status rc-service mariadb start ","title":"docker, alpine, mariadb: ce qui m'a été nécessaire..."},{"date":"2020-12-02","image":"","imageAlt":"","link":"http://example.org/posts/2020-12-02-docker-alpine-mariadb-specified-key-was-too-long-max-key-length-is-767-bytes/","summary":"Contourner l\u0026rsquo;erreur Specified key was too long; max key length is 767 bytes :\nsed -e \u0026#39;/^\\\\[mysqld\\\\]/a innodb_strict_mode=0\u0026#39; \\\\ -e \u0026#39;/^\\\\[mysqld\\\\]/a innodb-default-row-format=dynamic\u0026#39; \\\\ -i /etc/my.cnf.d/mariadb-server.cnf ","tags":["alpine","docker","mariadb"],"text":"contourner l\u0026rsquo;erreur specified key was too long; max key length is 767 bytes :\nsed -e \u0026#39;/^\\\\[mysqld\\\\]/a innodb_strict_mode=0\u0026#39; \\\\ -e \u0026#39;/^\\\\[mysqld\\\\]/a innodb-default-row-format=dynamic\u0026#39; \\\\ -i /etc/my.cnf.d/mariadb-server.cnf ","title":"docker, alpine, mariadb: Specified key was too long; max key length is 767 bytes"},{"date":"2020-12-02","image":"","imageAlt":"","link":"http://example.org/posts/2020-12-02-docker-alpine-mariadb-com-mysql-jdbc-exceptions-jdbc4-communicationsexception-communications-link-failure/","summary":"La connexion se fait en ligne de commande mais pas depuis les tests unitaires lancés par maven.\nsed -e \u0026#39;/^skip-networking/c #skip-networking\u0026#39; -i /etc/my.cnf.d/mariadb-server.cnf Source: https://stackoverflow.com/a/2985169/3550759","tags":["alpine","docker","mariadb"],"text":"la connexion se fait en ligne de commande mais pas depuis les tests unitaires lancés par maven.\nsed -e \u0026#39;/^skip-networking/c #skip-networking\u0026#39; -i /etc/my.cnf.d/mariadb-server.cnf source: https://stackoverflow.com/a/2985169/3550759\n","title":"docker, alpine, mariadb: com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure"},{"date":"2020-12-01","image":"","imageAlt":"","link":"http://example.org/posts/2020-12-01-sed-remplacer-une-ligne-qui-matche/","summary":"Voici comment remplacer une ligne qui matche avec la commande sed\n$ printf \u0026#34;[section1]\\\\n\\\\n[section2]\\\\ncle1=valeur1\\\\n\u0026#34; | sed \u0026#39;/^\\\\[section2\\\\]/c cle2=valeur2\u0026#39; [section1] cle2=valeur2 cle1=valeur1 ","tags":["sed"],"text":"voici comment remplacer une ligne qui matche avec la commande sed\n$ printf \u0026#34;[section1]\\\\n\\\\n[section2]\\\\ncle1=valeur1\\\\n\u0026#34; | sed \u0026#39;/^\\\\[section2\\\\]/c cle2=valeur2\u0026#39; [section1] cle2=valeur2 cle1=valeur1 ","title":"sed, remplacer une ligne qui matche"},{"date":"2020-12-01","image":"","imageAlt":"","link":"http://example.org/posts/2020-12-01-sed-inserer-avant-ou-apres-matchage-de-ligne/","summary":"Peut-être pratique pour modifier un fichier de configuration par exemple\n$ printf \u0026#34;[section1]\\\\n\\\\n[section2]\\\\ncle1=valeur1\\\\n\u0026#34; | sed \u0026#39;/^\\\\[section2\\\\]/i cle2=valeur2\u0026#39; [section1] cle2=valeur2 [section2] cle1=valeur1 $ printf \u0026#34;[section1]\\\\n\\\\n[section2]\\\\ncle1=valeur1\\\\n\u0026#34; | sed \u0026#39;/^\\\\[section2\\\\]/a cle2=valeur2\u0026#39; [section1] [section2] cle2=valeur2 cle1=valeur1 ","tags":["sed"],"text":"peut-être pratique pour modifier un fichier de configuration par exemple\n$ printf \u0026#34;[section1]\\\\n\\\\n[section2]\\\\ncle1=valeur1\\\\n\u0026#34; | sed \u0026#39;/^\\\\[section2\\\\]/i cle2=valeur2\u0026#39; [section1] cle2=valeur2 [section2] cle1=valeur1 $ printf \u0026#34;[section1]\\\\n\\\\n[section2]\\\\ncle1=valeur1\\\\n\u0026#34; | sed \u0026#39;/^\\\\[section2\\\\]/a cle2=valeur2\u0026#39; [section1] [section2] cle2=valeur2 cle1=valeur1 ","title":"sed, insérer avant ou après matchage de ligne"},{"date":"2020-12-01","image":"","imageAlt":"","link":"http://example.org/posts/2020-12-01-docker-alpine-service-hwdrivers-needs-non-existent-service-dev/","summary":"Voici comment résoudre Avoid Service hwdrivers needs non existent service dev\n# Avoid Service `hwdrivers\u0026#39; needs non existent service `dev\u0026#39; #/ # rc-status # * Caching service dependencies ... #Service `hwdrivers\u0026#39; needs non existent service `dev\u0026#39; [ ok ] #Runlevel: sysinit RUN apk add udev-init-scripts-openrc ","tags":["alpine","docker","mariadb"],"text":"voici comment résoudre avoid service hwdrivers needs non existent service dev\n# avoid service `hwdrivers\u0026#39; needs non existent service `dev\u0026#39; #/ # rc-status # * caching service dependencies ... #service `hwdrivers\u0026#39; needs non existent service `dev\u0026#39; [ ok ] #runlevel: sysinit run apk add udev-init-scripts-openrc ","title":"docker, alpine, Service hwdrivers needs non existent service dev"},{"date":"2020-11-20","image":"","imageAlt":"","link":"http://example.org/posts/2020-11-20-bash-appel-callback-a-la-sortie/","summary":"Il est possible en bash d\u0026rsquo;appeler des méthodes lorsque de la fin du script est atteinte et ce même s\u0026rsquo;il y a une erreur.\nCi-dessous, le script appellera cleanup_err puis cleanup_ok lorsque false sera atteint.\n#!/bin/bash function cleanup_err { echo cleanup_err } function cleanup_ok { echo cleanup_ok } trap cleanup_ok EXIT trap cleanup_err ERR C\u0026rsquo;est bien pratique pour nettoyer les fichiers et répertoires temporaires :)","tags":["bash","commande","trap"],"text":"il est possible en bash d\u0026rsquo;appeler des méthodes lorsque de la fin du script est atteinte et ce même s\u0026rsquo;il y a une erreur.\nci-dessous, le script appellera cleanup_err puis cleanup_ok lorsque false sera atteint.\n#!/bin/bash function cleanup_err { echo cleanup_err } function cleanup_ok { echo cleanup_ok } trap cleanup_ok exit trap cleanup_err err c\u0026rsquo;est bien pratique pour nettoyer les fichiers et répertoires temporaires :)\n","title":"bash, appel callback à la sortie..."},{"date":"2020-11-18","image":"","imageAlt":"","link":"http://example.org/posts/2020-11-18-tmux-copier-coller-a-la-vi-+-dans-le-presse-papier/","summary":"Commandes à ajouter au ~/.tmux.conf\nDans mon cas, il s\u0026rsquo;agit d\u0026rsquo;un tmux 1.8 :\nbind-key P run-shell \u0026#34;xclip -o | tmux load-buffer - ; tmux paste-buffer\u0026#34; bind-key -t vi-copy \u0026#39;v\u0026#39; begin-selection bind-key -t vi-copy \u0026#39;y\u0026#39; copy-pipe \u0026#34;tmux save-buffer - | xclip -sel clip -i\u0026#34; bind-key -t vi-copy \u0026#39;r\u0026#39; rectangle-toggle Cela nécessite d\u0026rsquo;ajouter la commande xclip\nAttention, l\u0026rsquo;exécution est très très lente\u0026hellip;","tags":["bash","commande","presse-papier","tmux","xclip"],"text":"commandes à ajouter au ~/.tmux.conf\ndans mon cas, il s\u0026rsquo;agit d\u0026rsquo;un tmux 1.8 :\nbind-key p run-shell \u0026#34;xclip -o | tmux load-buffer - ; tmux paste-buffer\u0026#34; bind-key -t vi-copy \u0026#39;v\u0026#39; begin-selection bind-key -t vi-copy \u0026#39;y\u0026#39; copy-pipe \u0026#34;tmux save-buffer - | xclip -sel clip -i\u0026#34; bind-key -t vi-copy \u0026#39;r\u0026#39; rectangle-toggle cela nécessite d\u0026rsquo;ajouter la commande xclip\nattention, l\u0026rsquo;exécution est très très lente\u0026hellip;\n","title":"tmux, copier/coller à la vi + dans le presse-papier"},{"date":"2020-11-13","image":"","imageAlt":"","link":"http://example.org/posts/2020-11-13-python-distance-de-levenshtein/","summary":"La distance de Levenshtein est une distance, au sens mathématique du terme, donnant une mesure de la différence entre deux chaînes de caractères. Elle est égale au nombre minimal de caractères qu\u0026rsquo;il faut supprimer, insérer ou remplacer pour passer d\u0026rsquo;une chaîne à l\u0026rsquo;autre.\ndef levenshtein(a,b): \u0026#34;Calculates the Levenshtein distance between a and b.\u0026#34; n, m = len(a), len(b) if n \u0026gt; m: # Make sure n \u0026lt;= m, to use O(min(n,m)) space a,b = b,a n,m = m,n current = range(n+1) for i in range(1,m+1): previous, current = current, [i]+[0]*n for j in range(1,n+1): add, delete = previous[j]+1, current[j-1]+1 change = previous[j-1] if a[j-1] !","tags":["distance","levenshtein"],"text":"la distance de levenshtein est une distance, au sens mathématique du terme, donnant une mesure de la différence entre deux chaînes de caractères. elle est égale au nombre minimal de caractères qu\u0026rsquo;il faut supprimer, insérer ou remplacer pour passer d\u0026rsquo;une chaîne à l\u0026rsquo;autre.\ndef levenshtein(a,b): \u0026#34;calculates the levenshtein distance between a and b.\u0026#34; n, m = len(a), len(b) if n \u0026gt; m: # make sure n \u0026lt;= m, to use o(min(n,m)) space a,b = b,a n,m = m,n current = range(n+1) for i in range(1,m+1): previous, current = current, [i]+[0]*n for j in range(1,n+1): add, delete = previous[j]+1, current[j-1]+1 change = previous[j-1] if a[j-1] != b[i-1]: change = change + 1 current[j] = min(add, delete, change) return current[n] exemple:\n\u0026gt;\u0026gt;\u0026gt; levenshtein(\u0026#39;toto\u0026#39;, \u0026#39;toto\u0026#39;) 0 \u0026gt;\u0026gt;\u0026gt; levenshtein(\u0026#39;toto\u0026#39;, \u0026#39;totos\u0026#39;) 1 \u0026gt;\u0026gt;\u0026gt; levenshtein(\u0026#39;toto\u0026#39;, \u0026#39;tata\u0026#39;) 2 \u0026gt;\u0026gt;\u0026gt; levenshtein(\u0026#39;toto\u0026#39;, \u0026#39;toto\u0026#39;) 0 \u0026gt;\u0026gt;\u0026gt; \u0026gt;\u0026gt;\u0026gt; levenshtein(\u0026#39;toto\u0026#39;, \u0026#39;too\u0026#39;) 1 source: https://fr.wikipedia.org/wiki/distance_de_levenshtein\n","title":"python, distance de levenshtein"},{"date":"2020-11-12","image":"","imageAlt":"","link":"http://example.org/posts/2020-11-12-mysql-donnees-binaires/","summary":"Dans certains cas, la commande LOAD_FILE n\u0026rsquo;est pas utilisable (problèmes de droits, etc..) pour alimenter un blob.\nDans ce cas, il peut être intéressant de convertir un fichier binaire (ici un fichier texte) en séquence hexadécimale\u0026hellip;\n$ cat lorem.txt Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer at lorem pharetra, pulvinar quam nec, efficitur ligula. Donec imperdiet aliquam rutrum. Aenean metus est, cursus eget auctor sit amet, vehicula id lorem.","tags":["binaire","binary","hexa","mysql"],"text":"dans certains cas, la commande load_file n\u0026rsquo;est pas utilisable (problèmes de droits, etc..) pour alimenter un blob.\ndans ce cas, il peut être intéressant de convertir un fichier binaire (ici un fichier texte) en séquence hexadécimale\u0026hellip;\n$ cat lorem.txt lorem ipsum dolor sit amet, consectetur adipiscing elit. integer at lorem pharetra, pulvinar quam nec, efficitur ligula. donec imperdiet aliquam rutrum. aenean metus est, cursus eget auctor sit amet, vehicula id lorem. vivamus mollis sollicitudin mattis. aenean volutpat velit tellus, et ullamcorper nisi aliquam ut. nunc efficitur est ac tincidunt ultrices. morbi ac quam magna. vivamus egestas elit in bibendum fermentum. nulla nunc felis, aliquet a lorem eleifend, mollis laoreet libero. etiam sit amet justo bibendum, cursus lectus in, blandit ex. nulla dolor est, pharetra eget nulla et, sodales dapibus diam. fusce et mauris quis sem tincidunt eleifend. in felis ipsum, vehicula sit amet sapien a, vulputate euismod lacus. proin condimentum ante ex, et viverra eros tristique eu. quisque consectetur, lectus ut tempus aliquet, lorem urna venenatis dolor, id venenatis ante tortor quis odio. fusce consectetur nisi id massa efficitur, et condimentum enim sagittis. donec volutpat leo in nisl vestibulum tempor. aliquam erat volutpat. praesent egestas lectus nibh, vel porta lorem pharetra a. pellentesque nec bibendum metus. nulla a felis hendrerit, pulvinar est ac, ullamcorper ipsum. donec tempus porta lectus a laoreet. aenean eget tortor at mi aliquet sodales. et utiliser cette séquence hexadécimale pour faire sa requête mysql.\non utilisera alors la commande unhex pour décoder la séquence hexadécimale et la remettre en binaire dans la requête sql.\n$ xxd -p lorem.txt | tr -d \u0026#39;\\n\u0026#39; | xargs printf \u0026#39;select unhex(\u0026#34;%s\u0026#34;);\u0026#39; | mysql -u root -ptest -s 2\u0026gt; /dev/null | xargs -0 printf $\u0026#39;%b\u0026#39; lorem ipsum dolor sit amet, consectetur adipiscing elit. integer at lorem pharetra, pulvinar quam nec, efficitur ligula. donec imperdiet aliquam rutrum. aenean metus est, cursus eget auctor sit amet, vehicula id lorem. vivamus mollis sollicitudin mattis. aenean volutpat velit tellus, et ullamcorper nisi aliquam ut. nunc efficitur est ac tincidunt ultrices. morbi ac quam magna. vivamus egestas elit in bibendum fermentum. nulla nunc felis, aliquet a lorem eleifend, mollis laoreet libero. etiam sit amet justo bibendum, cursus lectus in, blandit ex. nulla dolor est, pharetra eget nulla et, sodales dapibus diam. fusce et mauris quis sem tincidunt eleifend. in felis ipsum, vehicula sit amet sapien a, vulputate euismod lacus. proin condimentum ante ex, et viverra eros tristique eu. quisque consectetur, lectus ut tempus aliquet, lorem urna venenatis dolor, id venenatis ante tortor quis odio. fusce consectetur nisi id massa efficitur, et condimentum enim sagittis. donec volutpat leo in nisl vestibulum tempor. aliquam erat volutpat. praesent egestas lectus nibh, vel porta lorem pharetra a. pellentesque nec bibendum metus. nulla a felis hendrerit, pulvinar est ac, ullamcorper ipsum. donec tempus porta lectus a laoreet. aenean eget tortor at mi aliquet sodales. le xxd -p permet de ne sortir que l\u0026rsquo;hexa sur la sortie standard tandis que le tr -d '\\n' concatène les lignes.\n","title":"mysql, données binaires"},{"date":"2020-11-12","image":"","imageAlt":"","link":"http://example.org/posts/2020-11-12-java-lambda-et-jointure-de-chaines/","summary":"Faire une concaténation de chaînes avec les lambdas :\n@Test public void testFoo() throws Exception { List\u0026lt;String\u0026gt; l = Arrays.asList(\u0026#34;a\u0026#34;, \u0026#34;b\u0026#34;, \u0026#34;c\u0026#34;); assertEquals(\u0026#34;[a],[b],[c]\u0026#34;, l.stream().map(v-\u0026gt;String.format(\u0026#34;[%s]\u0026#34;, v)).collect(Collectors.joining(\u0026#34;,\u0026#34;))); } ","tags":["chaines","java","jointure"],"text":"faire une concaténation de chaînes avec les lambdas :\n@test public void testfoo() throws exception { list\u0026lt;string\u0026gt; l = arrays.aslist(\u0026#34;a\u0026#34;, \u0026#34;b\u0026#34;, \u0026#34;c\u0026#34;); assertequals(\u0026#34;[a],[b],[c]\u0026#34;, l.stream().map(v-\u0026gt;string.format(\u0026#34;[%s]\u0026#34;, v)).collect(collectors.joining(\u0026#34;,\u0026#34;))); } ","title":"java, lambda et jointure de chaines"},{"date":"2020-11-03","image":"","imageAlt":"","link":"http://example.org/posts/2020-11-03-ricoh-retour-des-toners-usages/","summary":"Ricoh fournit un service pratique pour le recyclage des toners. UPS passe les chercher !\nSur la page https://www.ricoh-return.com/fr/eu, cliquer sur :\nFrance Dans créer un compte, cliquer sur \u0026ldquo;Poursuivre sans compte\u0026rdquo; Remplir le formulaire, accepter les conditions et dire s\u0026rsquo;il s\u0026rsquo;agit d\u0026rsquo;un retour simple ou multiple Imprimer l\u0026rsquo;étiquette Programmer le passage UPS Ricoh envoie un mail avec 2 identifiants (un ID d\u0026rsquo;enlèvement et un ID de suivi de colis).","tags":["colis","laser","ricoh","toner"],"text":"ricoh fournit un service pratique pour le recyclage des toners. ups passe les chercher !\nsur la page https://www.ricoh-return.com/fr/eu, cliquer sur :\nfrance dans créer un compte, cliquer sur \u0026ldquo;poursuivre sans compte\u0026rdquo; remplir le formulaire, accepter les conditions et dire s\u0026rsquo;il s\u0026rsquo;agit d\u0026rsquo;un retour simple ou multiple imprimer l\u0026rsquo;étiquette programmer le passage ups ricoh envoie un mail avec 2 identifiants (un id d\u0026rsquo;enlèvement et un id de suivi de colis).\nsur le site ups, pour\nvérifier l\u0026rsquo;état de l\u0026rsquo;enlèvement https://wwwapps.ups.com/pickup/pending?loc=fr_fr : saisir l\u0026rsquo;identifiant d\u0026rsquo;enlèvement (dans le titre du mail / corps du mail), dans mon cas il commence par 29ba le suivi du colis https://www.ups.com/track?loc=fr_fr\u0026amp;requester=st/ : saisir l\u0026rsquo;identifiant tracking commençant par 1z79 (disponible sur l\u0026rsquo;étiquette) pour reprogrammer l\u0026rsquo;enlèvement : suivre les indications du mail\n","title":"ricoh, retour des toners usagés"},{"date":"2020-11-03","image":"","imageAlt":"","link":"http://example.org/posts/2020-11-03-mysql-entiers-et-plages-de-valeurs/","summary":"https://dev.mysql.com/doc/refman/5.6/en/numeric-type-syntax.html","tags":["mysql"],"text":"https://dev.mysql.com/doc/refman/5.6/en/numeric-type-syntax.html\n","title":"mysql, entiers et plages de valeurs"},{"date":"2020-10-16","image":"","imageAlt":"","link":"http://example.org/posts/2020-10-16-virtualbox-probleme-d-affichage-d-ecran/","summary":"VBoxManage controlvm \u0026#34;Windows7\u0026#34; setvideomodehint 1920 1080 32 Sous la VM Windows 7, Panneau de configuration : Affichage : Rendre le texte et d\u0026#39;autres éléments plus petits ou plus grands Merci Michel !","tags":["virtualbox"],"text":"vboxmanage controlvm \u0026#34;windows7\u0026#34; setvideomodehint 1920 1080 32 sous la vm windows 7, panneau de configuration : affichage : rendre le texte et d\u0026#39;autres éléments plus petits ou plus grands merci michel !\n","title":"VirtualBox, problème d'affichage d'écran "},{"date":"2020-10-14","image":"","imageAlt":"","link":"http://example.org/posts/2020-10-14-intellij-makefile-tabulations/","summary":"Le fichier .editorconfig permet de centraliser au sein d\u0026rsquo;un même fichier la configuration à utiliser pour tel ou tel type de fichier.\nAinsi, si on change d\u0026rsquo;éditeur et que cet éditeur utilise ce fichier, on aura la même configuration.\nSource: https://editorconfig.org/","tags":["Intellij","makefile"],"text":"le fichier .editorconfig permet de centraliser au sein d\u0026rsquo;un même fichier la configuration à utiliser pour tel ou tel type de fichier.\nainsi, si on change d\u0026rsquo;éditeur et que cet éditeur utilise ce fichier, on aura la même configuration.\nsource: https://editorconfig.org/\n","title":"Intellij, Makefile \u0026 tabulations"},{"date":"2020-10-14","image":"","imageAlt":"","link":"http://example.org/posts/2020-10-14-mysql-error-1215-hy000-cannot-add-foreign-key-constraint/","summary":"Echec de l\u0026rsquo;import du dump. Ajouter en haut du script :\nSET foreign_key_checks = 0; ","tags":["mysql"],"text":"echec de l\u0026rsquo;import du dump. ajouter en haut du script :\nset foreign_key_checks = 0; ","title":"MySQL : ERROR 1215 (HY000): Cannot add foreign key constraint"},{"date":"2020-10-08","image":"","imageAlt":"","link":"http://example.org/posts/2020-10-08-ssh-local-forwarding/","summary":"Exemple :\ndepuis le poste local, lancer firefox et aller sur http://127.0.0.1:7533 les requêtes transitent dans le tunnel SSH (user@example.com) à la sortie, elles partent sur le host 127.0.0.1 port 7575 où tourne le fitnesse ssh user@example.com -N -L 7533:127.0.0.1:7575 ","tags":["forwarding","ssh"],"text":"exemple :\ndepuis le poste local, lancer firefox et aller sur http://127.0.0.1:7533 les requêtes transitent dans le tunnel ssh (user@example.com) à la sortie, elles partent sur le host 127.0.0.1 port 7575 où tourne le fitnesse ssh user@example.com -n -l 7533:127.0.0.1:7575 ","title":"ssh, local forwarding"},{"date":"2020-10-07","image":"","imageAlt":"","link":"http://example.org/posts/2020-10-07-simuler-un-lien-wan-sous-linux/","summary":"Voici un script qui m\u0026rsquo;a bien été utile il y a 3-4 ans.\nLe déploiement d\u0026rsquo;un livrable échouait lorsque je le lançais depuis chez moi via le VPN de la société.\nEn simulant une connexion comme chez moi mais depuis mon bureau, j\u0026rsquo;ai pu détecter qu\u0026rsquo;il y avait un timeout qui se produisait.\nJ\u0026rsquo;ai alors pu corriger un plugin maven afin d\u0026rsquo;augmenter ce timeout pour faire en sorte que sur une connexion lente, le déploiement se passe bien.","tags":["simuler","wan"],"text":"voici un script qui m\u0026rsquo;a bien été utile il y a 3-4 ans.\nle déploiement d\u0026rsquo;un livrable échouait lorsque je le lançais depuis chez moi via le vpn de la société.\nen simulant une connexion comme chez moi mais depuis mon bureau, j\u0026rsquo;ai pu détecter qu\u0026rsquo;il y avait un timeout qui se produisait.\nj\u0026rsquo;ai alors pu corriger un plugin maven afin d\u0026rsquo;augmenter ce timeout pour faire en sorte que sur une connexion lente, le déploiement se passe bien.\nsource: https://github.com/nicolargo/simulwan\n","title":"Simuler un lien WAN sous Linux"},{"date":"2020-10-07","image":"","imageAlt":"","link":"http://example.org/posts/2020-10-07-linux-date-installation-initiale/","summary":"Afficher de première installation de son poste :\n$ ls -lct /etc | tail -n 1 -rw-r--r-- 1 root root 594 juin 22 2016 fstab ","tags":["installation","linux"],"text":"afficher de première installation de son poste :\n$ ls -lct /etc | tail -n 1 -rw-r--r-- 1 root root 594 juin 22 2016 fstab ","title":"linux, date installation initiale"},{"date":"2020-10-07","image":"","imageAlt":"","link":"http://example.org/posts/2020-10-07-java-regexp-nommees/","summary":"Nommer un groupe et l\u0026rsquo;utiliser :\n@Test public void testFoo() { Pattern p = Pattern.compile(\u0026#34;Voici le nombre : (?\u0026lt;nombre\u0026gt;\\\\d+)\u0026#34;); Matcher m = p.matcher(\u0026#34;Voici le nombre : 123\u0026#34;); assertTrue(m.matches()); assertEquals(\u0026#34;123\u0026#34;, m.group(\u0026#34;nombre\u0026#34;)); } ","tags":["java","regexp"],"text":"nommer un groupe et l\u0026rsquo;utiliser :\n@test public void testfoo() { pattern p = pattern.compile(\u0026#34;voici le nombre : (?\u0026lt;nombre\u0026gt;\\\\d+)\u0026#34;); matcher m = p.matcher(\u0026#34;voici le nombre : 123\u0026#34;); asserttrue(m.matches()); assertequals(\u0026#34;123\u0026#34;, m.group(\u0026#34;nombre\u0026#34;)); } ","title":"java, regexp nommées"},{"date":"2020-09-17","image":"","imageAlt":"","link":"http://example.org/posts/2020-09-17-solutions-partage-ecran/","summary":"Solutions de partage d\u0026rsquo;écran simples qui fonctionnent sans spécifier l\u0026rsquo;ip / utilisateur du poste distant.\nteamviewer: https://www.teamviewer.com/fr/ dws: https://www.dwservice.net/fr/home.html Ils demandent un ID du poste et mot de passe généré.","tags":["écran","équipe","outil","partage","team"],"text":"solutions de partage d\u0026rsquo;écran simples qui fonctionnent sans spécifier l\u0026rsquo;ip / utilisateur du poste distant.\nteamviewer: https://www.teamviewer.com/fr/ dws: https://www.dwservice.net/fr/home.html ils demandent un id du poste et mot de passe généré.\n","title":"solutions partage écran"},{"date":"2020-06-22","image":"","imageAlt":"","link":"http://example.org/posts/2020-06-22-docker-tests-karma-dans-un-container-docker/","summary":"Je suis novice en docker / gitlab ci/cd mais je m\u0026rsquo;y mets depuis la semaine dernière.\nMon ancienne machine de dév avait été transformée en jenkins. Elle a son disque qui a \u0026ldquo;cramé\u0026rdquo; et c\u0026rsquo;est donc l\u0026rsquo;occasion de changer de technologie\u0026hellip;\nLe projet supervisé a des tests karma. Lors du portage sur git ci/cd, les tests étaient gelés jusqu\u0026rsquo;au claquage d\u0026rsquo;un timeout (cf traces ci-après). Ca ne se passait que dans gitlab ci/cd.","tags":["container","docker","karma"],"text":"je suis novice en docker / gitlab ci/cd mais je m\u0026rsquo;y mets depuis la semaine dernière.\nmon ancienne machine de dév avait été transformée en jenkins. elle a son disque qui a \u0026ldquo;cramé\u0026rdquo; et c\u0026rsquo;est donc l\u0026rsquo;occasion de changer de technologie\u0026hellip;\nle projet supervisé a des tests karma. lors du portage sur git ci/cd, les tests étaient gelés jusqu\u0026rsquo;au claquage d\u0026rsquo;un timeout (cf traces ci-après). ca ne se passait que dans gitlab ci/cd. en local, hors du container docker tout était ok, dans le container, c\u0026rsquo;était ko\nkarma start /root/xxxx/xxxxx-webapp/karma.unit.conf.js --single-run 22 06 2020 12:40:44.815:warn [config]: \u0026#34;/\u0026#34; is proxied, you should probably change urlroot to avoid conflicts 22 06 2020 12:40:44.940:info [karma]: front-end scripts not present. compiling... 22 06 2020 12:40:45.416:info [karma]: karma v2.0.0 server started at http://0.0.0.0:9876/ 22 06 2020 12:40:45.416:info [launcher]: launching browser firefox_headless with unlimited concurrency 22 06 2020 12:40:45.423:info [launcher]: starting browser firefox 22 06 2020 12:41:45.484:warn [launcher]: firefox have not captured in 60000 ms, killing. 22 06 2020 12:41:47.487:warn [launcher]: firefox was not killed in 2000 ms, sending sigkill. 22 06 2020 12:41:49.489:warn [launcher]: firefox was not killed by sigkill in 2000 ms, continuing. [info] ------------------------------------------------------------------------ [info] build failure dans mon cas, il manquait simplement l\u0026rsquo;installation de firefox lors de la création de l\u0026rsquo;image docker\u0026hellip;\napt-get install -y firefox après ajout, c\u0026rsquo;est bon (ouf de soulagement) il faut dire que l\u0026rsquo;erreur n\u0026rsquo;était pas très explicite. beaucoups de fils de discussion parlent de problèmes de proxy\u0026hellip;\n","title":"docker, tests karma dans un container docker"},{"date":"2020-06-13","image":"","imageAlt":"","link":"http://example.org/posts/2020-06-13-jar-github-repo-transfert-des-anciens-jars-vers-le-repo-definitif/","summary":"Manipulations pour les envoyer vers maven.pkg.github.com en ligne de commande\n~/.m2/settings.xml \u0026lt;server\u0026gt; \u0026lt;id\u0026gt;jfgiraud-repo\u0026lt;/id\u0026gt; \u0026lt;username\u0026gt;jfgiraud\u0026lt;/username\u0026gt; \u0026lt;password\u0026gt;{{{votre token : https://github.com/settings/tokens}}}\u0026lt;/password\u0026gt; \u0026lt;/server\u0026gt; Envoi des fichiers récupérés de l\u0026#39;ancien repo vers le nouveau for v in 1.5.3 2.0.0 2.0.1 2.0.2 2.0.3 2.0.4 2.0.5 2.0.6 2.0.7; do mvn deploy:deploy-file -DgroupId=com.github.jfgiraud -DartifactId=temmental -Dpackaging=jar -Durl=https://maven.pkg.github.com/jfgiraud/temmental -Dversion=$v -Dfile=temmental-$v.jar -DrepositoryId=jfgiraud-repo done EDIT: le système nécessite visiblement le paramétrage d\u0026rsquo;un token dans le settings.xml même pour télécharger le war. Ce cas d\u0026rsquo;usage me déçoit :(","tags":["git","jar","repo"],"text":"manipulations pour les envoyer vers maven.pkg.github.com en ligne de commande\n~/.m2/settings.xml \u0026lt;server\u0026gt; \u0026lt;id\u0026gt;jfgiraud-repo\u0026lt;/id\u0026gt; \u0026lt;username\u0026gt;jfgiraud\u0026lt;/username\u0026gt; \u0026lt;password\u0026gt;{{{votre token : https://github.com/settings/tokens}}}\u0026lt;/password\u0026gt; \u0026lt;/server\u0026gt; envoi des fichiers récupérés de l\u0026#39;ancien repo vers le nouveau for v in 1.5.3 2.0.0 2.0.1 2.0.2 2.0.3 2.0.4 2.0.5 2.0.6 2.0.7; do mvn deploy:deploy-file -dgroupid=com.github.jfgiraud -dartifactid=temmental -dpackaging=jar -durl=https://maven.pkg.github.com/jfgiraud/temmental -dversion=$v -dfile=temmental-$v.jar -drepositoryid=jfgiraud-repo done edit: le système nécessite visiblement le paramétrage d\u0026rsquo;un token dans le settings.xml même pour télécharger le war. ce cas d\u0026rsquo;usage me déçoit :(\n","title":"jar, github, repo : transfert des anciens jars vers le repo définitif"},{"date":"2020-06-13","image":"","imageAlt":"","link":"http://example.org/posts/2020-06-13-jar-repository-sur-github/","summary":"Il y a bien longtemps, j\u0026rsquo;ai mis à disposition des jars sur github, via un repository\nhttps://github.com/jfgiraud/mvn-repo\nA l\u0026rsquo;époque, l\u0026rsquo;hébergement de jar ne devait pas exister ou bien, je n\u0026rsquo;étais ni tombé sur la documentation ni fais les bonnes recherches google.\nDonc, à savoir, github met à disposition un repo pour les paquets maven.\nVoici le lien vers la documentation : https://help.github.com/en/packages/using-github-packages-with-your-projects-ecosystem/configuring-apache-maven-for-use-with-github-packages","tags":["git","jar","repo"],"text":"il y a bien longtemps, j\u0026rsquo;ai mis à disposition des jars sur github, via un repository\nhttps://github.com/jfgiraud/mvn-repo\na l\u0026rsquo;époque, l\u0026rsquo;hébergement de jar ne devait pas exister ou bien, je n\u0026rsquo;étais ni tombé sur la documentation ni fais les bonnes recherches google.\ndonc, à savoir, github met à disposition un repo pour les paquets maven.\nvoici le lien vers la documentation : https://help.github.com/en/packages/using-github-packages-with-your-projects-ecosystem/configuring-apache-maven-for-use-with-github-packages\n","title":"jar: repository sur github"},{"date":"2020-06-04","image":"","imageAlt":"","link":"http://example.org/posts/2020-06-04-html-liste-des-balises-html/","summary":"Liste des balises HTML pouvant être utilisées pour vérifier que des entrées de formulaires ne contiennent pas de code HTML.\nA ABBR ACRONYM ADDRESS AREA B BASE BDO BIG BLOCKQUOTE BODY BR BUTTON CAPTION CITE CODE COL COLGROUP DD DEL DFN DIV DL DT EM FIELDSET FORM H1 H2 H3 H4 H5 H6 HEAD HR HTML I IMG INPUT INS KBD LABEL LEGEND LI LINK MAP META NOSCRIPT OBJECT OL OPTGROUP OPTION P PARAM PRE Q SAMP SCRIPT SELECT SMALL SPAN STRONG STYLE SUB SUP TABLE TBODY TD TEXTAREA TFOOT TH THEAD TITLE TR TT UL VAR Sous forme de liste (avec quote and join disponible ici)","tags":["balises","html"],"text":"liste des balises html pouvant être utilisées pour vérifier que des entrées de formulaires ne contiennent pas de code html.\na abbr acronym address area b base bdo big blockquote body br button caption cite code col colgroup dd del dfn div dl dt em fieldset form h1 h2 h3 h4 h5 h6 head hr html i img input ins kbd label legend li link map meta noscript object ol optgroup option p param pre q samp script select small span strong style sub sup table tbody td textarea tfoot th thead title tr tt ul var sous forme de liste (avec quote and join disponible ici)\n$ cat ~/balises.txt | tr -d \u0026#39;\u0026#34;,\u0026#39; | tr \u0026#39; \u0026#39; \u0026#39;\\n\u0026#39; | sort -u | ~/bin/qaj -qq -j \u0026#39;, \u0026#39; \u0026#34;a\u0026#34;, \u0026#34;abbr\u0026#34;, \u0026#34;acronym\u0026#34;, \u0026#34;address\u0026#34;, \u0026#34;area\u0026#34;, \u0026#34;b\u0026#34;, \u0026#34;base\u0026#34;, \u0026#34;bdo\u0026#34;, \u0026#34;big\u0026#34;, \u0026#34;blockquote\u0026#34;, \u0026#34;body\u0026#34;, \u0026#34;br\u0026#34;, \u0026#34;button\u0026#34;, \u0026#34;caption\u0026#34;, \u0026#34;cite\u0026#34;, \u0026#34;code\u0026#34;, \u0026#34;col\u0026#34;, \u0026#34;colgroup\u0026#34;, \u0026#34;dd\u0026#34;, \u0026#34;del\u0026#34;, \u0026#34;dfn\u0026#34;, \u0026#34;div\u0026#34;, \u0026#34;dl\u0026#34;, \u0026#34;dt\u0026#34;, \u0026#34;em\u0026#34;, \u0026#34;fieldset\u0026#34;, \u0026#34;form\u0026#34;, \u0026#34;h1\u0026#34;, \u0026#34;h2\u0026#34;, \u0026#34;h3\u0026#34;, \u0026#34;h4\u0026#34;, \u0026#34;h5\u0026#34;, \u0026#34;h6\u0026#34;, \u0026#34;head\u0026#34;, \u0026#34;hr\u0026#34;, \u0026#34;html\u0026#34;, \u0026#34;i\u0026#34;, \u0026#34;img\u0026#34;, \u0026#34;input\u0026#34;, \u0026#34;ins\u0026#34;, \u0026#34;kbd\u0026#34;, \u0026#34;label\u0026#34;, \u0026#34;legend\u0026#34;, \u0026#34;li\u0026#34;, \u0026#34;link\u0026#34;, \u0026#34;map\u0026#34;, \u0026#34;meta\u0026#34;, \u0026#34;noscript\u0026#34;, \u0026#34;object\u0026#34;, \u0026#34;ol\u0026#34;, \u0026#34;optgroup\u0026#34;, \u0026#34;option\u0026#34;, \u0026#34;p\u0026#34;, \u0026#34;param\u0026#34;, \u0026#34;pre\u0026#34;, \u0026#34;q\u0026#34;, \u0026#34;samp\u0026#34;, \u0026#34;script\u0026#34;, \u0026#34;select\u0026#34;, \u0026#34;small\u0026#34;, \u0026#34;span\u0026#34;, \u0026#34;strong\u0026#34;, \u0026#34;style\u0026#34;, \u0026#34;sub\u0026#34;, \u0026#34;sup\u0026#34;, \u0026#34;table\u0026#34;, \u0026#34;tbody\u0026#34;, \u0026#34;td\u0026#34;, \u0026#34;textarea\u0026#34;, \u0026#34;tfoot\u0026#34;, \u0026#34;th\u0026#34;, \u0026#34;thead\u0026#34;, \u0026#34;title\u0026#34;, \u0026#34;tr\u0026#34;, \u0026#34;tt\u0026#34;, \u0026#34;ul\u0026#34;, \u0026#34;var\u0026#34; source: extrait de http://www.w3.org/tr/html4/strict.dtd\n","title":"html, liste des balises html"},{"date":"2020-05-20","image":"","imageAlt":"","link":"http://example.org/posts/2020-05-20-mysql-load-file-renvoie-null/","summary":"La méthode LOAD_FILE renvoie toujours NULL\nJe suis tombé sur cette page :\nhttps://stackoverflow.com/questions/18069054/mysql-load-file-loads-null-values\nDans mon cas, la solution est :\nhttps://stackoverflow.com/a/51301002/3550759","tags":["load_file","mysql"],"text":"la méthode load_file renvoie toujours null\nje suis tombé sur cette page :\nhttps://stackoverflow.com/questions/18069054/mysql-load-file-loads-null-values\ndans mon cas, la solution est :\nhttps://stackoverflow.com/a/51301002/3550759\n","title":"mysql, LOAD_FILE renvoie NULL"},{"date":"2020-05-15","image":"","imageAlt":"","link":"http://example.org/posts/2020-05-15-intellij-page-vide-sans-menu-au-demarrage/","summary":"Suite à la mise à jour d\u0026rsquo;un plugin (python), mon intellij 2020.1 ne démarrait plus correctement. Les versions antérieures oui, mais j\u0026rsquo;ai eu des difficultés pour rétablir un démarrage correct.\nVoici les commandes que j\u0026rsquo;ai effectuées pour nettoyer et permettre le redémarrage correct avec ouverture des projets.\nAttention, vous pouvez perdre d\u0026rsquo;autres configurations mais pour moi c\u0026rsquo;était acceptable.\n457 | 14/05 16:38 | rm -rf .config/JetBrains/ .java/ .local/share/JetBrains/ .cache/JetBrains/ ","tags":["intellij"],"text":"suite à la mise à jour d\u0026rsquo;un plugin (python), mon intellij 2020.1 ne démarrait plus correctement. les versions antérieures oui, mais j\u0026rsquo;ai eu des difficultés pour rétablir un démarrage correct.\nvoici les commandes que j\u0026rsquo;ai effectuées pour nettoyer et permettre le redémarrage correct avec ouverture des projets.\nattention, vous pouvez perdre d\u0026rsquo;autres configurations mais pour moi c\u0026rsquo;était acceptable.\n457 | 14/05 16:38 | rm -rf .config/jetbrains/ .java/ .local/share/jetbrains/ .cache/jetbrains/ ","title":"intellij, page vide sans menu au démarrage"},{"date":"2020-04-30","image":"","imageAlt":"","link":"http://example.org/posts/2020-04-30-commande-comparer-des-ensembles-avec-comm/","summary":"Parfois, on a besoin de comparer des ensembles. La commande comm permet de faire ressortir :\nles valeurs qui n\u0026rsquo;appartiennent qu\u0026rsquo;au fichier f1 (colonne 1)\nles valeurs qui n\u0026rsquo;appartiennent qu\u0026rsquo;au fichier f2 (colonne 2)\nles valeurs qui appartiennent aux fichiers f1 et f2 (colonne 3)\n1 pour faire disparaître la colonne 1 2 pour faire disparaître la colonne 2 3 pour faire disparaître la colonne 3 Attention, les fichiers doivent être au préalable triés.","tags":["commande","comparer","ensemble","linux"],"text":"parfois, on a besoin de comparer des ensembles. la commande comm permet de faire ressortir :\nles valeurs qui n\u0026rsquo;appartiennent qu\u0026rsquo;au fichier f1 (colonne 1)\nles valeurs qui n\u0026rsquo;appartiennent qu\u0026rsquo;au fichier f2 (colonne 2)\nles valeurs qui appartiennent aux fichiers f1 et f2 (colonne 3)\n1 pour faire disparaître la colonne 1 2 pour faire disparaître la colonne 2 3 pour faire disparaître la colonne 3 attention, les fichiers doivent être au préalable triés.\nexemple :\n$ cat f1 | sort | sponge f1 $ cat f2 | sort | sponge f2 $ cat f1 a b c d e f g h i $ cat f2 d e f k l m n o p $ comm f1 f2 a b c d e f g h i k l m n o p $ comm -1 f1 f2 d e f k l m n o p $ comm -13 f1 f2 k l m n o p ","title":"commande, comparer des ensembles avec comm"},{"date":"2020-04-25","image":"","imageAlt":"","link":"http://example.org/posts/2020-04-25-mysql-supprimer-les-mysql-warning-using-a-password-on-the-command-line-interface-can-be-insecure/","summary":"Comment supprimer ces messages :\n$ mysql -u test -ptest -h localhost MYdatabase mysql: [Warning] Using a password on the command line interface can be insecure. Reading table information for completion of table and column names You can turn off this feature to get a quicker startup with -A Welcome to the MySQL monitor. Commands end with ; or \\g. # Solution 1 : utilise une variable d\u0026#39;environnement $ MYSQL_PWD=test mysql -u test -h localhost MYdatabase # Solution 2 : utilise sshpass $ sshpass -ptest mysql -u test -p -h localhost MYdatabase # Solution 3 : ne modifie pas les fd $ (((((mysql -u test -ptest -h localhost MYdatabase) 1\u0026gt;\u0026amp;9) 2\u0026gt;\u0026amp;1)|grep -vF \u0026#39;mysql: [Warning] Using a password on the command line interface can be insecure.","tags":["insecure","mysql","password","warning"],"text":"comment supprimer ces messages :\n$ mysql -u test -ptest -h localhost mydatabase mysql: [warning] using a password on the command line interface can be insecure. reading table information for completion of table and column names you can turn off this feature to get a quicker startup with -a welcome to the mysql monitor. commands end with ; or \\g. # solution 1 : utilise une variable d\u0026#39;environnement $ mysql_pwd=test mysql -u test -h localhost mydatabase # solution 2 : utilise sshpass $ sshpass -ptest mysql -u test -p -h localhost mydatabase # solution 3 : ne modifie pas les fd $ (((((mysql -u test -ptest -h localhost mydatabase) 1\u0026gt;\u0026amp;9) 2\u0026gt;\u0026amp;1)|grep -vf \u0026#39;mysql: [warning] using a password on the command line interface can be insecure.\u0026#39;) 1\u0026gt;\u0026amp;2 ) 9\u0026gt;\u0026amp;1 # solution 4 : passer par expect $ expect -c \u0026#39;spawn mysql -u test -p -h localhost mydatabase ; expect \u0026#34;enter password:\u0026#34; ; send \u0026#34;test\\n\u0026#34; ; interact\u0026#39; en bash une solution plus simple existe équivalente à la solution 3 :\n# solution 3 : ne modifie pas les fd (plus simple en bash) $ mysql -u test -ptest -h localhost mydatabase 2\u0026gt; \u0026gt;(grep -vf \u0026#39;mysql: [warning] using a password on the command line interface can be insecure.\u0026#39; 1\u0026gt;\u0026amp;2 ) ","title":"mysql, supprimer les mysql: [Warning] Using a password on the command line interface can be insecure."},{"date":"2020-04-23","image":"","imageAlt":"","link":"http://example.org/posts/2020-04-23-bash-uniformisation-de-numeros-de-version/","summary":"Sur notre projet, les numéros de version des lots s\u0026rsquo;appellent des GOROCO.\nIls regroupent tout un tas d\u0026rsquo;applicatifs ayant chacun leur propres numéros de version (format x.y.z).\nIls peuvent être saisis de différentes manières, avec des 0, sans 0\u0026hellip; du coup pour uniformiser les valeurs, j\u0026rsquo;ai réussi à trouver les commandes bash pour les avoir sur 1 caractère si possible (GOROCO) ou bien sur 2 (GOOROOCOO).\n#!/bin/bash function uniformize() { local GOROCO=\u0026#34;$1\u0026#34; BEFORE=\u0026#34;$GOROCO\u0026#34; GOROCO=$(echo $GOROCO | sed -E \u0026#39;s/(G|R|C|P)0([0-9])/\\1\\2/g\u0026#39;) GOOROOCOO=$(echo $GOROCO | sed -e \u0026#39;s/\\([RCP]\\)/\\n\\1/g\u0026#39; -e \u0026#39;s/\\\u0026lt;\\(.","tags":["bash","linux","numéro","numéros","version","versions"],"text":"sur notre projet, les numéros de version des lots s\u0026rsquo;appellent des goroco.\nils regroupent tout un tas d\u0026rsquo;applicatifs ayant chacun leur propres numéros de version (format x.y.z).\nils peuvent être saisis de différentes manières, avec des 0, sans 0\u0026hellip; du coup pour uniformiser les valeurs, j\u0026rsquo;ai réussi à trouver les commandes bash pour les avoir sur 1 caractère si possible (goroco) ou bien sur 2 (gooroocoo).\n#!/bin/bash function uniformize() { local goroco=\u0026#34;$1\u0026#34; before=\u0026#34;$goroco\u0026#34; goroco=$(echo $goroco | sed -e \u0026#39;s/(g|r|c|p)0([0-9])/\\1\\2/g\u0026#39;) gooroocoo=$(echo $goroco | sed -e \u0026#39;s/\\([rcp]\\)/\\n\\1/g\u0026#39; -e \u0026#39;s/\\\u0026lt;\\(.\\)\\([0-9]\\)\\\u0026gt;/\\10\\2/g\u0026#39; | tr -d \u0026#39;\\n\u0026#39;) printf \u0026#34;$before\\t$goroco\\t$gooroocoo\\n\u0026#34; } for v in g2r01c0 g0r1c20 g10r5c3 g2r3c01 g02r03c05; do uniformize $v done g2r01c0\tg2r1c0\tg02r01c00 g0r1c20\tg0r1c20\tg00r01c20 g10r5c3\tg10r5c3\tg10r05c03 g2r3c01\tg2r3c1\tg02r03c01 g02r03c05\tg2r3c5\tg02r03c05 ","title":"bash, uniformisation de numéros de version"},{"date":"2020-04-21","image":"","imageAlt":"","link":"http://example.org/posts/2020-04-21-bash-creer-des-requetes-sql-depuis-un-csv/","summary":"Il y a quelques temps, j\u0026rsquo;avais utilisé la commande awk pour générer des requêtes sql depuis un fichier CSV.\nDans le cas présent, j\u0026rsquo;utilise simplement un script bash.\nAu final, la solution bash -bien que plus verbeuse- me semble plus lisible à lire et modifier.\n#!/bin/bash fichier=~/Téléchargements/groupmotifs.csv tail -n +2 $fichier | tr -d $\u0026#39;\\r\u0026#39; | while IFS=$\u0026#39;\\n\u0026#39; read line || [[ $line ]] do IFS=\u0026#39;;\u0026#39; read id name type_group nas \u0026lt;\u0026lt;\u0026lt; \u0026#34;$line\u0026#34; cat \u0026lt;\u0026lt;EOF insert into group_motifs (id, name, type_group, nas) values ($id, \u0026#34;$name\u0026#34;, \u0026#34;$type_group\u0026#34;, \u0026#34;$nas\u0026#34;) on duplicate key update nas=\u0026#34;$nas\u0026#34;, type_group=\u0026#34;$type_group\u0026#34;, name=\u0026#34;$name\u0026#34;; EOF done \u0026gt; requetes.","tags":["bash","csv","sql"],"text":"il y a quelques temps, j\u0026rsquo;avais utilisé la commande awk pour générer des requêtes sql depuis un fichier csv.\ndans le cas présent, j\u0026rsquo;utilise simplement un script bash.\nau final, la solution bash -bien que plus verbeuse- me semble plus lisible à lire et modifier.\n#!/bin/bash fichier=~/téléchargements/groupmotifs.csv tail -n +2 $fichier | tr -d $\u0026#39;\\r\u0026#39; | while ifs=$\u0026#39;\\n\u0026#39; read line || [[ $line ]] do ifs=\u0026#39;;\u0026#39; read id name type_group nas \u0026lt;\u0026lt;\u0026lt; \u0026#34;$line\u0026#34; cat \u0026lt;\u0026lt;eof insert into group_motifs (id, name, type_group, nas) values ($id, \u0026#34;$name\u0026#34;, \u0026#34;$type_group\u0026#34;, \u0026#34;$nas\u0026#34;) on duplicate key update nas=\u0026#34;$nas\u0026#34;, type_group=\u0026#34;$type_group\u0026#34;, name=\u0026#34;$name\u0026#34;; eof done \u0026gt; requetes.sql fichier=~/téléchargements/motifsroutage.csv tail -n +2 $fichier | tr -d $\u0026#39;\\r\u0026#39; | while ifs=$\u0026#39;\\n\u0026#39; read line || [[ $line ]] do ifs=\u0026#39;;\u0026#39; read id motif_routage libelle mot motif_sup id_group_motif nas \u0026lt;\u0026lt;\u0026lt; \u0026#34;$line\u0026#34; if [[ -z \u0026#34;$mot\u0026#34; || \u0026#34;$mot\u0026#34; == \u0026#34;null\u0026#34; ]]; then mot=\u0026#34;null\u0026#34;; else mot=\u0026#34;\\\u0026#34;$mot\\\u0026#34;\u0026#34;; fi if [[ -z \u0026#34;$id_group_motif\u0026#34; || \u0026#34;$id_group_motif\u0026#34; == \u0026#34;null\u0026#34; ]]; then id_group_motif=\u0026#34;null\u0026#34;; fi cat \u0026lt;\u0026lt;eof replace into listemotifsroutage (id, motif_routage, libelle, mot, motif_sup, id_group_motif, nas) values ($id, \u0026#34;$motif_routage\u0026#34;, \u0026#34;$libelle\u0026#34;, $mot, \u0026#34;$motif_sup\u0026#34;, $id_group_motif, \u0026#34;$nas\u0026#34;); eof done \u0026gt;\u0026gt; requetes.sql ","title":"bash, créer des requêtes sql depuis un csv"},{"date":"2020-02-15","image":"","imageAlt":"","link":"http://example.org/posts/2020-02-15-csv-visualiser-en-ligne-de-commande/","summary":"Voici une commande à ajouter dans son .bashrc afin de visualiser le contenu d\u0026rsquo;un fichier CSV sans avoir à ouvrir une application spécifique.\nfunction lesscsv() { local file=\u0026#34;$1\u0026#34; local sep=\u0026#34;${2:-;}\u0026#34; column -s$sep -nt \u0026#34;$file\u0026#34; | less -#2 -N -S } lesscsv /usr/share/distro-info/ubuntu.csv , ","tags":["bash","csv","linux","visualiser"],"text":"voici une commande à ajouter dans son .bashrc afin de visualiser le contenu d\u0026rsquo;un fichier csv sans avoir à ouvrir une application spécifique.\nfunction lesscsv() { local file=\u0026#34;$1\u0026#34; local sep=\u0026#34;${2:-;}\u0026#34; column -s$sep -nt \u0026#34;$file\u0026#34; | less -#2 -n -s } lesscsv /usr/share/distro-info/ubuntu.csv , ","title":"csv, visualiser en ligne de commande"},{"date":"2019-07-09","image":"","imageAlt":"","link":"http://example.org/posts/2019-07-09-bash-lignes-dupliquees/","summary":"Dans d\u0026rsquo;anciens post, j\u0026rsquo;avais parlé de la commande uniq\nIl est possible de ne garder que les lignes dupliquées. Il faut utiliser l\u0026rsquo;option -d\n$ for A in 1 3 4 2 3 1 1 1 3; do echo $A; done | sort | uniq -dc 4 1 3 3 ","tags":["bash","commande","dupliquées","lignes","uniq"],"text":"dans d\u0026rsquo;anciens post, j\u0026rsquo;avais parlé de la commande uniq\nil est possible de ne garder que les lignes dupliquées. il faut utiliser l\u0026rsquo;option -d\n$ for a in 1 3 4 2 3 1 1 1 3; do echo $a; done | sort | uniq -dc 4 1 3 3 ","title":"bash, lignes dupliquées"},{"date":"2019-07-09","image":"","imageAlt":"","link":"http://example.org/posts/2019-07-09-awk/","summary":"Sur la version du DCG G3 (DCG : Dialog Code Generator)\n/* \u0026lt;DCG_EXCEPTION id=\u0026#34;644\u0026#34; label=\u0026#34;idMenu = id du Choix Svi\u0026#34; type=\u0026#34;Action\u0026#34;\u0026gt; */ idMenu = getIdChoix(getSessionSvi(request), choixSvi); /* \u0026lt;/DCG_EXCEPTION\u0026gt; */ this.setReferenceInCtxSession( request, \u0026#34;idMenu\u0026#34;, idMenu ); addLog(request, \u0026#34;CONFIRM DDSLG_objId { Si537a2ba562f88b0ed24e8fab80913509366c055c }\u0026#34;); En migrant sur le DCG G4 on a :\n/* \u0026lt;DCG_EXCEPTION id=\u0026#34;644\u0026#34; label=\u0026#34;idMenu = id du Choix Svi\u0026#34; type=\u0026#34;Action\u0026#34;\u0026gt; */ idMenu = getIdChoix(getSessionSvi(request), choixSvi); /* \u0026lt;/DCG_EXCEPTION\u0026gt; */ addLog(request, \u0026#34;CONFIRM DDSLG_objId { Si537a2ba562f88b0ed24e8fab80913509366c055c }\u0026#34;); La mise en session est donc perdue, ce qui provoque des erreurs dans le parcours client.","tags":["awk","commande"],"text":"sur la version du dcg g3 (dcg : dialog code generator)\n/* \u0026lt;dcg_exception id=\u0026#34;644\u0026#34; label=\u0026#34;idmenu = id du choix svi\u0026#34; type=\u0026#34;action\u0026#34;\u0026gt; */ idmenu = getidchoix(getsessionsvi(request), choixsvi); /* \u0026lt;/dcg_exception\u0026gt; */ this.setreferenceinctxsession( request, \u0026#34;idmenu\u0026#34;, idmenu ); addlog(request, \u0026#34;confirm ddslg_objid { si537a2ba562f88b0ed24e8fab80913509366c055c }\u0026#34;); en migrant sur le dcg g4 on a :\n/* \u0026lt;dcg_exception id=\u0026#34;644\u0026#34; label=\u0026#34;idmenu = id du choix svi\u0026#34; type=\u0026#34;action\u0026#34;\u0026gt; */ idmenu = getidchoix(getsessionsvi(request), choixsvi); /* \u0026lt;/dcg_exception\u0026gt; */ addlog(request, \u0026#34;confirm ddslg_objid { si537a2ba562f88b0ed24e8fab80913509366c055c }\u0026#34;); la mise en session est donc perdue, ce qui provoque des erreurs dans le parcours client.\nparfois, le setreferenceinctxsession est présent après la balise \u0026lt;/dcg_exception\u0026gt; mais uniquement pour les cas simples (ce qui est à droite du égal est de type \u0026ldquo;primaire\u0026rdquo; comme un entier).\nil faudrait donc passer le code du setreferenceinctxsession dans l\u0026rsquo;exception elle même.\n/* \u0026lt;dcg_exception id=\u0026#34;644\u0026#34; label=\u0026#34;idmenu = id du choix svi\u0026#34; type=\u0026#34;action\u0026#34;\u0026gt; */ idmenu = getidchoix(getsessionsvi(request), choixsvi); this.setreferenceinctxsession( request, \u0026#34;idmenu\u0026#34;, idmenu ); /* \u0026lt;/dcg_exception\u0026gt; */ addlog(request, \u0026#34;confirm ddslg_objid { si537a2ba562f88b0ed24e8fab80913509366c055c }\u0026#34;); le bout de code suivant a pour but de trouver les exceptions non migrées dans la version g4 et qui peuvent poser problème.\n#!/bin/bash for f in $*; do awk -n \u0026#39; statut == 0 \u0026amp;\u0026amp; /\u0026lt;dcg_exception/ \u0026amp;\u0026amp; /type=\u0026#34;action\u0026#34;/ \u0026amp;\u0026amp; /label=\u0026#34;[^\u0026#34;]+=[^\u0026#34;]+\u0026#34;/ { exception = $0 ; corrige = 0; statut = 1 } !statut { next } statut == 1 \u0026amp;\u0026amp; /setref/ { corrige = 1 } statut == 1 \u0026amp;\u0026amp; /loc_/ { corrige = 1 } statut == 1 \u0026amp;\u0026amp; /getsessionsvi\\(request\\).put/ { corrige = 1 } statut == 1 \u0026amp;\u0026amp; /set.*getsessionsvi/ { corrige = 1 } statut == 1 \u0026amp;\u0026amp; /+1/ { corrige = 1 } statut == 1 \u0026amp;\u0026amp; /+ 1/ { corrige = 1 } statut == 1 \u0026amp;\u0026amp; /store/ { corrige = 1 } statut == 1 \u0026amp;\u0026amp; /stat/ { corrige = 1 } statut == 1 \u0026amp;\u0026amp; /nd1isnotidentified/ { corrige = 1 } statut == 2 \u0026amp;\u0026amp; /setref/ { print \u0026#34;ok\u0026#34; exception ; statut = 0; } statut == 2 \u0026amp;\u0026amp; !/setref/ { print corrige ? \u0026#34;ok\u0026#34; exception : \u0026#34;ko\u0026#34; exception ; statut = 0; } /\u0026lt;\\/dcg_exception/ { statut = 2 } \u0026#39; \u0026lt; $f done si après la balise de fin on a le setreference c\u0026rsquo;est qu\u0026rsquo;il n\u0026rsquo;y en a pas besoin.\nsi le setreference est dans l\u0026rsquo;exception (ou que certains pattern y sont) c\u0026rsquo;est que l\u0026rsquo;exception a migrée ou bien qu\u0026rsquo;elle n\u0026rsquo;a pas besoin d\u0026rsquo;être migrée.\n","title":"awk"},{"date":"2019-07-04","image":"","imageAlt":"","link":"http://example.org/posts/2019-07-04-socat-lien-exemples/","summary":"http://technostuff.blogspot.com/2008/10/some-useful-socat-commands.html","tags":["commande","socat"],"text":"http://technostuff.blogspot.com/2008/10/some-useful-socat-commands.html\n","title":"socat, lien exemples"},{"date":"2019-05-29","image":"","imageAlt":"","link":"http://example.org/posts/2019-05-29-virtualbox-et-erreurs-a-l-installation/","summary":"Liens de rappel en vrac\nhttps://askubuntu.com/questions/802668/virtualbox-installation-gives-message-modprobe-vboxdrv-failed\nhttps://askubuntu.com/questions/920689/how-to-fix-modprobe-vboxdrv-error-in-virtualbox\nhttps://askubuntu.com/questions/760671/could-not-load-vboxdrv-after-upgrade-to-ubuntu-16-04-and-i-want-to-keep-secur","tags":["virtualbox"],"text":"liens de rappel en vrac\nhttps://askubuntu.com/questions/802668/virtualbox-installation-gives-message-modprobe-vboxdrv-failed\nhttps://askubuntu.com/questions/920689/how-to-fix-modprobe-vboxdrv-error-in-virtualbox\nhttps://askubuntu.com/questions/760671/could-not-load-vboxdrv-after-upgrade-to-ubuntu-16-04-and-i-want-to-keep-secur\n","title":"VirtualBox et erreurs à l'installation"},{"date":"2019-02-22","image":"","imageAlt":"","link":"http://example.org/posts/2019-02-22-htmlunit-upgrade-et-bouton-de-formulaire-vu-comme-disabled/","summary":"Sur le projet, l\u0026rsquo;upgrade de la version de htmlunit de 2.21 à 2.33 a provoqué une régression.\nLe bouton de validation des formulaires est vu comme disabled.\nSur la version 2.21, le code pour saisir le texte dans les HtmlTextInput utilise la méthode setValueAttribute.\nEntre la version 2.24 et 2.25, setValueAttribute n\u0026rsquo;émet plus l\u0026rsquo;événement qui permet au formulaire de se valider et activer/désactiver le bouton de soumission.\nA partir de la version 2.","tags":["htmlunit"],"text":"sur le projet, l\u0026rsquo;upgrade de la version de htmlunit de 2.21 à 2.33 a provoqué une régression.\nle bouton de validation des formulaires est vu comme disabled.\nsur la version 2.21, le code pour saisir le texte dans les htmltextinput utilise la méthode setvalueattribute.\nentre la version 2.24 et 2.25, setvalueattribute n\u0026rsquo;émet plus l\u0026rsquo;événement qui permet au formulaire de se valider et activer/désactiver le bouton de soumission.\na partir de la version 2.25, il faut utiliser la méthode type pour \u0026ldquo;saisir\u0026rdquo; le texte dans la zone texte.\n","title":"htmlunit, upgrade et bouton de formulaire vu comme disabled"},{"date":"2019-01-15","image":"","imageAlt":"","link":"http://example.org/posts/2019-01-15-sed-garder-les-lignes-qui-matchent-un-pattern-tout-en-faisant-un-remplacement/","summary":"$ cat /proc/cpuinfo | sed -rn \u0026#39;s/(fpu.*): (\\w+)/\\1 \\2/gp\u0026#39; fpu\tyes fpu_exception\tyes fpu\tyes fpu_exception\tyes fpu\tyes fpu_exception\tyes fpu\tyes fpu_exception\tyes L\u0026rsquo;option -n permet de ne pas afficher les lignes tandis que l\u0026rsquo;ajout de /p indique d\u0026rsquo;afficher lors d\u0026rsquo;un matchage.","tags":["commande","cpuinfo"],"text":"$ cat /proc/cpuinfo | sed -rn \u0026#39;s/(fpu.*): (\\w+)/\\1 \\2/gp\u0026#39; fpu\tyes fpu_exception\tyes fpu\tyes fpu_exception\tyes fpu\tyes fpu_exception\tyes fpu\tyes fpu_exception\tyes l\u0026rsquo;option -n permet de ne pas afficher les lignes tandis que l\u0026rsquo;ajout de /p indique d\u0026rsquo;afficher lors d\u0026rsquo;un matchage.\n","title":"sed, garder les lignes qui matchent un pattern tout en faisant un remplacement"},{"date":"2018-12-18","image":"","imageAlt":"","link":"http://example.org/posts/2018-12-18-java-forcer-l-ordre-d-execution-des-tests-unitaires/","summary":"Parfois, des tests unitaires plantent lorsqu\u0026rsquo;ils sont exécutés dans un certain ordre.\nAujourd\u0026rsquo;hui, c\u0026rsquo;est le cas et pour reproduire le problème, j\u0026rsquo;ai utilisé cette annotation qui permet de spécifier l\u0026rsquo;ordre que l\u0026rsquo;on souhaite utiliser lors de l\u0026rsquo;exécution de tous les tests de la classe.\nimport org.junit.FixMethodOrder; import org.junit.Test; import org.junit.runners.MethodSorters; @FixMethodOrder(MethodSorters.NAME_ASCENDING) public class TestMethodOrder { @Test public void testA() { System.out.println(\u0026#34;first\u0026#34;); } @Test public void testB() { System.out.println(\u0026#34;second\u0026#34;); } @Test public void testC() { System.","tags":["java","test","tu"],"text":"parfois, des tests unitaires plantent lorsqu\u0026rsquo;ils sont exécutés dans un certain ordre.\naujourd\u0026rsquo;hui, c\u0026rsquo;est le cas et pour reproduire le problème, j\u0026rsquo;ai utilisé cette annotation qui permet de spécifier l\u0026rsquo;ordre que l\u0026rsquo;on souhaite utiliser lors de l\u0026rsquo;exécution de tous les tests de la classe.\nimport org.junit.fixmethodorder; import org.junit.test; import org.junit.runners.methodsorters; @fixmethodorder(methodsorters.name_ascending) public class testmethodorder { @test public void testa() { system.out.println(\u0026#34;first\u0026#34;); } @test public void testb() { system.out.println(\u0026#34;second\u0026#34;); } @test public void testc() { system.out.println(\u0026#34;third\u0026#34;); } } source : https://github.com/junit-team/junit4/wiki/test-execution-order\n","title":"java, forcer l'ordre d'exécution des tests unitaires"},{"date":"2018-12-17","image":"","imageAlt":"","link":"http://example.org/posts/2018-12-17-java-tests-unitaires-en-ligne-de-commande/","summary":"Rappel:\n$ mvn test $ mvn -Dtest=TestClass test $ mvn -Dtest=TestClass1,TestClass2 test $ mvn -Dtest=TestClass#methodName test $ mvn -Dtest=TestClass#methodPattern* test $ mvn -Dtest=TestClass#methodPattern1*+methodPattern2* test ","tags":["maven","test"],"text":"rappel:\n$ mvn test $ mvn -dtest=testclass test $ mvn -dtest=testclass1,testclass2 test $ mvn -dtest=testclass#methodname test $ mvn -dtest=testclass#methodpattern* test $ mvn -dtest=testclass#methodpattern1*+methodpattern2* test ","title":"java, tests unitaires en ligne de commande"},{"date":"2018-10-17","image":"","imageAlt":"","link":"http://example.org/posts/2018-10-17-bash-script-seqdate/","summary":"Script réutilisable pour générer des dates avec date et seq\n#!/bin/bash usage() { local msg=\u0026#34;$1\u0026#34; if [[ -n \u0026#34;$msg\u0026#34; ]]; then echo $msg fi echo \u0026#34;usage: $0 \u0026lt;FROM=YYYY-MM-DD\u0026gt; \u0026lt;TO=YYYY-MM-DD\u0026gt;\u0026#34; \u0026gt;\u0026amp;2 exit 1 } if [[ \u0026#34;$#\u0026#34; -ne 2 ]]; then usage fi FORMAT=\u0026#34;%Y-%m-%d\u0026#34; FROM=$(date --d \u0026#34;$1\u0026#34; +\u0026#34;$FORMAT\u0026#34;) TO=$(date --d \u0026#34;$2\u0026#34; +\u0026#34;$FORMAT\u0026#34;) if [[ \u0026#34;$FROM\u0026#34; \u0026gt; \u0026#34;$TO\u0026#34; ]]; then read FROM TO \u0026lt;\u0026lt;\u0026lt; \u0026#34;$TO $FROM\u0026#34; fi echo $FROM while [[ \u0026#34;$FROM\u0026#34; !","tags":["commande","date","seq"],"text":"script réutilisable pour générer des dates avec date et seq\n#!/bin/bash usage() { local msg=\u0026#34;$1\u0026#34; if [[ -n \u0026#34;$msg\u0026#34; ]]; then echo $msg fi echo \u0026#34;usage: $0 \u0026lt;from=yyyy-mm-dd\u0026gt; \u0026lt;to=yyyy-mm-dd\u0026gt;\u0026#34; \u0026gt;\u0026amp;2 exit 1 } if [[ \u0026#34;$#\u0026#34; -ne 2 ]]; then usage fi format=\u0026#34;%y-%m-%d\u0026#34; from=$(date --d \u0026#34;$1\u0026#34; +\u0026#34;$format\u0026#34;) to=$(date --d \u0026#34;$2\u0026#34; +\u0026#34;$format\u0026#34;) if [[ \u0026#34;$from\u0026#34; \u0026gt; \u0026#34;$to\u0026#34; ]]; then read from to \u0026lt;\u0026lt;\u0026lt; \u0026#34;$to $from\u0026#34; fi echo $from while [[ \u0026#34;$from\u0026#34; != \u0026#34;$to\u0026#34; ]]; do from=$(date -d \u0026#34;$from 1 day\u0026#34; +\u0026#34;$format\u0026#34;) echo $from done $ ./seqdate.sh 2018-08-01 2018-08-10 2018-08-01 2018-08-02 2018-08-03 2018-08-04 2018-08-05 2018-08-06 2018-08-07 2018-08-08 2018-08-09 2018-08-10 ","title":"bash, script seqdate"},{"date":"2018-10-16","image":"","imageAlt":"","link":"http://example.org/posts/2018-10-16-bash-generer-des-dates-avec-les-commandes-seq-et-date/","summary":"Parfois il peut être utile d\u0026rsquo;avoir une liste de dates pour appeler un script particulier.\nCette liste peut être générée à partir des commandes seq et date comme dans l\u0026rsquo;exemple ci-dessous.\n$ for i in $(seq 0 5); do date -d \u0026#34;20180705 $i day\u0026#34; +\u0026#39;%Y%m%d\u0026#39;; done 20180705 20180706 20180707 20180708 20180709 20180710 $ for i in $(seq 0 5); do date -d \u0026#34;20180705 $i day ago\u0026#34; +\u0026#39;%Y%m%d\u0026#39;; done 20180705 20180704 20180703 20180702 20180701 20180630 ","tags":["commande","date","seq"],"text":"parfois il peut être utile d\u0026rsquo;avoir une liste de dates pour appeler un script particulier.\ncette liste peut être générée à partir des commandes seq et date comme dans l\u0026rsquo;exemple ci-dessous.\n$ for i in $(seq 0 5); do date -d \u0026#34;20180705 $i day\u0026#34; +\u0026#39;%y%m%d\u0026#39;; done 20180705 20180706 20180707 20180708 20180709 20180710 $ for i in $(seq 0 5); do date -d \u0026#34;20180705 $i day ago\u0026#34; +\u0026#39;%y%m%d\u0026#39;; done 20180705 20180704 20180703 20180702 20180701 20180630 ","title":"bash, générer des dates avec les commandes seq et date"},{"date":"2018-07-27","image":"","imageAlt":"","link":"http://example.org/posts/2018-07-27-bash-select/","summary":"Je viens de m\u0026rsquo;apercevoir que je n\u0026rsquo;ai jamais parlé de la commande select sous bash. Celle-ci est très pratique car elle permet de faire un choix en précisant un numéro et non sa valeur.\nExemple d\u0026rsquo;utilisation ci-dessous :\n$ select n in item1 item2 item3 item4 item5; do if [[ -n \u0026#34;$n\u0026#34; ]]; then echo \u0026#34;You choose: $n\u0026#34;; break; else echo \u0026#34;Invalid choice\u0026#34;; fi; done 1) item1 2) item2 3) item3 4) item4 5) item5 #?","tags":["bash","commande","select"],"text":"je viens de m\u0026rsquo;apercevoir que je n\u0026rsquo;ai jamais parlé de la commande select sous bash. celle-ci est très pratique car elle permet de faire un choix en précisant un numéro et non sa valeur.\nexemple d\u0026rsquo;utilisation ci-dessous :\n$ select n in item1 item2 item3 item4 item5; do if [[ -n \u0026#34;$n\u0026#34; ]]; then echo \u0026#34;you choose: $n\u0026#34;; break; else echo \u0026#34;invalid choice\u0026#34;; fi; done 1) item1 2) item2 3) item3 4) item4 5) item5 #? 6 invalid choice #? z invalid choice #? 2 you choose: item2 ","title":"bash, select"},{"date":"2018-07-26","image":"","imageAlt":"","link":"http://example.org/posts/2018-07-26-http-headers-sur-la-gestion-du-cache-et-de-la-securite/","summary":"public static void addNoCacheHeaders(HttpServletResponse resp) { resp.addHeader(HttpHeaders.CACHE_CONTROL, \u0026#34;max-age=0, no-store, no-cache, must-revalidate, proxy-revalidate, private\u0026#34;); resp.addHeader(HttpHeaders.PRAGMA, \u0026#34;no-cache\u0026#34;); resp.addHeader(HttpHeaders.EXPIRES, \u0026#34;-1\u0026#34;); } public static void addSecurityHeaders(HttpServletResponse resp) { resp.addHeader(HttpHeaders.X_FRAME_OPTIONS, \u0026#34;DENY\u0026#34;); resp.addHeader(HttpHeaders.X_XSS_PROTECTION, \u0026#34;1; mode=block\u0026#34;); resp.addHeader(HttpHeaders.X_CONTENT_TYPE_OPTIONS, \u0026#34;nosniff\u0026#34;); } ","tags":["cache","html","http","securité"],"text":"public static void addnocacheheaders(httpservletresponse resp) { resp.addheader(httpheaders.cache_control, \u0026#34;max-age=0, no-store, no-cache, must-revalidate, proxy-revalidate, private\u0026#34;); resp.addheader(httpheaders.pragma, \u0026#34;no-cache\u0026#34;); resp.addheader(httpheaders.expires, \u0026#34;-1\u0026#34;); } public static void addsecurityheaders(httpservletresponse resp) { resp.addheader(httpheaders.x_frame_options, \u0026#34;deny\u0026#34;); resp.addheader(httpheaders.x_xss_protection, \u0026#34;1; mode=block\u0026#34;); resp.addheader(httpheaders.x_content_type_options, \u0026#34;nosniff\u0026#34;); } ","title":"http, headers sur la gestion du cache et de la sécurité"},{"date":"2018-04-20","image":"","imageAlt":"","link":"http://example.org/posts/2018-04-20-commande-history/","summary":"Parfois, on ne sait plus si on a relancé une commande dans le terminal\u0026hellip;\nPour avoir un historique daté, voici une petite configuration à ajouter à son .bashrc\nexport HISTTIMEFORMAT=\u0026#34;%d/%m %H:%M \u0026#34; Désormais, l\u0026rsquo;appel à l\u0026rsquo;historique produit des lignes avec les informations jour/mois heure/minute\n$ history 492 19/04 16:15 cat ko | sed -e \u0026#39;s/.*(//\u0026#39; -e \u0026#39;s/ seconds.*//\u0026#39; -e \u0026#39;s/^[[:space:]]*$//;/^$/d\u0026#39; | awk \u0026#39;{SUM += $1} END {print \u0026#34;Total : \u0026#34;SUM}\u0026#39; 493 19/04 16:15 connect jenk ","tags":["commande","history"],"text":"parfois, on ne sait plus si on a relancé une commande dans le terminal\u0026hellip;\npour avoir un historique daté, voici une petite configuration à ajouter à son .bashrc\nexport histtimeformat=\u0026#34;%d/%m %h:%m \u0026#34; désormais, l\u0026rsquo;appel à l\u0026rsquo;historique produit des lignes avec les informations jour/mois heure/minute\n$ history 492 19/04 16:15 cat ko | sed -e \u0026#39;s/.*(//\u0026#39; -e \u0026#39;s/ seconds.*//\u0026#39; -e \u0026#39;s/^[[:space:]]*$//;/^$/d\u0026#39; | awk \u0026#39;{sum += $1} end {print \u0026#34;total : \u0026#34;sum}\u0026#39; 493 19/04 16:15 connect jenk ","title":"commande, history"},{"date":"2017-11-24","image":"","imageAlt":"","link":"http://example.org/posts/2017-11-24-java-convertir-un-fichier-alaw-en-pcm/","summary":"Dans un billet précédent, je parlais d\u0026rsquo;un petit player en html5 qui devait jouer des wav. Je convertissais les wav en mp3 pour la compatibilité des navigateurs.\nLors de l\u0026rsquo;intégration de celui-ci dans l\u0026rsquo;IHM d\u0026rsquo;administration du serveur vocal, j\u0026rsquo;ai eu quelques soucis de conversion\u0026hellip;\nLa conversion en mp3 ne fonctionnait pas car les fichiers en entrée n\u0026rsquo;étaient pas des vrais \u0026ldquo;wav\u0026rdquo;\u0026hellip; C\u0026rsquo;étaient des fichiers A-law !\nACCUEIL_CHOIX_TARIFS.wav: RIFF (little-endian) data, WAVE audio, ITU G.","tags":["conversion","java","wav"],"text":"dans un billet précédent, je parlais d\u0026rsquo;un petit player en html5 qui devait jouer des wav. je convertissais les wav en mp3 pour la compatibilité des navigateurs.\nlors de l\u0026rsquo;intégration de celui-ci dans l\u0026rsquo;ihm d\u0026rsquo;administration du serveur vocal, j\u0026rsquo;ai eu quelques soucis de conversion\u0026hellip;\nla conversion en mp3 ne fonctionnait pas car les fichiers en entrée n\u0026rsquo;étaient pas des vrais \u0026ldquo;wav\u0026rdquo;\u0026hellip; c\u0026rsquo;étaient des fichiers a-law !\naccueil_choix_tarifs.wav: riff (little-endian) data, wave audio, itu g.711 a-law, mono 8000 hz pour que la conversion en mp3 avec jump3r fonctionne, le format d\u0026rsquo;entrée doit être dans mon cas\nriff (little-endian) data, wave audio, microsoft pcm, 16 bit, mono 8000 hz avec sox, la conversion est simple :\nsox -t al atacmob_message_3.alaw -r 8000 -e signed-integer -b 16 atacmob_message_3.wav mais c\u0026rsquo;est en java que cette conversion doit être faite car embarquée dans tomcat !\nle code suivant permet de convertir en java un fichier itu g.711 a-law en microsoft pcm\nprotected boolean g711towav(file g711_wav, file pcm_wav) throws ioexception, unsupportedaudiofileexception { audioinputstream inputstream = audiosystem.getaudioinputstream(g711_wav); try { audioformat format = inputstream.getformat(); audioinputstream convertedinputstream; if ((format.getencoding() == audioformat.encoding.ulaw) || (format.getencoding() == audioformat.encoding.alaw)) { audioformat tmp = new audioformat( audioformat.encoding.pcm_signed, format.getsamplerate(), format.getsamplesizeinbits() * 2, format.getchannels(), format.getframesize() * 2, format.getframerate(), true); convertedinputstream = audiosystem.getaudioinputstream(tmp, inputstream); audiosystem.write(convertedinputstream, audiofileformat.type.wave, pcm_wav); return true; } return false; } finally { inputstream.close(); } } référence:\nhttps://stackoverflow.com/a/12862290/3550759 ","title":"Java, convertir un fichier alaw en pcm"},{"date":"2017-09-27","image":"","imageAlt":"","link":"http://example.org/posts/2017-09-27-java-convertir-des-wav-en-mp3/","summary":"Je maintiens une IHM d\u0026rsquo;administration dans laquelle un petit player flash permet d\u0026rsquo;écouter des fichiers wav.\nLe passage au player html5 a été laborieux.\nLe player devait s\u0026rsquo;afficher dans une popup (on utilisait auparavant qtip mais le passage à html5 faisait planter le rendu aléatoirement) et un problème d\u0026rsquo;affichage du temps total du morceau était présent de temps à autre (cf solution dans billet précédent).\nUne fois la popup affichée et le problème de temps résolu, je me suis heurté à un autre problème de taille\u0026hellip;","tags":["conversion","java","mp3","wav"],"text":"je maintiens une ihm d\u0026rsquo;administration dans laquelle un petit player flash permet d\u0026rsquo;écouter des fichiers wav.\nle passage au player html5 a été laborieux.\nle player devait s\u0026rsquo;afficher dans une popup (on utilisait auparavant qtip mais le passage à html5 faisait planter le rendu aléatoirement) et un problème d\u0026rsquo;affichage du temps total du morceau était présent de temps à autre (cf solution dans billet précédent).\nune fois la popup affichée et le problème de temps résolu, je me suis heurté à un autre problème de taille\u0026hellip;\nen effet, ie11 (un des navigateurs à supporter) ne lit pas les fichiers wav !!!\nj\u0026rsquo;ai donc cherché à convertir les fichiers wav en mp3.\nla plupart des solutions sont à base de ffmepg encapsulé (comme jave) mais je n\u0026rsquo;ai pas réussi à les intégrer pour les faire fonctionner dans tomcat. cela était certainement dû au security manager\u0026hellip;\npuis par chance, j\u0026rsquo;ai trouvé un convertisseur 100% java : jump3r\nla bibliothèque est disponible sur le repository maven (https://mvnrepository.com/artifact/de.sciss/jump3r/1.0.4) et les sources sur https://github.com/sciss/jump3r\nl\u0026rsquo;utilisation est simple pour convertir un fichier wav en mp3. voici ci-dessous un exemple :\nimport de.sciss.jump3r.main; public void convertwavfiletomp3file(file source, file target) throws ioexception { string[] mp3args = { \u0026#34;--preset\u0026#34;,\u0026#34;standard\u0026#34;, \u0026#34;-q\u0026#34;,\u0026#34;0\u0026#34;, \u0026#34;-m\u0026#34;,\u0026#34;s\u0026#34;, source.getabsolutepath(), target.getabsolutepath() }; (new main()).run(mp3args); } dans celui-ci, la fonction main a été inlinée pour permettre d\u0026rsquo;attraper/relancer une éventuelle ioexception.\njump3r m\u0026rsquo;a sauvé la vie : il a permis de modifier la servlet qui délivrait le wav pour lui faire délivrer un mp3 compatible avec tous les players html 5 des navigateurs.\nliens utiles :\nhttp://textopia.org/androidsoundformats.html http://dinbror.dk/blog/how-to-preload-entire-html5-video-before-play-solved/ ","title":"Java, convertir des wav en mp3"},{"date":"2017-09-27","image":"","imageAlt":"","link":"http://example.org/posts/2017-09-27-html5-player-audio-dans-une-popup/","summary":"Pour mon projet, je devais afficher un player audio HTML5 dans une popup lors d\u0026rsquo;un clic sur un span (fichier son)\u0026hellip;\nVoici ce que cela donne sur un exemple allégé :\n\u0026lt;!DOCTYPE html PUBLIC \u0026#34;-//W3C//DTD XHTML 1.0 Transitional//EN\u0026#34; \u0026#34;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\u0026#34;\u0026gt; \u0026lt;html \u0026gt; \u0026lt;head\u0026gt; \u0026lt;link rel=\u0026#34;stylesheet\u0026#34; type=\u0026#34;text/css\u0026#34; href=\u0026#34;/css/ihmadm.css\u0026#34;/\u0026gt; \u0026lt;title\u0026gt;Player HTML5 popup\u0026lt;/title\u0026gt; \u0026lt;script type=\u0026#34;text/javascript\u0026#34; src=\u0026#34;/js/app/lib/jquery/jquery-1.10.1.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;script type=\u0026#34;text/javascript\u0026#34;\u0026gt; $(document).ready(function() { var playable = function(event, currentTarget) { var sound = $.trim(currentTarget.text()); $(\u0026#34;body\u0026#34;).append(\u0026#39;\u0026lt;div id=\u0026#34;divPlayer\u0026#34; style=\u0026#34;display:none\u0026#34;\u0026gt;\u0026lt;audio id=\u0026#34;player\u0026#34; controls=\u0026#34;controls\u0026#34;\u0026gt;\u0026lt;source id=\u0026#34;sourceAudio\u0026#34; src=\u0026#34;\u0026#34;\u0026gt;Your browser does not support the audio element.","tags":["html","player"],"text":"pour mon projet, je devais afficher un player audio html5 dans une popup lors d\u0026rsquo;un clic sur un span (fichier son)\u0026hellip;\nvoici ce que cela donne sur un exemple allégé :\n\u0026lt;!doctype html public \u0026#34;-//w3c//dtd xhtml 1.0 transitional//en\u0026#34; \u0026#34;http://www.w3.org/tr/xhtml1/dtd/xhtml1-transitional.dtd\u0026#34;\u0026gt; \u0026lt;html \u0026gt; \u0026lt;head\u0026gt; \u0026lt;link rel=\u0026#34;stylesheet\u0026#34; type=\u0026#34;text/css\u0026#34; href=\u0026#34;/css/ihmadm.css\u0026#34;/\u0026gt; \u0026lt;title\u0026gt;player html5 popup\u0026lt;/title\u0026gt; \u0026lt;script type=\u0026#34;text/javascript\u0026#34; src=\u0026#34;/js/app/lib/jquery/jquery-1.10.1.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;script type=\u0026#34;text/javascript\u0026#34;\u0026gt; $(document).ready(function() { var playable = function(event, currenttarget) { var sound = $.trim(currenttarget.text()); $(\u0026#34;body\u0026#34;).append(\u0026#39;\u0026lt;div id=\u0026#34;divplayer\u0026#34; style=\u0026#34;display:none\u0026#34;\u0026gt;\u0026lt;audio id=\u0026#34;player\u0026#34; controls=\u0026#34;controls\u0026#34;\u0026gt;\u0026lt;source id=\u0026#34;sourceaudio\u0026#34; src=\u0026#34;\u0026#34;\u0026gt;your browser does not support the audio element.\u0026lt;/audio\u0026gt;\u0026lt;span class=\u0026#34;closeplayer\u0026#34;\u0026gt;\u0026amp;nbsp;\u0026lt;/span\u0026gt;\u0026lt;/div\u0026gt;\u0026#39;); var onended = function () { $(\u0026#34;#divplayer\u0026#34;).hide(); var player = document.getelementbyid(\u0026#39;player\u0026#39;); player.removeeventlistener(\u0026#39;ended\u0026#39;, onended, false); }; var endonclick = function () { $(\u0026#34;#divplayer\u0026#34;).hide(); var player = document.getelementbyid(\u0026#39;player\u0026#39;); player.pause(); $(\u0026#34;.closeplayer\u0026#34;).off(\u0026#34;click\u0026#34;, endonclick); }; var playsource = function (sourceobject) { var player = document.getelementbyid(\u0026#39;player\u0026#39;); var sourceaudio = document.getelementbyid(\u0026#39;sourceaudio\u0026#39;); sourceaudio.src = sourceobject; player.load(); player.play(); } function play(event, source) { $(\u0026#34;#divplayer\u0026#34;).css({ \u0026#39;top\u0026#39;: event.clienty, \u0026#39;left\u0026#39;: event.clientx, \u0026#39;display\u0026#39;: \u0026#39;inline\u0026#39;, \u0026#39;position\u0026#39;: \u0026#39;absolute\u0026#39; }).show(); var player = document.getelementbyid(\u0026#39;player\u0026#39;); var sourceaudio = document.getelementbyid(\u0026#39;sourceaudio\u0026#39;); // patch : des fois le temps total n\u0026#39;était pas affiché... (contenu renvoyé par une servlet) var req = new xmlhttprequest(); req.open(\u0026#39;get\u0026#39;, source, true); req.responsetype = \u0026#39;blob\u0026#39;; req.onload = function() { // on lit l\u0026#39;audio (donc tout est en buffer) et on le positionne comme source if (this.status === 200) { var trackblob = this.response; var track = url.createobjecturl(trackblob); playsource(track); } } req.onerror = function() { // sinon on prie pour que le temps total soit bien affiché... playsource(source); } req.send(); // fin patch player.addeventlistener(\u0026#34;ended\u0026#34;, onended); $(\u0026#34;.closeplayer\u0026#34;).on(\u0026#34;click\u0026#34;, endonclick); } if (!string.prototype.endswith) { string.prototype.endswith = function(searchstring, position) { var subjectstring = this.tostring(); if (typeof position !== \u0026#39;number\u0026#39; || !isfinite(position) || math.floor(position) !== position || position \u0026gt; subjectstring.length) { position = subjectstring.length; } position -= searchstring.length; var lastindex = subjectstring.lastindexof(searchstring, position); return lastindex !== -1 \u0026amp;\u0026amp; lastindex === position; }; } var source = sound; var player = document.getelementbyid(\u0026#39;player\u0026#39;); play(event, source); }; $(\u0026#39;.sound\u0026#39;).on(\u0026#34;click\u0026#34;, function(event) { return playable(event, $(this)) }); $(\u0026#39;.sound\u0026#39;).css(\u0026#39;cursor\u0026#39;, \u0026#39;pointer\u0026#39;); }); \u0026lt;/script\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; player html5 audio ouverture popup sur clic span \u0026lt;br/\u0026gt; \u0026lt;br/\u0026gt; \u0026lt;span class=\u0026#34;sound\u0026#34;\u0026gt;incoming_call.wav\u0026lt;/span\u0026gt; \u0026lt;br/\u0026gt; \u0026lt;span class=\u0026#34;sound\u0026#34;\u0026gt;incoming_call_short.wav\u0026lt;/span\u0026gt; \u0026lt;br/\u0026gt; \u0026lt;span class=\u0026#34;sound\u0026#34;\u0026gt;new_im.wav\u0026lt;/span\u0026gt; \u0026lt;br/\u0026gt; \u0026lt;span class=\u0026#34;sound\u0026#34;\u0026gt;callclosed.wav\u0026lt;/span\u0026gt; \u0026lt;br/\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; .closeplayer { color: #f00; cursor:pointer; background:url(\u0026#39;./images/close-button.png\u0026#39;) no-repeat center center; width:27px; height:27px; top:-10px; right:-10px; display:inline; position:absolute; } a noter :\nparfois le temps total du morceau n\u0026rsquo;était pas affiché par le player. cela était aléatoire et ce en utilisant le même logiciel (firefox) sous linux ou sous windows (via une machine virtuelle).\nje suspecte que cela était dû au fait que le fichier son était renvoyé par une servlet\u0026hellip;\ndans l\u0026rsquo;exemple ci-dessus, ce n\u0026rsquo;est pas le cas mais j\u0026rsquo;ai laissé le patch pour information (la source m\u0026rsquo;ayant aidé à résoudre ce problème est la suivante :\nhttp://dinbror.dk/blog/how-to-preload-entire-html5-video-before-play-solved/)\n","title":"html5, player audio dans une popup"},{"date":"2017-08-04","image":"","imageAlt":"","link":"http://example.org/posts/2017-08-04-article-cle-usb-encryptee-avec-ubuntu-utilisation-simplifiee-de-luks/","summary":"Article simple et efficace montrant comment créer une clé USB avec une partie cryptée (ext4+luks) et une partie non cryptée visible de tous (fat32).\nhttp://www.galipe.net/articles/cle-usb-encryptee-avec-ubuntu/","tags":["cryptage","usb"],"text":"article simple et efficace montrant comment créer une clé usb avec une partie cryptée (ext4+luks) et une partie non cryptée visible de tous (fat32).\nhttp://www.galipe.net/articles/cle-usb-encryptee-avec-ubuntu/\n","title":"article, Clé USB encryptée avec Ubuntu: utilisation simplifiée de LUKS"},{"date":"2017-05-23","image":"","imageAlt":"","link":"http://example.org/posts/2017-05-23-ssh-scripts-automatises-the-authenticity-of-host-can-t-be-established/","summary":"Lors d\u0026rsquo;appels de scripts automatisés pour \u0026ldquo;calculer\u0026rdquo; ce qui est à mettre en préproduction, j\u0026rsquo;ai souvent des \u0026ldquo;The authenticity of host can\u0026rsquo;t be established\u0026rdquo;. Peut-être parce que la machine est puppétisée\u0026hellip;\nSoit il faut répondre manuellement, soit il faut éviter d\u0026rsquo;avoir le prompt\u0026hellip;\nPour éviter d\u0026rsquo;avoir à répondre, on peut ajouter l\u0026rsquo;option \u0026ldquo;-o StrictHostKeyChecking=no\u0026rdquo; à ses commandes SSH.\n$ ssh user@host.example.com Pseudo-terminal will not be allocated because stdin is not a terminal.","tags":["ssh"],"text":"lors d\u0026rsquo;appels de scripts automatisés pour \u0026ldquo;calculer\u0026rdquo; ce qui est à mettre en préproduction, j\u0026rsquo;ai souvent des \u0026ldquo;the authenticity of host can\u0026rsquo;t be established\u0026rdquo;. peut-être parce que la machine est puppétisée\u0026hellip;\nsoit il faut répondre manuellement, soit il faut éviter d\u0026rsquo;avoir le prompt\u0026hellip;\npour éviter d\u0026rsquo;avoir à répondre, on peut ajouter l\u0026rsquo;option \u0026ldquo;-o stricthostkeychecking=no\u0026rdquo; à ses commandes ssh.\n$ ssh user@host.example.com pseudo-terminal will not be allocated because stdin is not a terminal. the authenticity of host \u0026#39;host.example.com (xx.xx.xx.xx)\u0026#39; can\u0026#39;t be established. ecdsa key fingerprint is xx:xx:xx:xx:xx:xx:xx:xx:xx:xx:xx:xx:xx:xx:xx:xx. are you sure you want to continue connecting (yes/no)? ^c $ ssh -o stricthostkeychecking=no \u0026#34;user@host.example.com\u0026#34; linux host 3.2.0-4-amd64 #1 smp debian 3.2.51-1 x86_64 ######################################## # attention machine puppetisee # ######################################## last login: tue may 23 10:02:42 2017 from yy.yy.yy.yy $ ce n\u0026rsquo;est pas beau, certes\u0026hellip;\nsource : stackoverflow\n","title":"ssh \u0026 scripts automatisés, The authenticity of host can't be established"},{"date":"2016-12-28","image":"","imageAlt":"","link":"http://example.org/posts/2016-12-28-sed-prefixer-sur-la-premiere-ligne-et-suffixer-sur-la-derniere-ligne-sans-modifier-les-lignes-entre/","summary":"$ printf \u0026#34;lorem\\nipsum\\ndolores\\nest\u0026#34; | sed -e \u0026#39;1s/^/\u0026lt;\u0026lt;/;$s/$/\u0026gt;\u0026gt;/;\u0026#39; \u0026lt;\u0026lt;lorem ipsum dolores est\u0026gt;\u0026gt; ","tags":["commande","préfixer","sed","suffixer"],"text":"$ printf \u0026#34;lorem\\nipsum\\ndolores\\nest\u0026#34; | sed -e \u0026#39;1s/^/\u0026lt;\u0026lt;/;$s/$/\u0026gt;\u0026gt;/;\u0026#39; \u0026lt;\u0026lt;lorem ipsum dolores est\u0026gt;\u0026gt; ","title":"sed, prefixer sur la première ligne et suffixer sur la dernière ligne sans modifier les lignes entre"},{"date":"2016-12-13","image":"","imageAlt":"","link":"http://example.org/posts/2016-12-13-linux-connexion-bluetooth-d-une-magic-mouse/","summary":"J\u0026rsquo;ai beaucoup galéré pour faire fonctionner la souris MagicMouse d\u0026rsquo;appel sur Linux Mint.\nEn fait, l\u0026rsquo;ajout via l\u0026rsquo;interface graphique ne fonctionnait pas. Il a fallu que je fasse cela via la console.\nLa procédure qui a fonctionné pour moi se trouve sur la page https://forums.linuxmint.com/viewtopic.php?f=42\u0026amp;t=125166, je suis tombé dessus par hasard\u0026hellip;","tags":["bluetooth","linux","mac","souris"],"text":"j\u0026rsquo;ai beaucoup galéré pour faire fonctionner la souris magicmouse d\u0026rsquo;appel sur linux mint.\nen fait, l\u0026rsquo;ajout via l\u0026rsquo;interface graphique ne fonctionnait pas. il a fallu que je fasse cela via la console.\nla procédure qui a fonctionné pour moi se trouve sur la page https://forums.linuxmint.com/viewtopic.php?f=42\u0026amp;t=125166, je suis tombé dessus par hasard\u0026hellip;\n","title":"linux, connexion bluetooth d'une magic mouse "},{"date":"2016-11-15","image":"","imageAlt":"","link":"http://example.org/posts/2016-11-15-git-object-file-is-empty-loose-object-is-corrupt/","summary":"Sur des repo git sous jenkins, j\u0026rsquo;avais des problèmes\u0026hellip;\nCaused by: hudson.plugins.git.GitException: Command \u0026#34;git -c core.askpass=true fetch --tags --progress uuuu@xxxx.yyyy.zzz:aaaaa/bbbbb.git +refs/heads/*:refs/remotes/origin/*\u0026#34; returned status code 128: stdout: stderr: error: object file .git/objects/99/9de0c2f62f74a48912a0b407948f0e17fc12d3 is empty error: object file .git/objects/99/9de0c2f62f74a48912a0b407948f0e17fc12d3 is empty fatal: loose object 999de0c2f62f74a48912a0b407948f0e17fc12d3 (stored in .git/objects/99/9de0c2f62f74a48912a0b407948f0e17fc12d3) is corrupt fatal: The remote end hung up unexpectedly git stash cd .git/ \u0026amp;\u0026amp; find . -type f -empty -delete git stash clear Pour les résoudre, j\u0026rsquo;ai appliqué la solution de Nicolas disponible sur http://stackoverflow.","tags":["git"],"text":"sur des repo git sous jenkins, j\u0026rsquo;avais des problèmes\u0026hellip;\ncaused by: hudson.plugins.git.gitexception: command \u0026#34;git -c core.askpass=true fetch --tags --progress uuuu@xxxx.yyyy.zzz:aaaaa/bbbbb.git +refs/heads/*:refs/remotes/origin/*\u0026#34; returned status code 128: stdout: stderr: error: object file .git/objects/99/9de0c2f62f74a48912a0b407948f0e17fc12d3 is empty error: object file .git/objects/99/9de0c2f62f74a48912a0b407948f0e17fc12d3 is empty fatal: loose object 999de0c2f62f74a48912a0b407948f0e17fc12d3 (stored in .git/objects/99/9de0c2f62f74a48912a0b407948f0e17fc12d3) is corrupt fatal: the remote end hung up unexpectedly git stash cd .git/ \u0026amp;\u0026amp; find . -type f -empty -delete git stash clear pour les résoudre, j\u0026rsquo;ai appliqué la solution de nicolas disponible sur http://stackoverflow.com/a/14850742/3550759.\n","title":"git, object file is empty, loose object is corrupt"},{"date":"2016-10-13","image":"","imageAlt":"","link":"http://example.org/posts/2016-10-13-bash-gerer-des-archives-de-maniere-uniforme-quelque-soit-le-format-de-celles-ci/","summary":"En cherchant comment comparer deux archives, je suis tombé sur le paquet atool.\nCelui-ci met à disposition :\nun compacteur \u0026ldquo;universel\u0026rdquo; apack un décompacteur \u0026ldquo;universel\u0026rdquo; aunpack un outil pour recompacter dans un autre format arepack un outil pour comparer deux archives adiff La page suivante montre quelques exemples d\u0026rsquo;utilisation :\nhttp://linoxide.com/linux-how-to/extracts-files-archive-atool-utility/","tags":["adiff","apack","archivage","arepack","aunpack","commande"],"text":"en cherchant comment comparer deux archives, je suis tombé sur le paquet atool.\ncelui-ci met à disposition :\nun compacteur \u0026ldquo;universel\u0026rdquo; apack un décompacteur \u0026ldquo;universel\u0026rdquo; aunpack un outil pour recompacter dans un autre format arepack un outil pour comparer deux archives adiff la page suivante montre quelques exemples d\u0026rsquo;utilisation :\nhttp://linoxide.com/linux-how-to/extracts-files-archive-atool-utility/\n","title":"bash, gérer des archives de manière uniforme quelque soit le format de celles-ci"},{"date":"2016-09-21","image":"","imageAlt":"","link":"http://example.org/posts/2016-09-21-bash-composer-une-url-depuis-une-url-de-reference-avec-sed/","summary":"$ link=\u0026#34;https://www.example.com/path/to/somewhere?q=xxx\u0026#34; $ new_link=\u0026#34;$(echo $link | sed -rn \u0026#39;s#([^:]*://[^/]*)/.*#\\1#p\u0026#39;)/another/path/to/somewhere?qq=yyy\u0026#34; $ echo $new_link https://www.example.com/another/path/to/somewhere?qq=yyy ","tags":["bash","de","domaine","nom","sed","url"],"text":"$ link=\u0026#34;https://www.example.com/path/to/somewhere?q=xxx\u0026#34; $ new_link=\u0026#34;$(echo $link | sed -rn \u0026#39;s#([^:]*://[^/]*)/.*#\\1#p\u0026#39;)/another/path/to/somewhere?qq=yyy\u0026#34; $ echo $new_link https://www.example.com/another/path/to/somewhere?qq=yyy ","title":"bash, composer une url depuis une url de référence avec sed"},{"date":"2016-09-16","image":"","imageAlt":"","link":"http://example.org/posts/2016-09-16-mysql-afficher-les-colonnes-d-une-table-matchant-un-pattern/","summary":"mysql\u0026gt; show columns from Sessions where Field like \u0026#39;%date%\u0026#39;; +------------+----------+------+-----+---------+-------+ | Field | Type | Null | Key | Default | Extra | +------------+----------+------+-----+---------+-------+ | date_debut | datetime | NO | MUL | NULL | | | date_fin | datetime | NO | MUL | NULL | | +------------+----------+------+-----+---------+-------+ 2 rows in set (0.01 sec) ","tags":["colonne","mysql"],"text":"mysql\u0026gt; show columns from sessions where field like \u0026#39;%date%\u0026#39;; +------------+----------+------+-----+---------+-------+ | field | type | null | key | default | extra | +------------+----------+------+-----+---------+-------+ | date_debut | datetime | no | mul | null | | | date_fin | datetime | no | mul | null | | +------------+----------+------+-----+---------+-------+ 2 rows in set (0.01 sec) ","title":"mysql, afficher les colonnes d'une table matchant un pattern"},{"date":"2016-09-09","image":"","imageAlt":"","link":"http://example.org/posts/2016-09-09-sed-evaluer-une-commande-bash-lors-du-remplacement/","summary":"Je souhaitai décoder des valeurs encodées en base64 via sed.\nLe paramètre final \u0026ldquo;/e\u0026rdquo; de sed permet d\u0026rsquo;évaluer l\u0026rsquo;expression remplacée.\nIci c\u0026rsquo;est la commande bash qui affiche l\u0026rsquo;attribut suivi d\u0026rsquo;un \u0026lsquo;:\u0026rsquo; et de la valeur décodée.\nComme vous le constatez, l\u0026rsquo;utilisation des valeurs capturées est possible.\n$ cat /tmp/example.txt cn: John Doe @ Home displayName:: Sm9obiBEb2UK mail: johndoe@home.com $ cat /tmp/example.txt | sed -re \u0026#34;s/([^:]+):: (.*)$/echo \\\\1: \\$(echo \\\\2 | base64 -d)/e\u0026#34; cn: John Doe @ Home displayName: John Doe mail: johndoe@home.","tags":["commande","evaluation","sed"],"text":"je souhaitai décoder des valeurs encodées en base64 via sed.\nle paramètre final \u0026ldquo;/e\u0026rdquo; de sed permet d\u0026rsquo;évaluer l\u0026rsquo;expression remplacée.\nici c\u0026rsquo;est la commande bash qui affiche l\u0026rsquo;attribut suivi d\u0026rsquo;un \u0026lsquo;:\u0026rsquo; et de la valeur décodée.\ncomme vous le constatez, l\u0026rsquo;utilisation des valeurs capturées est possible.\n$ cat /tmp/example.txt cn: john doe @ home displayname:: sm9obibeb2uk mail: johndoe@home.com $ cat /tmp/example.txt | sed -re \u0026#34;s/([^:]+):: (.*)$/echo \\\\1: \\$(echo \\\\2 | base64 -d)/e\u0026#34; cn: john doe @ home displayname: john doe mail: johndoe@home.com le code a été difficile à trouver, c\u0026rsquo;est pourquoi je le partage :)\n","title":"sed, évaluer une commande bash lors du remplacement"},{"date":"2016-09-09","image":"","imageAlt":"","link":"http://example.org/posts/2016-09-09-base64-encoder-decoder-sous-bash/","summary":"On peut utiliser les programmes base64 (GNU coreutils) voir recode.\n$ echo \u0026#34;Tralala pouet pouet\u0026#34; Tralala pouet pouet $ echo \u0026#34;Tralala pouet pouet\u0026#34; | base64 VHJhbGFsYSBwb3VldCBwb3VldAo= $ echo VHJhbGFsYSBwb3VldCBwb3VldAo= | base64 -d Tralala pouet pouet $ echo VHJhbGFsYSBwb3VldCBwb3VldAo= | recode /b64 Tralala pouet pouet $ echo \u0026#34;Tralala pouet pouet\u0026#34; | recode ../b64 VHJhbGFsYSBwb3VldCBwb3VldAo= ","tags":["base64","commande","recode"],"text":"on peut utiliser les programmes base64 (gnu coreutils) voir recode.\n$ echo \u0026#34;tralala pouet pouet\u0026#34; tralala pouet pouet $ echo \u0026#34;tralala pouet pouet\u0026#34; | base64 vhjhbgfsysbwb3vldcbwb3vldao= $ echo vhjhbgfsysbwb3vldcbwb3vldao= | base64 -d tralala pouet pouet $ echo vhjhbgfsysbwb3vldcbwb3vldao= | recode /b64 tralala pouet pouet $ echo \u0026#34;tralala pouet pouet\u0026#34; | recode ../b64 vhjhbgfsysbwb3vldcbwb3vldao= ","title":"base64, encoder/décoder sous bash"},{"date":"2016-09-09","image":"","imageAlt":"","link":"http://example.org/posts/2016-09-09-sed-mettre-sur-une-ligne-apres-avoir-matche-un-pattern/","summary":"h H Copy/append pattern space to hold space. g G Copy/append hold space to pattern space. n N Read/append the next line of input into the pattern space. (source: http://stackoverflow.com/questions/12833714/the-concept-of-hold-space-and-pattern-space-in-sed\nLa commande ldapsearch peut renvoyer des attributs avec leur valeur en base64 (présence :: après le nom de l\u0026rsquo;attribut) sur une ou plusieurs lignes (commençant par un espace).\nJe souhaitais donc les merger facilement.\nEn regardant du côté de sed, il est possible de le faire facilement.","tags":["commande","sed"],"text":"h h copy/append pattern space to hold space. g g copy/append hold space to pattern space. n n read/append the next line of input into the pattern space. (source: http://stackoverflow.com/questions/12833714/the-concept-of-hold-space-and-pattern-space-in-sed\nla commande ldapsearch peut renvoyer des attributs avec leur valeur en base64 (présence :: après le nom de l\u0026rsquo;attribut) sur une ou plusieurs lignes (commençant par un espace).\nje souhaitais donc les merger facilement.\nen regardant du côté de sed, il est possible de le faire facilement.\nl\u0026rsquo;exemple ci-dessous montre la commande :\n$ cat /tmp/example.txt ligne1: valeur1 ligne2:: valeur2 sur plusieurs lignes ligne3:: valeur3 sur 2 lignes ligne4:: valeur4 $ cat /tmp/example.txt | sed -re \u0026#39;/\\w+::/{:loop;n;s/\\n /|/;b loop}\u0026#39; ligne1: valeur1 ligne2:: valeur2|sur plusieurs|lignes ligne3:: valeur3|sur 2 lignes ligne4:: valeur4 on recherche les attributs suivis de \u0026lsquo;::\u0026rsquo; puis on commence une boucle (:loop) dans laquelle on rajoute la ligne suivante (n) dans le \u0026ldquo;pattern space\u0026rdquo;. on effectue alors le remplacement du retour chariot suivi de l\u0026rsquo;espace et on reboucle.\n","title":"sed, mettre sur une ligne après avoir matché un pattern"},{"date":"2016-09-07","image":"","imageAlt":"","link":"http://example.org/posts/2016-09-07-linux-mint-17-3-scanner-canon-lide-110/","summary":"J\u0026rsquo;ai eu un problème avec mon scanner lors de la réinstallation de mon système.\nIl scannait la première page mais impossible de scanner les suivantes\u0026hellip; sans déconnecter et reconnecter le scanner.\nEt bien souvent, même en le reconnectant, cela ne fonctionnait pas.\nDu coup, après quelques recheches google, je suis tombé sur cette page\nhttps://bugs.launchpad.net/ubuntu/+source/sane-backends/+bug/1184699\nC\u0026rsquo;est le commentaire #27 qui m\u0026rsquo;a permis de trouver la procédure pour résoudre le problème","tags":["linux","scanner"],"text":"j\u0026rsquo;ai eu un problème avec mon scanner lors de la réinstallation de mon système.\nil scannait la première page mais impossible de scanner les suivantes\u0026hellip; sans déconnecter et reconnecter le scanner.\net bien souvent, même en le reconnectant, cela ne fonctionnait pas.\ndu coup, après quelques recheches google, je suis tombé sur cette page\nhttps://bugs.launchpad.net/ubuntu/+source/sane-backends/+bug/1184699\nc\u0026rsquo;est le commentaire #27 qui m\u0026rsquo;a permis de trouver la procédure pour résoudre le problème\nhttps://bugs.launchpad.net/ubuntu/+source/sane-backends/+bug/1184699/comments/27\n","title":"Linux Mint 17.3, Scanner Canon LIDE 110"},{"date":"2016-09-06","image":"","imageAlt":"","link":"http://example.org/posts/2016-09-06-reseau-simuler-un-wan-sous-linux/","summary":"Il y a deux mois, j\u0026rsquo;ai dû reproduire un bug qui (je soupçonnais) se produisait sur des connexions ADSL avec peu de vitesse d\u0026rsquo;upload.\nPour cela, je me suis basé sur la page suivante qui propose un script de simulation de wan sous linux.\nhttp://blog.nicolargo.com/2009/03/simuler-un-lien-wan-sous-linux.html\nGrâce à ce script j\u0026rsquo;ai pu reproduire le problème et le corriger.","tags":["linux","réseau","simuler","wan"],"text":"il y a deux mois, j\u0026rsquo;ai dû reproduire un bug qui (je soupçonnais) se produisait sur des connexions adsl avec peu de vitesse d\u0026rsquo;upload.\npour cela, je me suis basé sur la page suivante qui propose un script de simulation de wan sous linux.\nhttp://blog.nicolargo.com/2009/03/simuler-un-lien-wan-sous-linux.html\ngrâce à ce script j\u0026rsquo;ai pu reproduire le problème et le corriger.\n","title":"Réseau, simuler un wan sous linux"},{"date":"2016-08-27","image":"","imageAlt":"","link":"http://example.org/posts/2016-08-27-java-acceder-a-une-methode-de-meme-nom-dans-la-classe-encapsulande-depuis-une-classe-anonyme/","summary":"Pour ce faire, il faut utiliser ParamTransform.this pour que la compilation n\u0026rsquo;échoue pas.\npublic abstract class ParamTransform\u0026lt;Init,In,Out\u0026gt; implements Transform\u0026lt;Init,Transform\u0026lt;In,Out\u0026gt;\u0026gt; { public abstract Out apply(Init values, In value); public final Transform\u0026lt;In, Out\u0026gt; apply(final Init values) { return new Transform\u0026lt;In, Out\u0026gt;() { public Out apply(In value) { return ParamTransform.this.apply(values, value); } }; } } ","tags":["compilation","java"],"text":"pour ce faire, il faut utiliser paramtransform.this pour que la compilation n\u0026rsquo;échoue pas.\npublic abstract class paramtransform\u0026lt;init,in,out\u0026gt; implements transform\u0026lt;init,transform\u0026lt;in,out\u0026gt;\u0026gt; { public abstract out apply(init values, in value); public final transform\u0026lt;in, out\u0026gt; apply(final init values) { return new transform\u0026lt;in, out\u0026gt;() { public out apply(in value) { return paramtransform.this.apply(values, value); } }; } } ","title":"java, accéder à une méthode de même nom dans la classe encapsulande depuis une classe anonyme"},{"date":"2016-08-22","image":"","imageAlt":"","link":"http://example.org/posts/2016-08-22-git-alias-pour-historique/","summary":"git config --global alias.lg \u0026#34;log --color --graph --pretty=format:\u0026#39;%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)\u0026lt;%an\u0026gt;%Creset\u0026#39; --abbrev-commit\u0026#34; ","tags":["git","history"],"text":"git config --global alias.lg \u0026#34;log --color --graph --pretty=format:\u0026#39;%cred%h%creset -%c(yellow)%d%creset %s %cgreen(%cr) %c(bold blue)\u0026lt;%an\u0026gt;%creset\u0026#39; --abbrev-commit\u0026#34; ","title":"git alias pour historique"},{"date":"2016-07-12","image":"","imageAlt":"","link":"http://example.org/posts/2016-07-12-ssh-tester-l-etat-d-une-connexion/","summary":"Voici un petit code qui permet de tester l\u0026rsquo;état d\u0026rsquo;une connexion ssh (avec un timeout de 10s) :\nssh -q -o BatchMode=yes -o ConnectTimeout=10 user@example.com exit # ou: # timeout -k 10 10 ssh user@example.com exit res=$? if [ $res -ne 0 ]; then echo Accès KO else echo Accès OK fi ","tags":["ssh","test"],"text":"voici un petit code qui permet de tester l\u0026rsquo;état d\u0026rsquo;une connexion ssh (avec un timeout de 10s) :\nssh -q -o batchmode=yes -o connecttimeout=10 user@example.com exit # ou: # timeout -k 10 10 ssh user@example.com exit res=$? if [ $res -ne 0 ]; then echo accès ko else echo accès ok fi ","title":"ssh, tester l'état d'une connexion"},{"date":"2016-07-12","image":"","imageAlt":"","link":"http://example.org/posts/2016-07-12-sed-supprimer-une-ou-des-lignes-en-fonction-de-leurs-numeros/","summary":"Il est possible d\u0026rsquo;utiliser sed pour supprimer une ligne en fonction de son numéro ou un ensemble de lignes défini par le numéro de ligne de départ et de fin.\nVoici un exemple :\n$ free total used free shared buffers cached Mem: 11997816 4512068 7485748 360084 283812 1716000 -/+ buffers/cache: 2512256 9485560 Swap: 12270588 0 12270588 $ free | sed \u0026#39;2d\u0026#39; total used free shared buffers cached -/+ buffers/cache: 2514236 9483580 Swap: 12270588 0 12270588 $ free | sed \u0026#39;2,3d\u0026#39; total used free shared buffers cached Swap: 12270588 0 12270588 Ceci permet d\u0026rsquo;éviter de jouer avec une succession de head/tail\u0026hellip;","tags":["entre","ligne","lignes","sed","supprimer"],"text":"il est possible d\u0026rsquo;utiliser sed pour supprimer une ligne en fonction de son numéro ou un ensemble de lignes défini par le numéro de ligne de départ et de fin.\nvoici un exemple :\n$ free total used free shared buffers cached mem: 11997816 4512068 7485748 360084 283812 1716000 -/+ buffers/cache: 2512256 9485560 swap: 12270588 0 12270588 $ free | sed \u0026#39;2d\u0026#39; total used free shared buffers cached -/+ buffers/cache: 2514236 9483580 swap: 12270588 0 12270588 $ free | sed \u0026#39;2,3d\u0026#39; total used free shared buffers cached swap: 12270588 0 12270588 ceci permet d\u0026rsquo;éviter de jouer avec une succession de head/tail\u0026hellip;\n","title":"sed, supprimer une ou des lignes en fonction de leurs numéros"},{"date":"2016-07-11","image":"","imageAlt":"","link":"http://example.org/posts/2016-07-11-recode-outil-de-conversion-de-jeux-de-caracteres/","summary":"$ echo \u0026#39;a\u0026amp;lt;b\u0026amp;amp;\u0026amp;nbsp;c\u0026amp;eacute;\u0026#39; | recode html a\u0026lt;b\u0026amp; cé ","tags":["commande","decode","encode","html","recode"],"text":"$ echo \u0026#39;a\u0026amp;lt;b\u0026amp;amp;\u0026amp;nbsp;c\u0026amp;eacute;\u0026#39; | recode html a\u0026lt;b\u0026amp; cé ","title":"recode, outil de conversion de jeux de caractères"},{"date":"2016-07-06","image":"","imageAlt":"","link":"http://example.org/posts/2016-07-06-linux-connaitre-le-modele-et-numero-de-serie-du-pc-sous-linux/","summary":"sudo dmidecode -t system ","tags":["commande","dmidecode","linux"],"text":"sudo dmidecode -t system ","title":"linux, connaître le modèle et numéro de série du PC sous linux"},{"date":"2016-06-29","image":"","imageAlt":"","link":"http://example.org/posts/2016-06-29-firefox-supprimer-les-saisies-individuelles-de-formulaire/","summary":"La procédure est ici : ici\nC\u0026rsquo;est tout simple au final\u0026hellip;","tags":["firefox","formulaires"],"text":"la procédure est ici : ici\nc\u0026rsquo;est tout simple au final\u0026hellip;\n","title":"firefox, supprimer les saisies individuelles de formulaire"},{"date":"2016-06-29","image":"","imageAlt":"","link":"http://example.org/posts/2016-06-29-firefox-sauvegarder-restaurer-les-signets/","summary":"par exemple lors du changement de PC professionnel :\nexporter\nrestaurer","tags":["firefox","signets"],"text":"par exemple lors du changement de pc professionnel :\nexporter\nrestaurer\n","title":"firefox, sauvegarder/restaurer les signets"},{"date":"2016-06-23","image":"","imageAlt":"","link":"http://example.org/posts/2016-06-23-virtualbox-augmenter-la-taille-d-un-disque/","summary":"Voici la procédure pour augmenter la taille d\u0026rsquo;un disque :\nhttp://blog.francis-fustier.fr/en/virtualbox-augmenter-la-taille-du-disque-virtuel/\nsudo vboxmanage modifyhd « path / volume name» –resize [size] Size : 15360 = 15 GB, 20480 = 20 GB, 30720 = 30 GB, etc.. J\u0026rsquo;ai adapté la partie #2 de la procédure comme suit :\nSous windows 7, il faut rechercher l\u0026rsquo;utilitaire \u0026ldquo;créer et formater des partitions de disque dur\u0026rdquo; et l\u0026rsquo;ouvrir Ensuite, il faut sélectionner le disque que l\u0026rsquo;on veut étendre et sélectionner \u0026ldquo;étendre le volume\u0026rdquo; (clic droit) Lien additionnel Dérick (juin 2019) : https://memo-linux.","tags":["virtualbox"],"text":"voici la procédure pour augmenter la taille d\u0026rsquo;un disque :\nhttp://blog.francis-fustier.fr/en/virtualbox-augmenter-la-taille-du-disque-virtuel/\nsudo vboxmanage modifyhd « path / volume name» –resize [size] size : 15360 = 15 gb, 20480 = 20 gb, 30720 = 30 gb, etc.. j\u0026rsquo;ai adapté la partie #2 de la procédure comme suit :\nsous windows 7, il faut rechercher l\u0026rsquo;utilitaire \u0026ldquo;créer et formater des partitions de disque dur\u0026rdquo; et l\u0026rsquo;ouvrir ensuite, il faut sélectionner le disque que l\u0026rsquo;on veut étendre et sélectionner \u0026ldquo;étendre le volume\u0026rdquo; (clic droit) lien additionnel dérick (juin 2019) : https://memo-linux.com/comment-augmenter-la-taille-dune-machine-virtuelle-sous-virtualbox/\n","title":"virtualbox, augmenter la taille d'un disque"},{"date":"2016-05-11","image":"","imageAlt":"","link":"http://example.org/posts/2016-05-11-patch-en-creer-un-et-l-appliquer/","summary":"Voici un exemple pour utiliser la commande patch :\nsvn diff \u0026gt; patch.diff svn revert -R . patch -p0 \u0026lt; patch.diff Parfois, elle peut-être utile. Ici c\u0026rsquo;est surtout pour retenir l\u0026rsquo;option -p0 que je poste cet article.","tags":["commande","patch"],"text":"voici un exemple pour utiliser la commande patch :\nsvn diff \u0026gt; patch.diff svn revert -r . patch -p0 \u0026lt; patch.diff parfois, elle peut-être utile. ici c\u0026rsquo;est surtout pour retenir l\u0026rsquo;option -p0 que je poste cet article.\n","title":"patch, en créer un et l'appliquer"},{"date":"2016-03-16","image":"","imageAlt":"","link":"http://example.org/posts/2016-03-16-java-retirer-les-accents-d-une-chaine/","summary":"Voici le code qui permet de supprimer les accents d\u0026rsquo;une chaîne de caractères.\npublic String removeAccents(String text) { String libelle = Normalizer.normalize(text, Normalizer.Form.NFD); return libelle.replaceAll(\u0026#34;\\\\p{Mn}+\u0026#34;, \u0026#34;\u0026#34;); } @Test public void removeAccents() { String withAccents = \u0026#34;Portez ce vieux whisky au juge blond qui fume sur son île intérieure, à côté de l\u0026#39;alcôve ovoïde, où les bûches se consument dans l\u0026#39;âtre, ce qui lui permet de penser à la cænogénèse de l\u0026#39;être dont il est question dans la cause ambiguë entendue à Moÿ, dans un capharnaüm qui, pense-t-il, diminue çà et là la qualité de son œuvre.","tags":["accents","java"],"text":"voici le code qui permet de supprimer les accents d\u0026rsquo;une chaîne de caractères.\npublic string removeaccents(string text) { string libelle = normalizer.normalize(text, normalizer.form.nfd); return libelle.replaceall(\u0026#34;\\\\p{mn}+\u0026#34;, \u0026#34;\u0026#34;); } @test public void removeaccents() { string withaccents = \u0026#34;portez ce vieux whisky au juge blond qui fume sur son île intérieure, à côté de l\u0026#39;alcôve ovoïde, où les bûches se consument dans l\u0026#39;âtre, ce qui lui permet de penser à la cænogénèse de l\u0026#39;être dont il est question dans la cause ambiguë entendue à moÿ, dans un capharnaüm qui, pense-t-il, diminue çà et là la qualité de son œuvre.\u0026#34;; string withoutaccents = \u0026#34;portez ce vieux whisky au juge blond qui fume sur son ile interieure, a cote de l\u0026#39;alcove ovoide, ou les buches se consument dans l\u0026#39;atre, ce qui lui permet de penser a la cænogenese de l\u0026#39;etre dont il est question dans la cause ambigue entendue a moy, dans un capharnaum qui, pense-t-il, diminue ca et la la qualite de son œuvre.\u0026#34;; assertequals(withoutaccents, removeaccents(withaccents)); } attention, il conserve les lettres ligaturées telles que œ et æ contrairement à la solution proposée sur stackoverflow où ce type de lettres sont tout simplement \u0026ldquo;supprimées\u0026rdquo;.\n","title":"Java, retirer les accents d'une chaîne"},{"date":"2016-03-01","image":"","imageAlt":"","link":"http://example.org/posts/2016-03-01-sed-awk-remplacer-plusieurs-occurences-entre-deux-balises-html/","summary":"sed -ri \u0026#34;/\u0026lt;childProjects\u0026gt;/,/\u0026lt;\\/childProjects\u0026gt;/ { s/monsvi-/MAINTENANCE-$GOROCO-monsvi-/g; }\u0026#34; $config_file Attention, il faut prendre garde au cas où les tags html ne seraient pas uniques :\n$ cat text.txt \u0026lt;a\u0026gt; \u0026lt;b\u0026gt;toto\u0026lt;/b\u0026gt; \u0026lt;c\u0026gt;toto\u0026lt;/c\u0026gt; \u0026lt;b\u0026gt;toto\u0026lt;/b\u0026gt; \u0026lt;/a\u0026gt; $ cat text.txt | sed -r \u0026#39;/\u0026lt;b\u0026gt;/,/\u0026lt;\\/b\u0026gt;/ { s/toto/t*t*/g; }\u0026#39; \u0026lt;a\u0026gt; \u0026lt;b\u0026gt;t*t*\u0026lt;/b\u0026gt; \u0026lt;c\u0026gt;t*t*\u0026lt;/c\u0026gt; \u0026lt;b\u0026gt;t*t*\u0026lt;/b\u0026gt; \u0026lt;/a\u0026gt; Si on a la chance que le tag de fin est sur la même ligne :\n$ cat text.txt | sed -r \u0026#39;/\u0026lt;b\u0026gt;/,0 { s/toto/t*t*/g; }\u0026#39;\u0026lt;a\u0026gt; \u0026lt;b\u0026gt;t*t*\u0026lt;/b\u0026gt; \u0026lt;c\u0026gt;toto\u0026lt;/c\u0026gt; \u0026lt;b\u0026gt;t*t*\u0026lt;/b\u0026gt; \u0026lt;/a\u0026gt; Toutefois, je conseille de préférer awk dont le comportement est plus sûr.","tags":["awk","commande","sed"],"text":"sed -ri \u0026#34;/\u0026lt;childprojects\u0026gt;/,/\u0026lt;\\/childprojects\u0026gt;/ { s/monsvi-/maintenance-$goroco-monsvi-/g; }\u0026#34; $config_file attention, il faut prendre garde au cas où les tags html ne seraient pas uniques :\n$ cat text.txt \u0026lt;a\u0026gt; \u0026lt;b\u0026gt;toto\u0026lt;/b\u0026gt; \u0026lt;c\u0026gt;toto\u0026lt;/c\u0026gt; \u0026lt;b\u0026gt;toto\u0026lt;/b\u0026gt; \u0026lt;/a\u0026gt; $ cat text.txt | sed -r \u0026#39;/\u0026lt;b\u0026gt;/,/\u0026lt;\\/b\u0026gt;/ { s/toto/t*t*/g; }\u0026#39; \u0026lt;a\u0026gt; \u0026lt;b\u0026gt;t*t*\u0026lt;/b\u0026gt; \u0026lt;c\u0026gt;t*t*\u0026lt;/c\u0026gt; \u0026lt;b\u0026gt;t*t*\u0026lt;/b\u0026gt; \u0026lt;/a\u0026gt; si on a la chance que le tag de fin est sur la même ligne :\n$ cat text.txt | sed -r \u0026#39;/\u0026lt;b\u0026gt;/,0 { s/toto/t*t*/g; }\u0026#39;\u0026lt;a\u0026gt; \u0026lt;b\u0026gt;t*t*\u0026lt;/b\u0026gt; \u0026lt;c\u0026gt;toto\u0026lt;/c\u0026gt; \u0026lt;b\u0026gt;t*t*\u0026lt;/b\u0026gt; \u0026lt;/a\u0026gt; toutefois, je conseille de préférer awk dont le comportement est plus sûr.\n$ cat text.txt | awk \u0026#39;/\u0026lt;b\u0026gt;/,/\u0026lt;\\/b\u0026gt;/ { gsub(\u0026#34;toto\u0026#34;, \u0026#34;t*t*\u0026#34;); print; next } { print } \u0026#39; \u0026lt;a\u0026gt; \u0026lt;b\u0026gt;t*t*\u0026lt;/b\u0026gt; \u0026lt;c\u0026gt;toto\u0026lt;/c\u0026gt; \u0026lt;b\u0026gt;t*t*\u0026lt;/b\u0026gt; \u0026lt;/a\u0026gt; ","title":"sed/awk, remplacer plusieurs occurences entre deux balises html"},{"date":"2016-02-19","image":"","imageAlt":"","link":"http://example.org/posts/2016-02-19-java-iso-8859-1-utf-8/","summary":"Ahhhh, ces encodings !\nBref, pour rappel :\n@Test public void testFoo() throws UnsupportedEncodingException { // EntitÃ©s -\u0026gt; Entit\\u00c3\\u00a9s assertEquals(\u0026#34;Entités\u0026#34;, new String(\u0026#34;Entit\\u00c3\\u00a9s\u0026#34;.getBytes(\u0026#34;ISO-8859-1\u0026#34;), \u0026#34;UTF-8\u0026#34;)); } ","tags":["encoding"],"text":"ahhhh, ces encodings !\nbref, pour rappel :\n@test public void testfoo() throws unsupportedencodingexception { // entitã©s -\u0026gt; entit\\u00c3\\u00a9s assertequals(\u0026#34;entités\u0026#34;, new string(\u0026#34;entit\\u00c3\\u00a9s\u0026#34;.getbytes(\u0026#34;iso-8859-1\u0026#34;), \u0026#34;utf-8\u0026#34;)); } ","title":"java, iso-8859-1 \u0026 utf-8"},{"date":"2016-02-18","image":"","imageAlt":"","link":"http://example.org/posts/2016-02-18-java-mockito-espionner-le-retour-d-une-fonction/","summary":"Le code n\u0026rsquo;est pas beau, mais au moins il est copiable directement en test unitaire pour manipuler et tester !\n@Test public void testFoo() throws Exception { class ResultCaptor implements Answer\u0026lt;String\u0026gt; { private String result; String getResult() { return result; } @Override public String answer(InvocationOnMock invocationOnMock) throws Throwable { result = (String) invocationOnMock.callRealMethod(); return result; } } class MyClazz { public String f(String param) { return \u0026#34;out=\u0026#34; + param; } } MyClazz a = new MyClazz(); MyClazz spy = spy(a); ResultCaptor answer = new ResultCaptor(); when(spy.","tags":["java","test","tu"],"text":"le code n\u0026rsquo;est pas beau, mais au moins il est copiable directement en test unitaire pour manipuler et tester !\n@test public void testfoo() throws exception { class resultcaptor implements answer\u0026lt;string\u0026gt; { private string result; string getresult() { return result; } @override public string answer(invocationonmock invocationonmock) throws throwable { result = (string) invocationonmock.callrealmethod(); return result; } } class myclazz { public string f(string param) { return \u0026#34;out=\u0026#34; + param; } } myclazz a = new myclazz(); myclazz spy = spy(a); resultcaptor answer = new resultcaptor(); when(spy.f(anystring())).thenanswer(answer); class clazzusingmyclass { private final myclazz myclazz; public clazzusingmyclass(myclazz clazz) { this.myclazz = clazz; } public void g() { string t = myclazz.f(\u0026#34;hello\u0026#34;); system.out.println(t); } } clazzusingmyclass usingmyclass = new clazzusingmyclass(spy); usingmyclass.g(); assertthat(answer.getresult()).isequalto(\u0026#34;out=hello\u0026#34;); } ","title":"java, mockito espionner le retour d'une fonction"},{"date":"2016-02-12","image":"","imageAlt":"","link":"http://example.org/posts/2016-02-12-ssh-executer-un-sudo-par-ssh-sans-saisir-son-mot-de-passe-pour-sudo/","summary":"Dans le cadre de mon projet, on souhaitait pouvoir exécuter des redémarrages de services depuis son poste local sur des machines accessibles par ssh mais dont on n\u0026rsquo;avait pas accès au compte root.\nLe service est cependant redémmarrable via sudo mais un mot de passe était demandé.\nNous avons mis en place un script qui lit dans un fichier de conf le mot de passe et exécute le sudo (et remplis le mot de passe du sudo) par ssh.","tags":["password","ssh"],"text":"dans le cadre de mon projet, on souhaitait pouvoir exécuter des redémarrages de services depuis son poste local sur des machines accessibles par ssh mais dont on n\u0026rsquo;avait pas accès au compte root.\nle service est cependant redémmarrable via sudo mais un mot de passe était demandé.\nnous avons mis en place un script qui lit dans un fichier de conf le mot de passe et exécute le sudo (et remplis le mot de passe du sudo) par ssh.\ncela donne un code comme ceci :\nssh user@host.example.com \u0026#34;sudo -s service sonar restart \u0026lt;\u0026lt;\u0026lt; \u0026#39;$passwd\u0026#39;\u0026#34; ","title":"ssh, exécuter un sudo par ssh sans saisir son mot de passe (pour sudo)..."},{"date":"2016-02-11","image":"","imageAlt":"","link":"http://example.org/posts/2016-02-11-bash-utilisation-des-commandes-bang/","summary":"Voici un gros post concernant les commandes bang de bash.\nJe connaissais \u0026ldquo;!!\u0026rdquo;, \u0026ldquo;!ligne\u0026rdquo; et \u0026ldquo;!commande\u0026rdquo; ce qui est déjà pas mal. Mais il y en a bien d\u0026rsquo;autres !!!\nEn les connaissant et les utilisant, il doit être possible de minimiser les contacts avec la souris ;)\nLes commandes :\nSyntaxe !! Exécute la dernière commande !509 Exécute la commande 509 de l\u0026#39;historique !-2 Exécute l\u0026#39;avant dernière commande !foo Exécute la dernière commande qui commance par \u0026#39;foo\u0026#39; (cad.","tags":["shebang"],"text":"voici un gros post concernant les commandes bang de bash.\nje connaissais \u0026ldquo;!!\u0026rdquo;, \u0026ldquo;!ligne\u0026rdquo; et \u0026ldquo;!commande\u0026rdquo; ce qui est déjà pas mal. mais il y en a bien d\u0026rsquo;autres !!!\nen les connaissant et les utilisant, il doit être possible de minimiser les contacts avec la souris ;)\nles commandes :\nsyntaxe !! exécute la dernière commande !509 exécute la commande 509 de l\u0026#39;historique !-2 exécute l\u0026#39;avant dernière commande !foo exécute la dernière commande qui commance par \u0026#39;foo\u0026#39; (cad. !ls) !foo:p affiche la commande que !foo exécuterait et l\u0026#39;ajoute à l\u0026#39;historique !$ exécute le dernier mot de la dernière commande (identique à alt + .) !$:p affiche la commande que !$ exécuterait !* exécute la commande précédente sans le premier mot (cad la commande) !*:p affiche la commande que !* exécuterait ^foo^bar exécute la commande précédente en remplaçant \u0026#39;foo\u0026#39; par \u0026#39;bar\u0026#39; dans le premier mot modificateurs de mots !509:2:h supprime le nom du fichier à la fin du chemin dans le 2e argument de la commande 509 de l\u0026#39;historique !509:2:t supprime le début du chemin jusqu\u0026#39;au nom du fichier dans le 2e argument de la commande 509 de l\u0026#39;historique !509:2:r supprime l\u0026#39;extension dans le 2e argument de la commande 509 de l\u0026#39;historique !509:2:e ne garde que l\u0026#39;extension du le 2e argument de la commande 509 de l\u0026#39;historique !509:2:gs/a/x/ remplace les \u0026#39;a\u0026#39; par des \u0026#39;x\u0026#39; dans le 2e argument de la commande 509 de l\u0026#39;historique quelques cas d\u0026rsquo;usage simples :\n$ touch a b c d e $ !! touch a b c d e $ ls !:3 ls c c $ history | tail -n 3 515 touch a b c d e 516 ls c 517 history | tail -n 3 $ ls !515:$ !516:^:p ls e c $ for a in !515:*; do echo $a; done for a in a b c d e; do echo $a; done a b c d e $ history | tail -n 3 518 ls e c 519 for a in a b c d e; do echo $a; done 520 history | tail -n 3 $ !ls ls e c c e $ ^ls^rm rm e c $ history | tail -n 6 518 ls e c 519 for a in a b c d e; do echo $a; done 520 history | tail -n 3 521 ls e c 522 rm e c 523 history | tail -n 6 $ !-3 ls e c ls: impossible d\u0026#39;accéder à e: aucun fichier ou dossier de ce type ls: impossible d\u0026#39;accéder à c: aucun fichier ou dossier de ce type $ !-3:$:p c $ !523 history | tail -n 6 521 ls e c 522 rm e c 523 history | tail -n 6 524 ls e c 525 c 526 history | tail -n 6 $ d\u0026rsquo;autres cas d\u0026rsquo;usage avec modification des paramètres\n$ ls /usr/local/lib/python3.4/dist-packages/aiohttp/client.py /usr/local/lib/python3.4/dist-packages/aiohttp/client.py $ !$:h:p /usr/local/lib/python3.4/dist-packages/aiohttp $ ls /usr/local/lib/python3.4/dist-packages/aiohttp/client.py /usr/local/lib/python3.4/dist-packages/aiohttp/client.py $ !$:t:p client.py $ ls /usr/local/lib/python3.4/dist-packages/aiohttp/client.py /usr/local/lib/python3.4/dist-packages/aiohttp/client.py $ !$:r:p /usr/local/lib/python3.4/dist-packages/aiohttp/client $ ls /usr/local/lib/python3.4/dist-packages/aiohttp/client.py /usr/local/lib/python3.4/dist-packages/aiohttp/client.py $ !$:e:p .py $ !-2:s/.py/.old/:p ls /usr/local/lib/python3.4/dist-packages/aiohttp/client.old sources :\nhttp://ss64.com/bash/bang.html http://samrowe.com/wordpress/advancing-in-the-bash-shell/ http://www.skorks.com/2009/09/bash-shortcuts-for-maximum-productivity/ ","title":"bash, utilisation des commandes bang !"},{"date":"2016-02-11","image":"","imageAlt":"","link":"http://example.org/posts/2016-02-11-ssh-oubli-d-ajout/","summary":"Ca fait longtemps que j\u0026rsquo;utilise ssh mais je n\u0026rsquo;avais rien ajouté au blog le concernant\u0026hellip;\n* ssh-keygen permet de générer sa clé publique et sa clé privée * ssh-copy-id permet de copier sa clé publique sur la machine distante dans le compte spécifié (si non spécifié utilise votre login) SYNOPSIS ssh-copy-id [-n] [-i [identity_file]] [-p port] [-o ssh_option] [user@]hostname * ssh permet de se connecter à la machine distante ssh [user@]hostname ","tags":["ssh"],"text":"ca fait longtemps que j\u0026rsquo;utilise ssh mais je n\u0026rsquo;avais rien ajouté au blog le concernant\u0026hellip;\n* ssh-keygen permet de générer sa clé publique et sa clé privée * ssh-copy-id permet de copier sa clé publique sur la machine distante dans le compte spécifié (si non spécifié utilise votre login) synopsis ssh-copy-id [-n] [-i [identity_file]] [-p port] [-o ssh_option] [user@]hostname * ssh permet de se connecter à la machine distante ssh [user@]hostname ","title":"ssh, oubli d'ajout..."},{"date":"2016-02-10","image":"","imageAlt":"","link":"http://example.org/posts/2016-02-10-automatisation-creer-un-document-pdf-a-partir-d-une-page-web/","summary":"Il est facile de créer un document PDF à partir d\u0026rsquo;une page web.\nPour cela on peut utiliser le programme wkhtmltopdf\n$ wkhtmltopdf \u0026#34;http://mezalor-sc.blogspot.com\u0026#34; mezalor-sc.pdf Loading page (1/2) Printing pages (2/2) Done ou bien phantomjs avec le script rasterize.js\nphantomjs \u0026lt;( curl -s https://raw.githubusercontent.com/ariya/phantomjs/master/examples/rasterize.js ) http://mezalor-sc.blogspot.com mezalor-sc.pdf A noter :\nwkhtmltopdf peut produire des documents avec des tailles de polices différentes entre 2 pages web d\u0026rsquo;un mếme site web (vu au travail), il coupait aussi une ligne entre deux pages du document pdf rasterize.","tags":["pdf","phantomjs","rasterize.js","wkhtmltopdf"],"text":"il est facile de créer un document pdf à partir d\u0026rsquo;une page web.\npour cela on peut utiliser le programme wkhtmltopdf\n$ wkhtmltopdf \u0026#34;http://mezalor-sc.blogspot.com\u0026#34; mezalor-sc.pdf loading page (1/2) printing pages (2/2) done ou bien phantomjs avec le script rasterize.js\nphantomjs \u0026lt;( curl -s https://raw.githubusercontent.com/ariya/phantomjs/master/examples/rasterize.js ) http://mezalor-sc.blogspot.com mezalor-sc.pdf a noter :\nwkhtmltopdf peut produire des documents avec des tailles de polices différentes entre 2 pages web d\u0026rsquo;un mếme site web (vu au travail), il coupait aussi une ligne entre deux pages du document pdf rasterize.js a produit un document pdf avec une police moins jolie que wkhtmltopdf chez moi ","title":"automatisation, créer un document pdf à partir d'une page web"},{"date":"2016-01-27","image":"","imageAlt":"","link":"http://example.org/posts/2016-01-27-bash-type-mime/","summary":"On peut déterminer le type mime d\u0026rsquo;un fichier en bash en utilisant la commande file\n$ file --mime-type tests-fitnesse.tgz tests-fitnesse.tgz: application/gzip $ file --mime-type -b tests-fitnesse.tgz application/gzip $ file -i -b tests-fitnesse.tgz application/gzip; charset=binary $ file --mime-encoding tests-fitnesse.tgz tests-fitnesse.tgz: binary $ file --mime-encoding -b tests-fitnesse.tgz binary -b : supprime le nom du fichier --mime-type : type mime --mime-encoding : encoding -i : type mime + encoding ","tags":["mime","type"],"text":"on peut déterminer le type mime d\u0026rsquo;un fichier en bash en utilisant la commande file\n$ file --mime-type tests-fitnesse.tgz tests-fitnesse.tgz: application/gzip $ file --mime-type -b tests-fitnesse.tgz application/gzip $ file -i -b tests-fitnesse.tgz application/gzip; charset=binary $ file --mime-encoding tests-fitnesse.tgz tests-fitnesse.tgz: binary $ file --mime-encoding -b tests-fitnesse.tgz binary -b : supprime le nom du fichier --mime-type : type mime --mime-encoding : encoding -i : type mime + encoding ","title":"bash, type mime"},{"date":"2016-01-25","image":"","imageAlt":"","link":"http://example.org/posts/2016-01-25-wget-recuperer-un-site/","summary":"Petite commande utilisée dans le cadre de mon projet pour récupérer l\u0026rsquo;ensemble de tests fitnesse afin de les packager et les livrer au client.\nwget -k -p -r -l inf http://localhost:7575/MonSvi --reject-regex \u0026#39;.*(/FitNesse|/files/|[?]).*\u0026#39; -r --recursive Turn on recursive retrieving. The default maximum depth is 5. -l depth --level=depth Specify recursion maximum depth level depth. -k --convert-links After the download is complete, convert the links in the document to make them suitable for local viewing.","tags":["fitnesse","web","wget"],"text":"petite commande utilisée dans le cadre de mon projet pour récupérer l\u0026rsquo;ensemble de tests fitnesse afin de les packager et les livrer au client.\nwget -k -p -r -l inf http://localhost:7575/monsvi --reject-regex \u0026#39;.*(/fitnesse|/files/|[?]).*\u0026#39; -r --recursive turn on recursive retrieving. the default maximum depth is 5. -l depth --level=depth specify recursion maximum depth level depth. -k --convert-links after the download is complete, convert the links in the document to make them suitable for local viewing. this affects not only the visible hyperlinks, but any part of the document that links to external content, such as embedded images, links to style sheets, hyperlinks to non-html content, etc. -p --page-requisites this option causes wget to download all the files that are necessary to properly display a given html page. this includes such things as inlined images, sounds, and referenced stylesheets. --accept-regex urlregex --reject-regex urlregex specify a regular expression to accept or reject the complete url. ","title":"wget, récupérer un site "},{"date":"2016-01-20","image":"","imageAlt":"","link":"http://example.org/posts/2016-01-20-sed-garder-ou-retirer-des-lignes-matchant-un-pattern-specifie/","summary":"Il est possible d\u0026rsquo;utiliser sed pour filter des lignes et garder/ne pas garder celles qui matchent un pattern spécifié\nDans l\u0026rsquo;exemple suivant, on garde ou ne garde pas les lignes contenant le terme ou\n$ cat content.txt Ceci est un texte avec une tabulation avant ou bien deux espaces ou encore un mix des deux $ cat content.txt | sed \u0026#39;/ou/d\u0026#39; Ceci est un texte avec une tabulation avant $ cat content.","tags":["commande","delete","sed"],"text":"il est possible d\u0026rsquo;utiliser sed pour filter des lignes et garder/ne pas garder celles qui matchent un pattern spécifié\ndans l\u0026rsquo;exemple suivant, on garde ou ne garde pas les lignes contenant le terme ou\n$ cat content.txt ceci est un texte avec une tabulation avant ou bien deux espaces ou encore un mix des deux $ cat content.txt | sed \u0026#39;/ou/d\u0026#39; ceci est un texte avec une tabulation avant $ cat content.txt | sed \u0026#39;/ou/!d\u0026#39; ou bien deux espaces ou encore un mix des deux il est tout à fait possible d\u0026rsquo;utiliser l\u0026rsquo;option in-place de sed pour travailler sur le fichier lui même.\n","title":"sed, garder ou retirer des lignes matchant un pattern spécifié"},{"date":"2016-01-20","image":"","imageAlt":"","link":"http://example.org/posts/2016-01-20-terminal-raccourcis-effacement/","summary":"Dans le terminal :\nctrl-w : efface le texte avant le curseur jusqu\u0026rsquo;au premier blanc\nalt-backspace : efface le texte avant le curseur jusqu\u0026rsquo;au premier point, deux points, slash ou blanc","tags":["console","terminal"],"text":"dans le terminal :\nctrl-w : efface le texte avant le curseur jusqu\u0026rsquo;au premier blanc\nalt-backspace : efface le texte avant le curseur jusqu\u0026rsquo;au premier point, deux points, slash ou blanc\n","title":"terminal, raccourcis effacement"},{"date":"2015-12-03","image":"","imageAlt":"","link":"http://example.org/posts/2015-12-03-bash-verifier-que-le-fichier-est-source/","summary":"Le code suivant permet de vérifier que le script est sourcé et non exécuté\n#!/bin/bash if [[ ${BASH_SOURCE[0]} == $0 ]]; then echo \u0026#34;Le script doit être sourcé (commande : source $0)\u0026#34; exit 1 fi $ ../tools/stats.sh Le script doit être sourcé (commande : source ../tools/stats.sh) $ source ../tools/stats.sh Using /home/user/.rvm/gems/ruby-1.8.7-head (env)$ ","tags":["bash","source"],"text":"le code suivant permet de vérifier que le script est sourcé et non exécuté\n#!/bin/bash if [[ ${bash_source[0]} == $0 ]]; then echo \u0026#34;le script doit être sourcé (commande : source $0)\u0026#34; exit 1 fi $ ../tools/stats.sh le script doit être sourcé (commande : source ../tools/stats.sh) $ source ../tools/stats.sh using /home/user/.rvm/gems/ruby-1.8.7-head (env)$ ","title":"bash, vérifier que le fichier est sourcé"},{"date":"2015-11-20","image":"","imageAlt":"","link":"http://example.org/posts/2015-11-20-git-joli-historique/","summary":"git log --all --graph --color --name-status --format=\u0026#34;%C(yellow)%h%C(reset) %C(auto)%d%C(reset) %s\u0026#34; http://blog.xebia.fr/2015/11/13/git-essentials-1-log/","tags":["git","historique"],"text":"git log --all --graph --color --name-status --format=\u0026#34;%c(yellow)%h%c(reset) %c(auto)%d%c(reset) %s\u0026#34; http://blog.xebia.fr/2015/11/13/git-essentials-1-log/\n","title":"git, joli historique "},{"date":"2015-10-24","image":"","imageAlt":"","link":"http://example.org/posts/2015-10-24-archlinux-probleme-de-cle-sur-mise-a-jour-beautiful-soup4/","summary":"erreur: python-beautifulsoup4: key \u0026#34;Daniel Wallace \u0026lt;danielwallace@gtmanfred.com\u0026gt;\u0026#34; is disabled :: Le fichier /var/cache/pacman/pkg/python-beautifulsoup4-4.4.1-1-any.pkg.tar.xz est corrompu (paquet invalide ou corrompu (signature PGP)). # pacman-key --edit-key \u0026#39;danielwallace@gtmanfred.com\u0026#39; pub rsa2048/4F010D48 créé: 2012-03-02 expire: jamais utilisation: SC confiance: inconnu validité: totale *** Cette clef a été désactivée sub rsa2048/182ADEA0 créé: 2012-03-02 expire: jamais utilisation: E [ totale ] (1). Daniel Wallace \u0026lt;danielwallace@gtmanfred.com\u0026gt; [ totale ] (2) Daniel Wallace \u0026lt;daniel.wallace12@gmail.com\u0026gt; [ totale ] (3) Daniel Wallace (gtmanfred) \u0026lt;daniel.","tags":["archlinux","clés","gpg","key"],"text":"erreur: python-beautifulsoup4: key \u0026#34;daniel wallace \u0026lt;danielwallace@gtmanfred.com\u0026gt;\u0026#34; is disabled :: le fichier /var/cache/pacman/pkg/python-beautifulsoup4-4.4.1-1-any.pkg.tar.xz est corrompu (paquet invalide ou corrompu (signature pgp)). # pacman-key --edit-key \u0026#39;danielwallace@gtmanfred.com\u0026#39; pub rsa2048/4f010d48 créé: 2012-03-02 expire: jamais utilisation: sc confiance: inconnu validité: totale *** cette clef a été désactivée sub rsa2048/182adea0 créé: 2012-03-02 expire: jamais utilisation: e [ totale ] (1). daniel wallace \u0026lt;danielwallace@gtmanfred.com\u0026gt; [ totale ] (2) daniel wallace \u0026lt;daniel.wallace12@gmail.com\u0026gt; [ totale ] (3) daniel wallace (gtmanfred) \u0026lt;daniel.wallace@gatech.edu\u0026gt; [ révoquée] (4) daniel wallace (gmail account) \u0026lt;daniel.wallace12@gmail.com\u0026gt; gpg\u0026gt; enable ","title":"archlinux, problème de clé sur mise à jour beautiful-soup4"},{"date":"2015-03-05","image":"","imageAlt":"","link":"http://example.org/posts/2015-03-05-python-connaitre-le-dernier-jour-d-un-mois/","summary":"Il est possible de déterminer facilement le dernier jour d\u0026rsquo;un mois.\nPour cela on peut utiliser le module calendar (bibliothèque standard) qui est assez méconnu.\n\u0026gt;\u0026gt;\u0026gt; import calendar \u0026gt;\u0026gt;\u0026gt; calendar.monthrange(2015,2) (6, 28) Le résultat indique pour Février 2015:\nque le mois comporte 28 jours que le premier jour du mois est un dimanche (0=Lundi, 1=Mardi, \u0026hellip; 6=Dimanche) ","tags":["agenda","calendrier","day","dernier","jour","python"],"text":"il est possible de déterminer facilement le dernier jour d\u0026rsquo;un mois.\npour cela on peut utiliser le module calendar (bibliothèque standard) qui est assez méconnu.\n\u0026gt;\u0026gt;\u0026gt; import calendar \u0026gt;\u0026gt;\u0026gt; calendar.monthrange(2015,2) (6, 28) le résultat indique pour février 2015:\nque le mois comporte 28 jours que le premier jour du mois est un dimanche (0=lundi, 1=mardi, \u0026hellip; 6=dimanche) ","title":"python, connaitre le dernier jour d'un mois..."},{"date":"2015-02-19","image":"","imageAlt":"","link":"http://example.org/posts/2015-02-19-java-gestion-des-messages-au-singulier-et-pluriel/","summary":"Java propose depuis longtemps la possibilité de gérer les singuliers/pluriels via MessageFormat.\nVous trouverez ci-dessous un exemple au travers de tests unitaires.\nMaintenant, fini les rustines dans le code pour les libellés !\nimport junit.framework.TestCase; import java.text.MessageFormat; public class FooTest extends TestCase { public void testPlural() { String formatPattern = \u0026#34;The directory {0} contains {1,choice,0#no file|1#one file|1\u0026lt;{1,number,integer} files}.\u0026#34;; assertEquals(\u0026#34;The directory XYZ contains no file.\u0026#34;, MessageFormat.format(formatPattern, \u0026#34;XYZ\u0026#34;, 0)); assertEquals(\u0026#34;The directory XYZ contains one file.","tags":["java","messages","pluriel","singulier"],"text":"java propose depuis longtemps la possibilité de gérer les singuliers/pluriels via messageformat.\nvous trouverez ci-dessous un exemple au travers de tests unitaires.\nmaintenant, fini les rustines dans le code pour les libellés !\nimport junit.framework.testcase; import java.text.messageformat; public class footest extends testcase { public void testplural() { string formatpattern = \u0026#34;the directory {0} contains {1,choice,0#no file|1#one file|1\u0026lt;{1,number,integer} files}.\u0026#34;; assertequals(\u0026#34;the directory xyz contains no file.\u0026#34;, messageformat.format(formatpattern, \u0026#34;xyz\u0026#34;, 0)); assertequals(\u0026#34;the directory xyz contains one file.\u0026#34;, messageformat.format(formatpattern, \u0026#34;xyz\u0026#34;, 1)); assertequals(\u0026#34;the directory xyz contains 1 234 files.\u0026#34;, messageformat.format(formatpattern, \u0026#34;xyz\u0026#34;, 1234)); } } ","title":"java, gestion des messages au singulier et pluriel"},{"date":"2015-02-19","image":"","imageAlt":"","link":"http://example.org/posts/2015-02-19-python-envoyer-des-pieces-attachees-par-mail/","summary":"#!/usr/bin/python3 import smtplib import os import mimetypes from email.mime.text import MIMEText from email.mime.multipart import MIMEMultipart from email.mime.base import MIMEBase from email import Encoders from email.Utils import COMMASPACE, formatdate def send_mail(send_from, send_to, subject, text, files=[], smtp_server=\u0026#39;smtp.example.com\u0026#39;): assert type(send_to)==list assert type(files)==list msg = MIMEMultipart() msg[\u0026#39;From\u0026#39;] = send_from msg[\u0026#39;To\u0026#39;] = COMMASPACE.join(send_to) msg[\u0026#39;Date\u0026#39;] = formatdate(localtime=True) msg[\u0026#39;Subject\u0026#39;] = subject msg.attach( MIMEText(text) ) for f in files: (mimetype, encoding) = mimetypes.guess_type(f) if mimetype is not None: part = MIMEBase(*mimetype.","tags":["mail","python"],"text":"#!/usr/bin/python3 import smtplib import os import mimetypes from email.mime.text import mimetext from email.mime.multipart import mimemultipart from email.mime.base import mimebase from email import encoders from email.utils import commaspace, formatdate def send_mail(send_from, send_to, subject, text, files=[], smtp_server=\u0026#39;smtp.example.com\u0026#39;): assert type(send_to)==list assert type(files)==list msg = mimemultipart() msg[\u0026#39;from\u0026#39;] = send_from msg[\u0026#39;to\u0026#39;] = commaspace.join(send_to) msg[\u0026#39;date\u0026#39;] = formatdate(localtime=true) msg[\u0026#39;subject\u0026#39;] = subject msg.attach( mimetext(text) ) for f in files: (mimetype, encoding) = mimetypes.guess_type(f) if mimetype is not none: part = mimebase(*mimetype.split(\u0026#39;/\u0026#39;,2)) else: part = mimebase(\u0026#39;application\u0026#39;, \u0026#34;octet-stream\u0026#34;) part.set_payload( \u0026#39;\u0026#39;.join(open(f,\u0026#39;rb\u0026#39;).readlines()) ) encoders.encode_base64(part) part.add_header(\u0026#39;content-disposition\u0026#39;, \u0026#39;attachment; filename=\u0026#34;%s\u0026#34;\u0026#39; % os.path.basename(f)) msg.attach(part) smtp = smtplib.smtp(smtp_server) smtp.sendmail(send_from, send_to, msg.as_string()) smtp.close() me = \u0026#39;me@example.com\u0026#39; to = [ \u0026#39;you@example.com\u0026#39; ] smtp_server = \u0026#39;smtp.example.com\u0026#39; files = [ \u0026#39;/path/to/the/file.ext\u0026#39;, \u0026#39;/path/to/the/other/file.ext\u0026#39; ] message = \u0026#39;veuillez trouver les documents ci-joints\u0026#39; send_mail(me, to, \u0026#39;titre\u0026#39;, message, files, smtp_server) ","title":"Python, envoyer des pièces attachées par mail"},{"date":"2015-02-06","image":"","imageAlt":"","link":"http://example.org/posts/2015-02-06-bash-heredocuments/","summary":"Il est possible de désactiver les substitutions dans les heredocuments en bash.\nPour se faire, il suffit de quoter son nom.\n#!/bin/bash text=\u0026#34;hello the world!\u0026#34; cat\u0026lt;\u0026lt;EOF $text `date` $((3+1)) EOF cat\u0026lt;\u0026lt;\u0026#34;EOF\u0026#34; $text `date` $((3+1)) EOF Produit :\nhello the world! vendredi 6 février 2015, 10:56:26 (UTC+0100) 4 $text `date` $((3+1)) ","tags":["bash","heredocuments"],"text":"il est possible de désactiver les substitutions dans les heredocuments en bash.\npour se faire, il suffit de quoter son nom.\n#!/bin/bash text=\u0026#34;hello the world!\u0026#34; cat\u0026lt;\u0026lt;eof $text `date` $((3+1)) eof cat\u0026lt;\u0026lt;\u0026#34;eof\u0026#34; $text `date` $((3+1)) eof produit :\nhello the world! vendredi 6 février 2015, 10:56:26 (utc+0100) 4 $text `date` $((3+1)) ","title":"bash, heredocuments"},{"date":"2015-02-04","image":"","imageAlt":"","link":"http://example.org/posts/2015-02-04-spam-vocal-spam-sms-comment-lutter/","summary":"Le 0981662199 m\u0026rsquo;a appellé 3 fois en un quart d\u0026rsquo;heure.\nEn écoutant le répondeur, j\u0026rsquo;entends un bruit d\u0026rsquo;openspace très léger\u0026hellip; Certainement fait exprès pour que je rappelle.\nUne recherche sur internet fait apparaître que beaucoup de personnes se plaignent de ce numéro.\nUn service permet de signaler les spams sms et vocaux de manière très simple.\nLa procédure est disponible à l\u0026rsquo;adresse suivante : http://www.33700-spam-sms.fr/index.html\nPour retenir et retrouver comment signaler, retenez le code postal de Mérignac (facile pour les girondins ;)","tags":["sms","spam","vocal"],"text":"le 0981662199 m\u0026rsquo;a appellé 3 fois en un quart d\u0026rsquo;heure.\nen écoutant le répondeur, j\u0026rsquo;entends un bruit d\u0026rsquo;openspace très léger\u0026hellip; certainement fait exprès pour que je rappelle.\nune recherche sur internet fait apparaître que beaucoup de personnes se plaignent de ce numéro.\nun service permet de signaler les spams sms et vocaux de manière très simple.\nla procédure est disponible à l\u0026rsquo;adresse suivante : http://www.33700-spam-sms.fr/index.html\npour retenir et retrouver comment signaler, retenez le code postal de mérignac (facile pour les girondins ;)\n","title":"Spam vocal, Spam SMS comment lutter !!!"},{"date":"2015-01-29","image":"","imageAlt":"","link":"http://example.org/posts/2015-01-29-github-script-de-remplacement-de-chaines-de-caracteres/","summary":"sed et awk sont très bien pour remplacer des chaines par d\u0026rsquo;autres.\nToutefois, le fait que ce soit des regexp qu\u0026rsquo;ils attendent complique l\u0026rsquo;utilisation lorsque la chaine fixe recherchée contient des caractères pouvant être interprétés comme des \u0026ldquo;opérateurs\u0026rdquo; de rexexp (? par exemple)\nsandr est un outil qui permet de faire des recherches de chaines fixes ou non. Des options permettent d\u0026rsquo;extraire les chaines matchées/remplacées dans un fichier et d\u0026rsquo;appliquer des remplacements de masse (via une table de hachage).","tags":["awk","commande","sandr","sed"],"text":"sed et awk sont très bien pour remplacer des chaines par d\u0026rsquo;autres.\ntoutefois, le fait que ce soit des regexp qu\u0026rsquo;ils attendent complique l\u0026rsquo;utilisation lorsque la chaine fixe recherchée contient des caractères pouvant être interprétés comme des \u0026ldquo;opérateurs\u0026rdquo; de rexexp (? par exemple)\nsandr est un outil qui permet de faire des recherches de chaines fixes ou non. des options permettent d\u0026rsquo;extraire les chaines matchées/remplacées dans un fichier et d\u0026rsquo;appliquer des remplacements de masse (via une table de hachage).\nd\u0026rsquo;autres options bien utiles sont disponibles mais je vous laisse les découvrir sur le projet github sandr.\nbonne découverte !\n","title":"Github, script de remplacement de chaines de caractères"},{"date":"2015-01-29","image":"","imageAlt":"","link":"http://example.org/posts/2015-01-29-github-script-de-connexion-centralise/","summary":"Sur mon github (ici), j\u0026rsquo;ai mis à disposition un script de connexion centralisé.\nCelui-ci est bien utile pour avoir tout sous la main (ssh, mysql direct ou via tunnel ssh, etc.)\nLe script est extensible facilement.\nLa recherche de la \u0026ldquo;ressource\u0026rdquo; se fait par mot clé via un mini-moteur de recherche.\nDes exemples d\u0026rsquo;utilisation se trouvent dans le README.","tags":["connect","script"],"text":"sur mon github (ici), j\u0026rsquo;ai mis à disposition un script de connexion centralisé.\ncelui-ci est bien utile pour avoir tout sous la main (ssh, mysql direct ou via tunnel ssh, etc.)\nle script est extensible facilement.\nla recherche de la \u0026ldquo;ressource\u0026rdquo; se fait par mot clé via un mini-moteur de recherche.\ndes exemples d\u0026rsquo;utilisation se trouvent dans le readme.\n","title":"Github, script de connexion centralisé"},{"date":"2015-01-16","image":"","imageAlt":"","link":"http://example.org/posts/2015-01-16-bash-ajout-d-un-repertoire-au-path/","summary":"Pour tester et ajouter un répertoire au PATH, on peut faire comme ceci dans son ~/.bashrc\nif [[ ! \u0026#34;$PATH\u0026#34; =~ (^|:)\u0026#34;/path/to/the/directory/bin\u0026#34;(:|$) ]]; then export PATH=\u0026#34;$PATH:/path/to/the/directory/bin\u0026#34; fi L\u0026rsquo;utilisation d\u0026rsquo;un test avec regexp permet de garder une variable avec un contenu \u0026ldquo;propre\u0026rdquo;.","tags":["bash","path"],"text":"pour tester et ajouter un répertoire au path, on peut faire comme ceci dans son ~/.bashrc\nif [[ ! \u0026#34;$path\u0026#34; =~ (^|:)\u0026#34;/path/to/the/directory/bin\u0026#34;(:|$) ]]; then export path=\u0026#34;$path:/path/to/the/directory/bin\u0026#34; fi l\u0026rsquo;utilisation d\u0026rsquo;un test avec regexp permet de garder une variable avec un contenu \u0026ldquo;propre\u0026rdquo;.\n","title":"Bash, ajout d'un répertoire au PATH"},{"date":"2015-01-14","image":"","imageAlt":"","link":"http://example.org/posts/2015-01-14-bash-comment-faire-pour-executer-du-code-en-fonction-de-la-presence-de-fichier-s/","summary":"Bash met à disposition des opérateurs pour tester l\u0026rsquo;existence de fichiers, leur type, droits d\u0026rsquo;accès\u0026hellip;\nToutefois, dans certains cas, on peut souhaiter tester la présence de fichiers et appliquer un traitement si l\u0026rsquo;un d\u0026rsquo;entre eux existe.\nOn peut utiliser la commande ls couplée à if comme le montre l\u0026rsquo;exemple ci-dessous\n$ touch /tmp/{a,b}.done $ if ls /tmp/*.done \u0026amp;\u0026gt; /dev/null; then echo des fichiers done existent; fi des fichiers done existent $ if ls /tmp/xxx*.","tags":["bash","if"],"text":"bash met à disposition des opérateurs pour tester l\u0026rsquo;existence de fichiers, leur type, droits d\u0026rsquo;accès\u0026hellip;\ntoutefois, dans certains cas, on peut souhaiter tester la présence de fichiers et appliquer un traitement si l\u0026rsquo;un d\u0026rsquo;entre eux existe.\non peut utiliser la commande ls couplée à if comme le montre l\u0026rsquo;exemple ci-dessous\n$ touch /tmp/{a,b}.done $ if ls /tmp/*.done \u0026amp;\u0026gt; /dev/null; then echo des fichiers done existent; fi des fichiers done existent $ if ls /tmp/xxx*.done \u0026amp;\u0026gt; /dev/null; then echo des fichiers xxxdone existent; fi $ ","title":"Bash, comment faire pour exécuter du code en fonction de la présence de fichier*s*"},{"date":"2015-01-07","image":"","imageAlt":"","link":"http://example.org/posts/2015-01-07-bash-creer-dynamiquement-une-liste-de-parametres-pour-appeler-une-commande/","summary":"Voici comment créer dynamiquement une liste de paramètres et l\u0026rsquo;utiliser dans des appels de commande. Le cas des espaces dans les options est bien géré.\nDans le cas présent, cela sert à afficher une boite de dialogue (utilitaire whiptail livré d\u0026rsquo;office sous debian) pour que l\u0026rsquo;utilisateur puisse choisir les actions à effectuer\n$ opts=(\u0026#34;Redémarrer fitnesse\u0026#34; \u0026#34;\u0026#34; off) $ [[ $available -eq 1 ]] \u0026amp;\u0026amp; opts+=(\u0026#34;Redémarrer tomcat\u0026#34; \u0026#34;\u0026#34; off) $ retour=$(whiptail --title \u0026#34;Fitnesse\u0026#34; --checklist \u0026#34;Sélectionner les options\u0026#34; 15 60 8 \u0026#34;${opts[@]}\u0026#34; 3\u0026gt;\u0026amp;1 1\u0026gt;\u0026amp;2 2\u0026gt;\u0026amp;3) $ echo $retour \u0026#34;Redémarrer fitnesse\u0026#34; \u0026#34;Redémarrer tomcat\u0026#34; ","tags":["bash","whiptail"],"text":"voici comment créer dynamiquement une liste de paramètres et l\u0026rsquo;utiliser dans des appels de commande. le cas des espaces dans les options est bien géré.\ndans le cas présent, cela sert à afficher une boite de dialogue (utilitaire whiptail livré d\u0026rsquo;office sous debian) pour que l\u0026rsquo;utilisateur puisse choisir les actions à effectuer\n$ opts=(\u0026#34;redémarrer fitnesse\u0026#34; \u0026#34;\u0026#34; off) $ [[ $available -eq 1 ]] \u0026amp;\u0026amp; opts+=(\u0026#34;redémarrer tomcat\u0026#34; \u0026#34;\u0026#34; off) $ retour=$(whiptail --title \u0026#34;fitnesse\u0026#34; --checklist \u0026#34;sélectionner les options\u0026#34; 15 60 8 \u0026#34;${opts[@]}\u0026#34; 3\u0026gt;\u0026amp;1 1\u0026gt;\u0026amp;2 2\u0026gt;\u0026amp;3) $ echo $retour \u0026#34;redémarrer fitnesse\u0026#34; \u0026#34;redémarrer tomcat\u0026#34; ","title":"bash, créer dynamiquement une liste de paramètres pour appeler une commande"},{"date":"2014-12-19","image":"","imageAlt":"","link":"http://example.org/posts/2014-12-19-bash-md5sum/","summary":"On utilise souvent md5sum et sha1sum pour calculer des sommes de contrôle.\nCes commandes permettent aussi de contrôler celles-ci. Je viens de percuter cette semaine seulement !\nCela peut être pratique pour vérifier automatiquement qu\u0026rsquo;un/des fichier(s) de configuration a/ont été modifié(s) à la main et non généré(s).\n$ export LC_ALL=C $ echo \u0026#34;hello man\u0026#34; \u0026gt; a.txt $ echo \u0026#34;hello yoda\u0026#34; \u0026gt; b.txt $ md5sum *.txt \u0026gt; checksum.md5 $ md5sum -c --status checksum.","tags":[],"text":"on utilise souvent md5sum et sha1sum pour calculer des sommes de contrôle.\nces commandes permettent aussi de contrôler celles-ci. je viens de percuter cette semaine seulement !\ncela peut être pratique pour vérifier automatiquement qu\u0026rsquo;un/des fichier(s) de configuration a/ont été modifié(s) à la main et non généré(s).\n$ export lc_all=c $ echo \u0026#34;hello man\u0026#34; \u0026gt; a.txt $ echo \u0026#34;hello yoda\u0026#34; \u0026gt; b.txt $ md5sum *.txt \u0026gt; checksum.md5 $ md5sum -c --status checksum.md5 \u0026amp;\u0026amp; echo \u0026#34;all files are ok\u0026#34; all files are ok $ echo \u0026#39;modified!\u0026#39; \u0026gt;\u0026gt; b.txt $ md5sum -c checksum.md5 a.txt: ok b.txt: failed md5sum: warning: 1 computed checksum did not match $ md5sum -c --status checksum.md5 \u0026amp;\u0026amp; echo \u0026#34;all files are ok\u0026#34; $ ","title":"bash, md5sum"},{"date":"2014-11-19","image":"","imageAlt":"","link":"http://example.org/posts/2014-11-19-maven-jar-en-repo-local/","summary":"mvn deploy:deploy-file -Durl=file:///home/jfgiraud/IdeaProjects/temmental-example/repo/ -Dfile=./target/temmental-2.0.0-SNAPSHOT.jar -DgroupId=temmental -DartifactId=temmental -Dpackaging=jar -Dversion=2.0-SNAPSHOT ","tags":[],"text":"mvn deploy:deploy-file -durl=file:///home/jfgiraud/ideaprojects/temmental-example/repo/ -dfile=./target/temmental-2.0.0-snapshot.jar -dgroupid=temmental -dartifactid=temmental -dpackaging=jar -dversion=2.0-snapshot ","title":"maven, jar en repo local"},{"date":"2014-10-24","image":"","imageAlt":"","link":"http://example.org/posts/2014-10-24-bash-raccourcis-clavier-connus-et-meconnus/","summary":"Un petit post pour rappeler les raccourcis clavier dans les terminaux.\nCertains sont bien utiles comme le Esc + . que j\u0026rsquo;utilise constamment ;)\n1. Déplacement Ctrl + a Déplace votre curseur en début de ligne Ctrl + e Déplace votre curseur en fin de ligne Ctrl + b Déplace le curseur d\u0026#39;un caractère vers la gauche Ctrl + f Déplace le curseur d\u0026#39;un caractère vers la droite Alt + b ou Esc + b Déplace le curseur de mot en mot vers la gauche Alt + f ou Esc + f Déplace le curseur de mot en mot vers la droite Ctrl + x Ctrl + x Alterne le curseur avec son ancienne position (car x est en forme de croisement) 2.","tags":[],"text":"un petit post pour rappeler les raccourcis clavier dans les terminaux.\ncertains sont bien utiles comme le esc + . que j\u0026rsquo;utilise constamment ;)\n1. déplacement ctrl + a déplace votre curseur en début de ligne ctrl + e déplace votre curseur en fin de ligne ctrl + b déplace le curseur d\u0026#39;un caractère vers la gauche ctrl + f déplace le curseur d\u0026#39;un caractère vers la droite alt + b ou esc + b déplace le curseur de mot en mot vers la gauche alt + f ou esc + f déplace le curseur de mot en mot vers la droite ctrl + x ctrl + x alterne le curseur avec son ancienne position (car x est en forme de croisement) 2. couper / coller ctrl + u efface tous les caractères à gauche du curseur ctrl + k efface tous les caractères à droite du curseur ctrl + y colle la précédente saisie ctrl + w efface le mot précédent alt + bs ou esc + bs coupe le texte jusqu\u0026#39;au début de mot précédent le curseur. 3. modification ctrl + t permet d\u0026#39;inverser la lettre courante avec la précédente alt + t inverse le mot courant et le mot précédent ctrl + d efface le caractère courant ou sinon déconnecte (équivalent de logout) si la ligne est vide alt + d ou esc + d efface le mot suivant alt + c ou esc + c met la lettre sous le curseur en majuscule et les suivantes en minuscules (c pour capitalize) alt + l ou esc + l met un mot en en minuscule (l pour lowercase) alt + u ou esc + u met un mot en majuscule (u pour uppercase) alt + . réécrit le dernier paramètre de la dernière commande ctrl + x ctrl + e edite la ligne courante dans votre éditeur de texte (editor car reprend la variable $editor du shell) esc\u0026lt;nombre\u0026gt;\u0026lt;caractère\u0026gt; répète le caractère autant de fois que le chiffre. ctrl + _ annule la dernière modification alt + r ou esc + r annule les changements et remet la ligne telle qu\u0026#39;elle était dans l\u0026#39;historique. 4. autre alt + . ou esc + . réécrit le dernier paramètre de la dernière commande !! réexécute la dernière commande !x réexécute la dernière commande commencant par x !x:p affiche la dernière commande commencant par x !$ récupere le dernier paramètre de la commande précédente ctrl + r permet de rechercher dans l\u0026#39;historique des commandes précédemment saisies ctrl + l efface le contenu de l\u0026#39;écran ctrl + c arrêter la commande en court ctrl + d quitter le shell en court ","title":"Bash, raccourcis clavier connus et méconnus..."},{"date":"2014-10-07","image":"","imageAlt":"","link":"http://example.org/posts/2014-10-07-linux-copier-un-fichier-dans-plusieurs-repertoires-sans-utiliser-de-boucle/","summary":"Un truc et astuce pour copier un fichier à plusieurs endroits dans utiliser une boucle for\u0026hellip;\nIl suffit d\u0026rsquo;utiliser la commande xargs avec le paramètre -n 1 comme dans l\u0026rsquo;exemple ci-dessous :\n$ ls $ mkdir a b c $ echo hello \u0026gt; test.txt $ tree . ├── a ├── b ├── c └── test.txt 3 directories, 1 file $ echo a b c | xargs -n 1 cp test.txt $ tree .","tags":[],"text":"un truc et astuce pour copier un fichier à plusieurs endroits dans utiliser une boucle for\u0026hellip;\nil suffit d\u0026rsquo;utiliser la commande xargs avec le paramètre -n 1 comme dans l\u0026rsquo;exemple ci-dessous :\n$ ls $ mkdir a b c $ echo hello \u0026gt; test.txt $ tree . ├── a ├── b ├── c └── test.txt 3 directories, 1 file $ echo a b c | xargs -n 1 cp test.txt $ tree . ├── a │ └── test.txt ├── b │ └── test.txt ├── c │ └── test.txt └── test.txt 3 directories, 4 files ","title":"linux, copier un fichier dans plusieurs répertoires sans utiliser de boucle"},{"date":"2014-09-20","image":"","imageAlt":"","link":"http://example.org/posts/2014-09-20-python-liens-pour-asyncio/","summary":"http://hautefeuille.eu/asyncio-python.html http://compiletoi.net/fast-scraping-in-python-with-asyncio.html ","tags":[],"text":"http://hautefeuille.eu/asyncio-python.html http://compiletoi.net/fast-scraping-in-python-with-asyncio.html ","title":"python, liens pour asyncio"},{"date":"2014-09-18","image":"","imageAlt":"","link":"http://example.org/posts/2014-09-18-bash-ajouter-du-contenu-en-debut-de-fichier/","summary":"Voici deux techniques pour ajouter du contenu en début de fichier.\nL\u0026rsquo;une utilise le programme sponge mais nécessite l\u0026rsquo;installation du paquet moreutils, l\u0026rsquo;autre est \u0026ldquo;plus\u0026rdquo; standard puisqu\u0026rsquo;utilise tee disponible dans coreutils.\n$ echo \u0026#39;Le contenu de mon super fichier\u0026#39; \u0026gt;\u0026gt; fichier.txt $ echo \u0026#39;Le contenu de mon super fichier\u0026#39; \u0026gt; fichier.txt $ echo ajouter la ligne | cat - fichier.txt | sponge fichier.txt $ cat fichier.txt ajouter la ligne Le contenu de mon super fichier $ echo ajouter la ligne | cat - fichier.","tags":[],"text":"voici deux techniques pour ajouter du contenu en début de fichier.\nl\u0026rsquo;une utilise le programme sponge mais nécessite l\u0026rsquo;installation du paquet moreutils, l\u0026rsquo;autre est \u0026ldquo;plus\u0026rdquo; standard puisqu\u0026rsquo;utilise tee disponible dans coreutils.\n$ echo \u0026#39;le contenu de mon super fichier\u0026#39; \u0026gt;\u0026gt; fichier.txt $ echo \u0026#39;le contenu de mon super fichier\u0026#39; \u0026gt; fichier.txt $ echo ajouter la ligne | cat - fichier.txt | sponge fichier.txt $ cat fichier.txt ajouter la ligne le contenu de mon super fichier $ echo ajouter la ligne | cat - fichier.txt | tee fichier.txt ajouter la ligne ajouter la ligne le contenu de mon super fichier $ cat fichier.txt ajouter la ligne ajouter la ligne le contenu de mon super fichier $ echo ajouter la ligne | cat - fichier.txt | tee fichier.txt \u0026gt; /dev/null $ cat fichier.txt ajouter la ligne ajouter la ligne ajouter la ligne le contenu de mon super fichier une différence existe toutefois entre les deux. en effet tee produit sur la sortie standart le texte généré.\n","title":"bash, ajouter du contenu en début de fichier"},{"date":"2014-09-16","image":"","imageAlt":"","link":"http://example.org/posts/2014-09-16-bash-variables-modifiees-au-sein-d-une-boucle/","summary":"Il y a quelques temps déjà, je m\u0026rsquo;étais cassé la tête sur des variables que je modifiais dans une boucle et dont les modifications avaient disparues une fois sorti de celle-ci.\nCela s\u0026rsquo;expliquait par le fait que les variables étaient dans un sous-processus et non dans le process courrant.\nLa bonne syntaxe pour modifier des variables au sein d\u0026rsquo;une boucle while est la suivante :\nfunction parse() { local command=\u0026#34;$1\u0026#34; tempf=$(mktemp) $command --help 2\u0026gt;\u0026amp;1 | sed -e \u0026#39;s/^[[:space:]]\\{16,\\}.","tags":[],"text":"il y a quelques temps déjà, je m\u0026rsquo;étais cassé la tête sur des variables que je modifiais dans une boucle et dont les modifications avaient disparues une fois sorti de celle-ci.\ncela s\u0026rsquo;expliquait par le fait que les variables étaient dans un sous-processus et non dans le process courrant.\nla bonne syntaxe pour modifier des variables au sein d\u0026rsquo;une boucle while est la suivante :\nfunction parse() { local command=\u0026#34;$1\u0026#34; tempf=$(mktemp) $command --help 2\u0026gt;\u0026amp;1 | sed -e \u0026#39;s/^[[:space:]]\\{16,\\}.*//\u0026#39; -e \u0026#39;s/^[[:space:]]*//\u0026#39; | grep -e \u0026#39;^-\u0026#39; | sed -e \u0026#39;s/[[:space:]]\\{2,\\}.*//\u0026#39; \u0026gt; $tempf local longopts=\u0026#34;\u0026#34; local shortopts=\u0026#34;\u0026#34; while read line || [[ $line ]]; do required=\u0026#34;\u0026#34; if grep -fq \u0026#39;[=\u0026#39; \u0026lt;\u0026lt;\u0026lt; \u0026#34;$line\u0026#34;; then required=\u0026#34;::\u0026#34; elif grep -fq \u0026#39;=\u0026#39; \u0026lt;\u0026lt;\u0026lt; \u0026#34;$line\u0026#34;; then required=\u0026#34;:\u0026#34; fi while read option || [[ $option ]]; do option=${option%%=*} option=${option%[} if [ ${option:0:2} == \u0026#39;--\u0026#39; ]; then if [ -n \u0026#34;$longopts\u0026#34; ]; then longopts=\u0026#34;${longopts},\u0026#34; fi longopts=\u0026#34;${longopts}${option:2}${required}\u0026#34; else shortopts=\u0026#34;${shortopts}${option:1}${required}\u0026#34; fi done \u0026lt; \u0026lt;(echo $line | tr \u0026#39;,\u0026#39; \u0026#39;\\n\u0026#39; | sed -e \u0026#39;s/^[[:space:]]*//\u0026#39; -e \u0026#39;s/[[:space:]]\\+.*//\u0026#39;) done \u0026lt; $tempf rm -f $tempf echo \u0026#34;-o \u0026#39;$shortopts\u0026#39; -l \u0026#39;$longopts\u0026#39;\u0026#34; } il faut passer par done \u0026lt; \u0026hellip; et non \u0026hellip; | while\n","title":"bash, variables modifiées au sein d'une boucle"},{"date":"2014-09-14","image":"","imageAlt":"","link":"http://example.org/posts/2014-09-14-fichiers-ajout-retrait-bom-dans-un-fichier/","summary":"Il est possible d\u0026rsquo;ajouter/retirer le caractère bom en début de fichier en utilisant la commande uconv.\nUCONV(1) ICU 53.1 Manual UCONV(1) NAME uconv - convert data from one encoding to another SYNOPSIS uconv [ -h, -?, --help ] [ -V, --version ] [ -s, --silent ] [ -v, --verbose ] [ -l, --list | -l, --list-code code | --default-code | -L, --list-transliterators ] [ --canon ] [ -x transliteration ] [ --to-callback callback | -c ] [ --from-callback callback | -i ] [ --callback callback ] [ --fallback | --no-fallback ] [ -b, --block-size size ] [ -f, --from-code encoding ] [ -t, --to-code encoding ] [ --add-signature ] [ --remove-signature ] [ -o, --output file ] [ file.","tags":[],"text":"il est possible d\u0026rsquo;ajouter/retirer le caractère bom en début de fichier en utilisant la commande uconv.\nuconv(1) icu 53.1 manual uconv(1) name uconv - convert data from one encoding to another synopsis uconv [ -h, -?, --help ] [ -v, --version ] [ -s, --silent ] [ -v, --verbose ] [ -l, --list | -l, --list-code code | --default-code | -l, --list-transliterators ] [ --canon ] [ -x transliteration ] [ --to-callback callback | -c ] [ --from-callback callback | -i ] [ --callback callback ] [ --fallback | --no-fallback ] [ -b, --block-size size ] [ -f, --from-code encoding ] [ -t, --to-code encoding ] [ --add-signature ] [ --remove-signature ] [ -o, --output file ] [ file... ] ... --add-signature add a u+feff unicode signature character (bom) if the output charset supports it and does not add one anyway. --remove-signature remove a u+feff unicode signature character (bom). exemple d\u0026rsquo;utilisation :\n$ echo a;b \u0026gt; example.csv $ echo d;e \u0026gt;\u0026gt; example.csv $ hexdump -c example.csv 00000000 61 3b 62 0a 64 3b 65 0a |a;b.d;e.| 00000008 $ uconv --add-signature example.csv | hexdump -c 00000000 ef bb bf 61 3b 62 0a 64 3b 65 0a |...a;b.d;e.| 0000000b ","title":"Fichiers, ajout/retrait BOM dans un fichier"},{"date":"2014-09-09","image":"","imageAlt":"","link":"http://example.org/posts/2014-09-09-windows-vers-linux/","summary":"Lors de récupération de données créées depuis office$, et exportées en CSV, texte brute, l\u0026rsquo;apostrophe se retrouve parfois \u0026ldquo;incurvée\u0026rdquo;.\nCela n\u0026rsquo;est pas forcément très visible mais peut occasionner des problèmes d\u0026rsquo;affichage de page ou de vocalisation dans le cas de services vocaux\u0026hellip;\nU+2019 ’ RIGHT SINGLE QUOTATION MARK Il faut donc penser à convertir ce caractère en \u0026ldquo;vrai\u0026rdquo; apostrophe !","tags":[],"text":"lors de récupération de données créées depuis office$, et exportées en csv, texte brute, l\u0026rsquo;apostrophe se retrouve parfois \u0026ldquo;incurvée\u0026rdquo;.\ncela n\u0026rsquo;est pas forcément très visible mais peut occasionner des problèmes d\u0026rsquo;affichage de page ou de vocalisation dans le cas de services vocaux\u0026hellip;\nu+2019 ’ right single quotation mark il faut donc penser à convertir ce caractère en \u0026ldquo;vrai\u0026rdquo; apostrophe !\n","title":"Windows vers linux"},{"date":"2014-09-03","image":"","imageAlt":"","link":"http://example.org/posts/2014-09-03-bash-recuperer-les-derniers-caracteres-d-une-chaine/","summary":"On connaissait ${s:2} pour récupérer à partir du 3e caractère depuis le début de la chaîne\u0026hellip; Mais à partir de la fin ???\n$ s=\u0026#39;abcde\u0026#39; $ echo ${s: -2} de Fallait penser à mettre un espace\u0026hellip; C\u0026rsquo;était bien caché ;)","tags":[],"text":"on connaissait ${s:2} pour récupérer à partir du 3e caractère depuis le début de la chaîne\u0026hellip; mais à partir de la fin ???\n$ s=\u0026#39;abcde\u0026#39; $ echo ${s: -2} de fallait penser à mettre un espace\u0026hellip; c\u0026rsquo;était bien caché ;)\n","title":"Bash, récupérer les derniers caractères d'une chaine"},{"date":"2014-08-23","image":"","imageAlt":"","link":"http://example.org/posts/2014-08-23-git-cache-du-mot-de-passe-pendant-1h/","summary":"git config --global credential.helper \u0026#39;cache --timeout 3600\u0026#39; ","tags":[],"text":"git config --global credential.helper \u0026#39;cache --timeout 3600\u0026#39; ","title":"Git cache du mot de passe pendant 1h"},{"date":"2014-07-10","image":"","imageAlt":"","link":"http://example.org/posts/2014-07-10-graver-une-image-iso-et-verifier-le-md5sum/","summary":"isofile=/home/jfgiraud/linuxmint-17-cinnamon-64bit-v2.iso growisofs -dvd-compat -Z /dev/sr0=$isofile blocks=$(expr $(du -b $isofile | awk \u0026#39;{print $1}\u0026#39;) / 2048) dd if=/dev/sr0 bs=2048 count=$blocks | md5sum md5sum $isofile ","tags":[],"text":"isofile=/home/jfgiraud/linuxmint-17-cinnamon-64bit-v2.iso growisofs -dvd-compat -z /dev/sr0=$isofile blocks=$(expr $(du -b $isofile | awk \u0026#39;{print $1}\u0026#39;) / 2048) dd if=/dev/sr0 bs=2048 count=$blocks | md5sum md5sum $isofile ","title":"Graver une image iso et vérifier le md5sum"},{"date":"2014-07-01","image":"","imageAlt":"","link":"http://example.org/posts/2014-07-01-perl-retirer-les-accents-d-une-chaine/","summary":"Code pour retirer les accents d\u0026rsquo;une chaîne de caractères :\n#!/usr/bin/perl -CS -w use strict; use warnings; use utf8; use Unicode::Normalize; my $test = \u0026#34;Portez ce vieux whisky au juge blond qui fume sur son île intérieure, à côté de l\u0026#39;alcôve ovoïde, où les bûches se consument dans l\u0026#39;âtre, ce qui lui permet de penser à la cænogénèse de l\u0026#39;être dont il est question dans la cause ambiguë entendue à Moÿ, dans un capharnaüm qui, pense-t-il, diminue çà et là la qualité de son œuvre.","tags":["accent","accents","perl","retirer","supprimer","unicode","unicodedata"],"text":"code pour retirer les accents d\u0026rsquo;une chaîne de caractères :\n#!/usr/bin/perl -cs -w use strict; use warnings; use utf8; use unicode::normalize; my $test = \u0026#34;portez ce vieux whisky au juge blond qui fume sur son île intérieure, à côté de l\u0026#39;alcôve ovoïde, où les bûches se consument dans l\u0026#39;âtre, ce qui lui permet de penser à la cænogénèse de l\u0026#39;être dont il est question dans la cause ambiguë entendue à moÿ, dans un capharnaüm qui, pense-t-il, diminue çà et là la qualité de son œuvre.\u0026#34;; my $decomposed = nfd($test); $decomposed =~ s/\\p{mn}//g; print \u0026#34;$decomposed\\n\u0026#34;; $ chmod +x t.pl $ ./t.pl portez ce vieux whisky au juge blond qui fume sur son ile interieure, a cote de l\u0026#39;alcove ovoide, ou les buches se consument dans l\u0026#39;atre, ce qui lui permet de penser a la cænogenese de l\u0026#39;etre dont il est question dans la cause ambigue entendue a moy, dans un capharnaum qui, pense-t-il, diminue ca et la la qualite de son œuvre. ","title":"Perl, retirer les accents d'une chaine"},{"date":"2014-07-01","image":"","imageAlt":"","link":"http://example.org/posts/2014-07-01-python-retirer-les-accents-d-une-chaine/","summary":"#!/usr/bin/python # -*- coding: utf-8 -*- import re import unicodedata def deaccent(some_unicode_string): return \u0026#39;\u0026#39;.join(c for c in unicodedata.normalize(\u0026#39;NFD\u0026#39;, some_unicode_string) if unicodedata.category(c) != \u0026#39;Mn\u0026#39;) \u0026gt;\u0026gt;\u0026gt; s=\u0026#34;Dès Noël où un zéphyr haï me vêt de glaçons würmiens je dîne d’exquis rôtis de bœuf au kir à l’aÿ d’âge mûr \u0026amp; cætera !\u0026#34; \u0026gt;\u0026gt;\u0026gt; deaccent(s) \u0026#39;Des Noel ou un zephyr hai me vet de glacons wurmiens je dine d’exquis rotis de bœuf au kir a l’ay d’age mur \u0026amp; cætera !","tags":["accent","accents","python","retirer","supprimer","unicode","unicodedata"],"text":"#!/usr/bin/python # -*- coding: utf-8 -*- import re import unicodedata def deaccent(some_unicode_string): return \u0026#39;\u0026#39;.join(c for c in unicodedata.normalize(\u0026#39;nfd\u0026#39;, some_unicode_string) if unicodedata.category(c) != \u0026#39;mn\u0026#39;) \u0026gt;\u0026gt;\u0026gt; s=\u0026#34;dès noël où un zéphyr haï me vêt de glaçons würmiens je dîne d’exquis rôtis de bœuf au kir à l’aÿ d’âge mûr \u0026amp; cætera !\u0026#34; \u0026gt;\u0026gt;\u0026gt; deaccent(s) \u0026#39;des noel ou un zephyr hai me vet de glacons wurmiens je dine d’exquis rotis de bœuf au kir a l’ay d’age mur \u0026amp; cætera !\u0026#39; ","title":"Python, retirer les accents d'une chaine"},{"date":"2014-05-08","image":"","imageAlt":"","link":"http://example.org/posts/2014-05-08-bash-initialiser-un-tableau-avec-le-retour-d-une-commande-et-iterer-dessus/","summary":"Cette méthode est sûre concernant les espaces contenus dans les lignes renvoyées par la commande :)\n$ tree . ├── a │ ├── a 1 │ └── a 2 ├── b │ ├── b 1 │ └── b 2 └── c ├── c 1 └── c 2 3 directories, 6 files $ mapfile -t files \u0026lt; \u0026lt;(find -type f) $ for file in \u0026#34;${files[@]}\u0026#34;; do \u0026gt; echo \u0026#34;file: $file\u0026#34; \u0026gt; done file: .","tags":["array","bash","iterate","loop","mapfile"],"text":"cette méthode est sûre concernant les espaces contenus dans les lignes renvoyées par la commande :)\n$ tree . ├── a │ ├── a 1 │ └── a 2 ├── b │ ├── b 1 │ └── b 2 └── c ├── c 1 └── c 2 3 directories, 6 files $ mapfile -t files \u0026lt; \u0026lt;(find -type f) $ for file in \u0026#34;${files[@]}\u0026#34;; do \u0026gt; echo \u0026#34;file: $file\u0026#34; \u0026gt; done file: ./a/a 2 file: ./a/a 1 file: ./b/b 2 file: ./b/b 1 file: ./c/c 2 file: ./c/c 1 ","title":"bash, initialiser un tableau avec le retour d'une commande et itérer dessus"},{"date":"2014-04-28","image":"","imageAlt":"","link":"http://example.org/posts/2014-04-28-bash-convertir-un-fichier-iso-8859-en-utf-8/","summary":"iconv --from-code=ISO-8859-1 --to-code=UTF-8 fichierIso.csv ","tags":[],"text":"iconv --from-code=iso-8859-1 --to-code=utf-8 fichieriso.csv ","title":"bash, convertir un fichier iso-8859 en utf-8"},{"date":"2014-04-11","image":"","imageAlt":"","link":"http://example.org/posts/2014-04-11-java-xpath-getnfirstxpath/","summary":"private Object getNFirstXpath(HtmlPage page, String fmt, Object ... args) { String request; if (args.length == 0) { request = fmt; } else { request = String.format(fmt, args); } List inputs = page.getByXPath(request); if (inputs == null || inputs.size() == 0) { resultat = String.format(\u0026#34;L\u0026#39;\\u00e9lement \u0026#39;%s\u0026#39; n\u0026#39;a pas \\u00e9t\\u00e9 trouv\\u00e9 dans la page\u0026#34;, request); return null; } return inputs.get(0); } HtmlCheckBoxInput o = (HtmlCheckBoxInput) getNFirstXpath(page, String.format(\u0026#34;//input[@type=\u0026#39;checkbox\u0026#39;][@id=\u0026#39;id_%s_activation\u0026#39;]\u0026#34;, champ, valeur)); HtmlTextInput o = (HtmlTextInput) getNFirstXpath(page, String.","tags":[],"text":"private object getnfirstxpath(htmlpage page, string fmt, object ... args) { string request; if (args.length == 0) { request = fmt; } else { request = string.format(fmt, args); } list inputs = page.getbyxpath(request); if (inputs == null || inputs.size() == 0) { resultat = string.format(\u0026#34;l\u0026#39;\\u00e9lement \u0026#39;%s\u0026#39; n\u0026#39;a pas \\u00e9t\\u00e9 trouv\\u00e9 dans la page\u0026#34;, request); return null; } return inputs.get(0); } htmlcheckboxinput o = (htmlcheckboxinput) getnfirstxpath(page, string.format(\u0026#34;//input[@type=\u0026#39;checkbox\u0026#39;][@id=\u0026#39;id_%s_activation\u0026#39;]\u0026#34;, champ, valeur)); htmltextinput o = (htmltextinput) getnfirstxpath(page, string.format(\u0026#34;//input[@name=\u0026#39;%s\u0026#39;]\u0026#34;, champ)); htmloption o = (htmloption) getnfirstxpath(page, string.format(\u0026#34;//select[@name=\u0026#39;%s\u0026#39;]//option[text()=\u0026#39;%s\u0026#39;]\u0026#34;, champ, valeur)); htmloption o = (htmloption) getnfirstxpath(page, string.format(\u0026#34;//select[@name=\u0026#39;%s\u0026#39;]//option[text()=\u0026#39;%s\u0026#39;][@selected=\u0026#39;\u0026#39;]\u0026#34;, champ, valeur)); list\u0026lt;htmltablerow\u0026gt; trs = (list\u0026lt;htmltablerow\u0026gt;) page.getbyxpath(\u0026#34;//table[@class=\u0026#39;rules\u0026#39;]/tbody/tr[starts-with(@id,\u0026#39;rule_\u0026#39;)]\u0026#34;); string valeur = ((htmlanchor) getnfirstxpath(page, string.format(\u0026#34;//tr[starts-with(@id, \u0026#39;rule_\u0026#39;)]/td[@name=\u0026#39;id\u0026#39;][text()=\u0026#39;%s\u0026#39;]/preceding-sibling::td/a[@class=\u0026#39;on\u0026#39; or @class=\u0026#39;off\u0026#39;]\u0026#34;, numero))).getattribute(\u0026#34;class\u0026#34;); htmltablecell td = (htmltablecell) getnfirstxpath(page, \u0026#34;//tr[starts-with(@id,\u0026#39;rule_\u0026#39;)]/td[@name=\u0026#39;id\u0026#39;][text()=%d]\u0026#34;, numero); list\u0026lt;htmltablerow\u0026gt; trs = (list\u0026lt;htmltablerow\u0026gt;) page.getbyxpath(\u0026#34;//table[@class=\u0026#39;rules\u0026#39;]/tbody/tr\u0026#34;); object o = getnfirstxpath(page, \u0026#34;//span[@class=\u0026#39;section\u0026#39;][contains(text(),\u0026#39;vous \\u00e9ditez une nouvelle r\\u00e8gle\u0026#39;)]\u0026#34;); object o = getnfirstxpath(page, \u0026#34;//span[@class=\u0026#39;section\u0026#39;][contains(text(),\u0026#39;vous \\u00e9ditez la r\\u00e8gle %s\u0026#39;)]\u0026#34;, numero); htmlanchor href = (htmlanchor) getnfirstxpath(page, \u0026#34;//a[@class=\u0026#39;button\u0026#39;][span=\u0026#39;cr\\u00e9er une nouvelle r\\u00e8gle\u0026#39;]\u0026#34;); xpath = \u0026#34;//*[@id=\u0026#39;formulaire\u0026#39;]/div[1]/label[@title=\u0026#39;%s\u0026#39;]\u0026#34;; xpath = \u0026#34;//td[text()=\u0026#39;%s\u0026#39;]\u0026#34;; htmlanchor href = (htmlanchor) getnfirstxpath(page, \u0026#34;//a[@class=\u0026#39;button\u0026#39;][span=\u0026#39;cr\\u00e9er une nouvelle r\\u00e8gle\u0026#39;]\u0026#34;); htmlsubmitinput button = (htmlsubmitinput) getnfirstxpath(page, \u0026#34;//input[@type=\u0026#39;submit\u0026#39;][@value=\u0026#39;%s\u0026#39;]\u0026#34;, nom); htmlhiddeninput actionbutton = (htmlhiddeninput) getnfirstxpath(page, \u0026#34;//input[@type=\u0026#39;hidden\u0026#39;][@id=\u0026#39;action\u0026#39;]\u0026#34;); htmlanchor href = (htmlanchor) getnfirstxpath(page, \u0026#34;//table[@class=\u0026#39;rules\u0026#39;]/tbody/tr/td[@name=\u0026#39;id\u0026#39;][text()=\u0026#39;%d\u0026#39;]/../td[@name=\u0026#39;commandes\u0026#39;]/a[@class=\u0026#39;edition\u0026#39;]\u0026#34;, numero); htmlanchor href = (htmlanchor) getnfirstxpath(page, \u0026#34;//table[@class=\u0026#39;rules\u0026#39;]/tbody/tr/td[@name=\u0026#39;id\u0026#39;][text()=\u0026#39;%d\u0026#39;]/../td[@name=\u0026#39;commandes\u0026#39;]/a[@class=\u0026#39;off\u0026#39;]\u0026#34;, numero); htmlanchor href = (htmlanchor) getnfirstxpath(page, \u0026#34;//table[@class=\u0026#39;rules\u0026#39;]/tbody/tr/td[@name=\u0026#39;id\u0026#39;][text()=\u0026#39;%d\u0026#39;]/../td[@name=\u0026#39;commandes\u0026#39;]/a[@class=\u0026#39;on\u0026#39;]\u0026#34;, numero); htmlelement href = (htmlanchor) getnfirstxpath(page, \u0026#34;//td[@name=\u0026#39;nom_regle\u0026#39;][text()=\u0026#39;%s\u0026#39;]/preceding-sibling::td/a[@class=\u0026#39;delete\u0026#39;]\u0026#34;, nomregle); htmlelement href = (htmlelement) getnfirstxpath(page, \u0026#34;//tr[starts-with(@id, \u0026#39;rule_\u0026#39;)][%s]/td[@name=\u0026#39;id\u0026#39;][text()=%d]\u0026#34;, position, numero); htmlanchor href = (htmlanchor) getnfirstxpath(page, \u0026#34;//a[@href=\u0026#39;/logout\u0026#39;]\u0026#34;); htmltextinput username = (htmltextinput) getnfirstxpath(page, \u0026#34;//input[@id=\u0026#39;username\u0026#39;]\u0026#34;); htmlpasswordinput password = (htmlpasswordinput) getnfirstxpath(page, \u0026#34;//input[@id=\u0026#39;password\u0026#39;]\u0026#34;); htmlbutton button = (htmlbutton) getnfirstxpath(page, \u0026#34;//button[@type=\u0026#39;submit\u0026#39;]\u0026#34;); ","title":"java \u0026 xpath : getNFirstXpath"},{"date":"2014-03-25","image":"","imageAlt":"","link":"http://example.org/posts/2014-03-25-maven-connaitre-la-version-du-pom-xml/","summary":"mvn org.apache.maven.plugins:maven-help-plugin:2.1.1:evaluate -Dexpression=project.version ","tags":[],"text":"mvn org.apache.maven.plugins:maven-help-plugin:2.1.1:evaluate -dexpression=project.version ","title":"Maven, connaître la version du pom.xml"},{"date":"2014-03-12","image":"","imageAlt":"","link":"http://example.org/posts/2014-03-12-comment-modifier-rapidement-une-palanquee-de-fichiers-de-conf/","summary":"#!/bin/bash cat \u0026lt;\u0026lt;EOF \u0026gt; container.tpl \u0026lt;Resource auth=\u0026#34;Container\u0026#34; name=\u0026#34;jdbc/configb\u0026#34; type=\u0026#34;javax.sql.DataSource\u0026#34; factory=\u0026#34;org.apache.tomcat.dbcp.dbcp.BasicDataSourceFactory\u0026#34; driverClassName=\u0026#34;com.mysql.jdbc.Driver\u0026#34; url=\u0026#34;jdbc:mysql://%s/%s\u0026#34; username=\u0026#34;%s\u0026#34; password=\u0026#34;%s\u0026#34; initialSize=\u0026#34;0\u0026#34; maxActive=\u0026#34;30\u0026#34; maxIdle=\u0026#34;4\u0026#34; minIdle=\u0026#34;0\u0026#34; maxWait=\u0026#34;10000\u0026#34; poolPreparedStatements=\u0026#34;true\u0026#34; testOnBorrow=\u0026#34;true\u0026#34; timeBetweenEvictionRunsMillis=\u0026#34;60000\u0026#34; numTestsPerEvictionRun=\u0026#34;30\u0026#34; minEvictableIdleTimeMillis=\u0026#34;180000\u0026#34; removeAbandoned=\u0026#34;true\u0026#34; removeAbandonedTimeout = \u0026#34;60\u0026#34; logAbandoned=\u0026#34;true\u0026#34; /\u0026gt; EOF #\\$0 pour ne pas interpreter... cat \u0026lt;\u0026lt;EOF \u0026gt; container.awk /name=\u0026#34;jdbc\\/3900\u0026#34;/ { gsub(\u0026#34;jdbc/3900\u0026#34;, \u0026#34;jdbc/data\u0026#34;, \\$0); } match(\\$0, /\u0026lt;Parameter name=\u0026#34;mysql.host\u0026#34; value=\u0026#34;(.+)\u0026#34; override=\u0026#34;true\u0026#34;\\/\u0026gt;/, m) { host=m[1]; next } match(\\$0, /\u0026lt;Parameter name=\u0026#34;mysql.database\u0026#34; value=\u0026#34;(.+)\u0026#34; override=\u0026#34;true\u0026#34;\\/\u0026gt;/, m) { database=m[1]; next } match(\\$0, /\u0026lt;Parameter name=\u0026#34;mysql.username\u0026#34; value=\u0026#34;(.+)\u0026#34; override=\u0026#34;true\u0026#34;\\/\u0026gt;/, m) { username=m[1]; next } match(\\$0, /\u0026lt;Parameter name=\u0026#34;mysql.","tags":[],"text":"#!/bin/bash cat \u0026lt;\u0026lt;eof \u0026gt; container.tpl \u0026lt;resource auth=\u0026#34;container\u0026#34; name=\u0026#34;jdbc/configb\u0026#34; type=\u0026#34;javax.sql.datasource\u0026#34; factory=\u0026#34;org.apache.tomcat.dbcp.dbcp.basicdatasourcefactory\u0026#34; driverclassname=\u0026#34;com.mysql.jdbc.driver\u0026#34; url=\u0026#34;jdbc:mysql://%s/%s\u0026#34; username=\u0026#34;%s\u0026#34; password=\u0026#34;%s\u0026#34; initialsize=\u0026#34;0\u0026#34; maxactive=\u0026#34;30\u0026#34; maxidle=\u0026#34;4\u0026#34; minidle=\u0026#34;0\u0026#34; maxwait=\u0026#34;10000\u0026#34; poolpreparedstatements=\u0026#34;true\u0026#34; testonborrow=\u0026#34;true\u0026#34; timebetweenevictionrunsmillis=\u0026#34;60000\u0026#34; numtestsperevictionrun=\u0026#34;30\u0026#34; minevictableidletimemillis=\u0026#34;180000\u0026#34; removeabandoned=\u0026#34;true\u0026#34; removeabandonedtimeout = \u0026#34;60\u0026#34; logabandoned=\u0026#34;true\u0026#34; /\u0026gt; eof #\\$0 pour ne pas interpreter... cat \u0026lt;\u0026lt;eof \u0026gt; container.awk /name=\u0026#34;jdbc\\/3900\u0026#34;/ { gsub(\u0026#34;jdbc/3900\u0026#34;, \u0026#34;jdbc/data\u0026#34;, \\$0); } match(\\$0, /\u0026lt;parameter name=\u0026#34;mysql.host\u0026#34; value=\u0026#34;(.+)\u0026#34; override=\u0026#34;true\u0026#34;\\/\u0026gt;/, m) { host=m[1]; next } match(\\$0, /\u0026lt;parameter name=\u0026#34;mysql.database\u0026#34; value=\u0026#34;(.+)\u0026#34; override=\u0026#34;true\u0026#34;\\/\u0026gt;/, m) { database=m[1]; next } match(\\$0, /\u0026lt;parameter name=\u0026#34;mysql.username\u0026#34; value=\u0026#34;(.+)\u0026#34; override=\u0026#34;true\u0026#34;\\/\u0026gt;/, m) { username=m[1]; next } match(\\$0, /\u0026lt;parameter name=\u0026#34;mysql.password\u0026#34; value=\u0026#34;(.+)\u0026#34; override=\u0026#34;true\u0026#34;\\/\u0026gt;/, m) { password=m[1]; next } /\u0026lt;\\/context\u0026gt;/ { printf fmt, host, database, username, password; printf \u0026#34;\\n\u0026#34;; } 1 eof for file in $* do tofile=$(mktemp) awk -v fmt=\u0026#34;$(cat container.tpl)\u0026#34; -f container.awk $file | xmllint --format --dropdtd - | grep -v \u0026#39;\u0026lt;?xml version=\u0026#34;1.0\u0026#34;?\u0026gt;\u0026#39; \u0026gt; $tofile cat $tofile \u0026gt; $file rm -f $tofile done rm -f container.tpl container.awk ","title":"Comment modifier rapidement une palanquée de fichiers de conf..."},{"date":"2014-02-11","image":"","imageAlt":"","link":"http://example.org/posts/2014-02-11-socat-simuler-un-serveur-http-qui-renvoie-toujours-le-meme-fichier/","summary":"socat TCP-LISTEN:1231,crlf,reuseaddr,fork SYSTEM:\u0026#34;echo HTTP/1.0 200; echo Content-Type\\: text/xml; echo; cat /path/to/the/file.xml\u0026#34; ","tags":[],"text":"socat tcp-listen:1231,crlf,reuseaddr,fork system:\u0026#34;echo http/1.0 200; echo content-type\\: text/xml; echo; cat /path/to/the/file.xml\u0026#34; ","title":"socat, simuler un serveur http qui renvoie toujours le même fichier"},{"date":"2014-02-08","image":"","imageAlt":"","link":"http://example.org/posts/2014-02-08-google-et-la-cnil/","summary":"Suffisament rare pour être capturé en souvenir\u0026hellip;","tags":[],"text":"suffisament rare pour être capturé en souvenir\u0026hellip;\n","title":"Google et la CNIL"},{"date":"2014-02-01","image":"","imageAlt":"","link":"http://example.org/posts/2014-02-01-awk-extraire-des-paragraphes/","summary":"Avec awk, il est possible d\u0026rsquo;extraire des paragraphes spécifiques par leur ordre d\u0026rsquo;apparence.\nIl faut positionner le séparateur d\u0026rsquo;enregistrements RS et donner les numéros de paragraphe que l\u0026rsquo;on souhaite extraire via un if comme dans l\u0026rsquo;exemple ci-dessous.\n$ cat a NODE-ID\u0026gt; command1 Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat. Ut wisi enim ad minim veniam, quis nostrud exerci tation ullamcorper suscipit lobortis nisl ut aliquip ex ea commodo consequat.","tags":[],"text":"avec awk, il est possible d\u0026rsquo;extraire des paragraphes spécifiques par leur ordre d\u0026rsquo;apparence.\nil faut positionner le séparateur d\u0026rsquo;enregistrements rs et donner les numéros de paragraphe que l\u0026rsquo;on souhaite extraire via un if comme dans l\u0026rsquo;exemple ci-dessous.\n$ cat a node-id\u0026gt; command1 lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat. ut wisi enim ad minim veniam, quis nostrud exerci tation ullamcorper suscipit lobortis nisl ut aliquip ex ea commodo consequat. node-id\u0026gt; command2 lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat. ut wisi enim ad minim veniam, quis nostrud exerci tation ullamcorper suscipit lobortis nisl ut aliquip ex ea commodo consequat. node-id\u0026gt; command3 lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat. ut wisi enim ad minim veniam, quis nostrud exerci tation ullamcorper suscipit lobortis nisl ut aliquip ex ea commodo consequat. $ cat a | awk \u0026#39;begin { rs=\u0026#34;\u0026#34;; i=0; } { ++i; if (i==2 || i==6) print $0; }\u0026#39; lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat. ut wisi enim ad minim veniam, quis nostrud exerci tation ullamcorper suscipit lobortis nisl ut aliquip ex ea commodo consequat. lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat. ut wisi enim ad minim veniam, quis nostrud exerci tation ullamcorper suscipit lobortis nisl ut aliquip ex ea commodo consequat. ","title":"awk, extraire des paragraphes"},{"date":"2014-01-28","image":"","imageAlt":"","link":"http://example.org/posts/2014-01-28-html-java-input-file-sympa-avec-bootstrap/","summary":"Dans le cadre d\u0026rsquo;un projet, j\u0026rsquo;ai redesigné un formulaire qui permet d\u0026rsquo;importer un fichier csv (utilise bootstrap).\nLe rendu est le suivant :\n\u0026lt;form method=\u0026#34;post\u0026#34; action=\u0026#34;/somewhere\u0026#34; enctype=\u0026#34;multipart/form-data\u0026#34; class=\u0026#34;form-horizontal\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;control-group\u0026#34;\u0026gt; \u0026lt;label class=\u0026#34;control-label\u0026#34; for=\u0026#34;fichier_csv\u0026#34;\u0026gt;fichier.csv\u0026lt;/label\u0026gt; \u0026lt;input type=\u0026#34;file\u0026#34; id=\u0026#34;fichier_csv\u0026#34; name=\u0026#34;fichier_csv\u0026#34; style=\u0026#34;display:none\u0026#34; /\u0026gt; \u0026lt;div class=\u0026#34;controls\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;input-append\u0026#34;\u0026gt; \u0026lt;input id=\u0026#34;fichier_path\u0026#34; class=\u0026#34;input-large\u0026#34; type=\u0026#34;text\u0026#34;\u0026gt; \u0026lt;a class=\u0026#34;btn\u0026#34; onclick=\u0026#34;$(\u0026#39;input[id=fichier_csv]\u0026#39;).click();\u0026#34;\u0026gt; \u0026lt;i class=\u0026#34;icon-folder-open\u0026#34;\u0026gt;\u0026lt;/i\u0026gt; \u0026lt;span\u0026gt;Sélectionner...\u0026lt;/span\u0026gt; \u0026lt;/a\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;script type=\u0026#34;text/javascript\u0026#34;\u0026gt; $(\u0026#39;input[id=fichier_csv]\u0026#39;).change(function() { $(\u0026#39;#fichier_path\u0026#39;).val($(this).val()); }); \u0026lt;/script\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/form\u0026gt; Le code java est le suivant (attention, lorsque le type du formulaire est enctype=\u0026ldquo;multipart/form-data\u0026rdquo;, les paramètres ne se récupèrent plus avec HttpServletRequest.","tags":[],"text":"dans le cadre d\u0026rsquo;un projet, j\u0026rsquo;ai redesigné un formulaire qui permet d\u0026rsquo;importer un fichier csv (utilise bootstrap).\nle rendu est le suivant :\n\u0026lt;form method=\u0026#34;post\u0026#34; action=\u0026#34;/somewhere\u0026#34; enctype=\u0026#34;multipart/form-data\u0026#34; class=\u0026#34;form-horizontal\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;control-group\u0026#34;\u0026gt; \u0026lt;label class=\u0026#34;control-label\u0026#34; for=\u0026#34;fichier_csv\u0026#34;\u0026gt;fichier.csv\u0026lt;/label\u0026gt; \u0026lt;input type=\u0026#34;file\u0026#34; id=\u0026#34;fichier_csv\u0026#34; name=\u0026#34;fichier_csv\u0026#34; style=\u0026#34;display:none\u0026#34; /\u0026gt; \u0026lt;div class=\u0026#34;controls\u0026#34;\u0026gt; \u0026lt;div class=\u0026#34;input-append\u0026#34;\u0026gt; \u0026lt;input id=\u0026#34;fichier_path\u0026#34; class=\u0026#34;input-large\u0026#34; type=\u0026#34;text\u0026#34;\u0026gt; \u0026lt;a class=\u0026#34;btn\u0026#34; onclick=\u0026#34;$(\u0026#39;input[id=fichier_csv]\u0026#39;).click();\u0026#34;\u0026gt; \u0026lt;i class=\u0026#34;icon-folder-open\u0026#34;\u0026gt;\u0026lt;/i\u0026gt; \u0026lt;span\u0026gt;sélectionner...\u0026lt;/span\u0026gt; \u0026lt;/a\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;script type=\u0026#34;text/javascript\u0026#34;\u0026gt; $(\u0026#39;input[id=fichier_csv]\u0026#39;).change(function() { $(\u0026#39;#fichier_path\u0026#39;).val($(this).val()); }); \u0026lt;/script\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/form\u0026gt; le code java est le suivant (attention, lorsque le type du formulaire est enctype=\u0026ldquo;multipart/form-data\u0026rdquo;, les paramètres ne se récupèrent plus avec httpservletrequest.getparameter):\n// récupération des paramètres \u0026#34;autres\u0026#34; que le fichier csv if (ismultipartrequest(req)) { final diskfileitemfactory factory = new diskfileitemfactory(); final servletfileupload upload = new servletfileupload(factory); upload.setsizemax(file_max_size); try { final list\u0026lt;fileitem\u0026gt; items = upload.parserequest(req); final iterator\u0026lt;fileitem\u0026gt; it = items.iterator(); while (it.hasnext()) { final fileitem item = it.next(); if (item.isformfield()) { if (\u0026#34;action\u0026#34;.equals(item.getfieldname())) { action = item.getstring(); } else if (\u0026#34;id\u0026#34;.equals(item.getfieldname())) { id = item.getstring(); } else if (\u0026#34;nas\u0026#34;.equals(item.getfieldname())) { req.setattribute(\u0026#34;nas\u0026#34;, item.getstring()); } } } req.setattribute(\u0026#34;fileupload_items\u0026#34;, items); } catch (final fileuploadexception e) { logger.error(e); throw new runtimeexception(e); } } ... // récupération du fichier list\u0026lt;fileitem\u0026gt; items = (list\u0026lt;fileitem\u0026gt;) req.getattribute(\u0026#34;fileupload_items\u0026#34;); stringwriter sw_fichier_csv = null; for (fileitem item : items) { try { if(item.isformfield()) { req.setattribute(item.getfieldname(), item.getstring()); } else { if (item.getfieldname().equals(\u0026#34;fichier_csv\u0026#34;)) { inputstream fis = item.getinputstream(); sw_fichier_csv = new stringwriter(); ioutils.copy(fis, sw_fichier_csv); } } } catch (ioexception e) { throw new runtimeexception(e); } finally { item.delete(); } } ","title":"html/java, input file sympa avec bootstrap"},{"date":"2014-01-23","image":"","imageAlt":"","link":"http://example.org/posts/2014-01-23-archlinux-problemes-de-cle-sur-mise-a-jour-pacman/","summary":"Parfois, lors d\u0026rsquo;une mise à jour ou tentative d\u0026rsquo;installation d\u0026rsquo;un paquet, une erreur de clé corrompue survient.\nIl suffit simplement de mettre à jour les clés de son trousseau comme dans l\u0026rsquo;exemple ci-dessous et de relancer la mise à jour.\nEnsuite, ça roule ma poule :)\n$ pacman -Syu ... error: i3-wm: signature from \u0026#34;Thorsten Töpper \u0026lt;atsutane@freethoughts.de\u0026gt;\u0026#34; is unknown trust error: failed to commit transaction (invalid or corrupted package (PGP signature)) .","tags":[],"text":"parfois, lors d\u0026rsquo;une mise à jour ou tentative d\u0026rsquo;installation d\u0026rsquo;un paquet, une erreur de clé corrompue survient.\nil suffit simplement de mettre à jour les clés de son trousseau comme dans l\u0026rsquo;exemple ci-dessous et de relancer la mise à jour.\nensuite, ça roule ma poule :)\n$ pacman -syu ... error: i3-wm: signature from \u0026#34;thorsten töpper \u0026lt;atsutane@freethoughts.de\u0026gt;\u0026#34; is unknown trust error: failed to commit transaction (invalid or corrupted package (pgp signature)) ... $ pacman-key --refresh-keys $ pacman -syh ","title":"archlinux, problèmes de clé sur mise à jour pacman"},{"date":"2013-12-26","image":"","imageAlt":"","link":"http://example.org/posts/2013-12-26-socat-sert-de-proxy-et-passe-le-plat/","summary":"Sur un de mes projets, un flux a été interrompu\u0026hellip; en attendant sa réouverture j\u0026rsquo;utilise un proxy qui sert de passe plat depuis une machine où le flux en question est ouvert\u0026hellip;\n# le serveur écoute sur le port 1231 et passe le plat à somewhere.example.com:80 socat TCP-LISTEN:1231,reuseaddr,fork TCP:somewhere.example.com:80 ","tags":[],"text":"sur un de mes projets, un flux a été interrompu\u0026hellip; en attendant sa réouverture j\u0026rsquo;utilise un proxy qui sert de passe plat depuis une machine où le flux en question est ouvert\u0026hellip;\n# le serveur écoute sur le port 1231 et passe le plat à somewhere.example.com:80 socat tcp-listen:1231,reuseaddr,fork tcp:somewhere.example.com:80 ","title":"socat, sert de proxy et passe le plat..."},{"date":"2013-12-07","image":"","imageAlt":"","link":"http://example.org/posts/2013-12-07-bash-renverser-un-flux-ligne-a-ligne/","summary":"Voici une commande que je ne connaissais pas avant le petit déjeuner\u0026hellip;\n$ for i in $(seq 1 10); do echo $i; done 1 2 3 4 5 6 7 8 9 10 $ for i in $(seq 1 10); do echo $i; done | tac 10 9 8 7 6 5 4 3 2 1 Fallait la découvrir celle-là ;) tac, la soeur de cat à l\u0026rsquo;envers\u0026hellip;","tags":[],"text":"voici une commande que je ne connaissais pas avant le petit déjeuner\u0026hellip;\n$ for i in $(seq 1 10); do echo $i; done 1 2 3 4 5 6 7 8 9 10 $ for i in $(seq 1 10); do echo $i; done | tac 10 9 8 7 6 5 4 3 2 1 fallait la découvrir celle-là ;) tac, la soeur de cat à l\u0026rsquo;envers\u0026hellip;\n","title":"bash, renverser un flux ligne à ligne"},{"date":"2013-12-07","image":"","imageAlt":"","link":"http://example.org/posts/2013-12-07-bash-la-fonction-qui-tue/","summary":"Voici une fonction qui tue\u0026hellip; et simplifie la vie en ligne de commandes !\nfunction ..() { ## .. \u0026lt;nombre\u0026gt; remonte de \u0026lt;nombre\u0026gt; repertoires ## .. /\u0026lt;chaine\u0026gt; remonte jusqu\u0026#39;a ce qu\u0026#39;un repertoire contient \u0026lt;chaine\u0026gt; dans son nom local level=$1 if [[ ! \u0026#34;$level\u0026#34; =~ / ]]; then while [ $level -gt 0 ]; do cd .. || break level=$(($level-1)) done else level=${level:1} local curdir=$(pwd) IFS=\u0026#39;/\u0026#39; read -ra ADDR \u0026lt;\u0026lt;\u0026lt; \u0026#34;$curdir\u0026#34; for (( i = ${#ADDR[@]}-1; i\u0026gt;0; i-- )); do if [[ \u0026#34;${ADDR[$i]}\u0026#34; =~ \u0026#34;$level\u0026#34; ]]; then break fi cd .","tags":[],"text":"voici une fonction qui tue\u0026hellip; et simplifie la vie en ligne de commandes !\nfunction ..() { ## .. \u0026lt;nombre\u0026gt; remonte de \u0026lt;nombre\u0026gt; repertoires ## .. /\u0026lt;chaine\u0026gt; remonte jusqu\u0026#39;a ce qu\u0026#39;un repertoire contient \u0026lt;chaine\u0026gt; dans son nom local level=$1 if [[ ! \u0026#34;$level\u0026#34; =~ / ]]; then while [ $level -gt 0 ]; do cd .. || break level=$(($level-1)) done else level=${level:1} local curdir=$(pwd) ifs=\u0026#39;/\u0026#39; read -ra addr \u0026lt;\u0026lt;\u0026lt; \u0026#34;$curdir\u0026#34; for (( i = ${#addr[@]}-1; i\u0026gt;0; i-- )); do if [[ \u0026#34;${addr[$i]}\u0026#34; =~ \u0026#34;$level\u0026#34; ]]; then break fi cd .. done fi } les commentaires parlent d\u0026rsquo;eux-mêmes pour dire ce que fait la fonction ..\na vos .bashrc !!!\n","title":"bash, la fonction qui tue..."},{"date":"2013-12-07","image":"","imageAlt":"","link":"http://example.org/posts/2013-12-07-bash-eviter-l-interpretation-en-octal-en-utilisant-printf/","summary":"J\u0026rsquo;ai eu un petit soucis dans un script de renommage qui tentait d\u0026rsquo;interprêter les valeurs commençant par 08 et 09 en octal lors d\u0026rsquo;un printf.\nLa solution consiste à spécifier que la valeur est en base 10 comme dans l\u0026rsquo;exemple ci-dessous :\ns=\u0026#34;09\u0026#34; $ printf \u0026#34;%.02d\u0026#34; $s bash: printf: 09: Nombre octal non valable 00 $ printf \u0026#34;%.02d\u0026#34; $(( 10#$s)) 09 ","tags":[],"text":"j\u0026rsquo;ai eu un petit soucis dans un script de renommage qui tentait d\u0026rsquo;interprêter les valeurs commençant par 08 et 09 en octal lors d\u0026rsquo;un printf.\nla solution consiste à spécifier que la valeur est en base 10 comme dans l\u0026rsquo;exemple ci-dessous :\ns=\u0026#34;09\u0026#34; $ printf \u0026#34;%.02d\u0026#34; $s bash: printf: 09: nombre octal non valable 00 $ printf \u0026#34;%.02d\u0026#34; $(( 10#$s)) 09 ","title":"bash, éviter l'interprétation en octal en utilisant printf"},{"date":"2013-12-06","image":"","imageAlt":"","link":"http://example.org/posts/2013-12-06-mysql-supprimer-une-base-table-meme-lorsque-des-cles-etrangeres-sont-positionnees/","summary":"Pour ignorer la vérification de la présence de clés étrangères lors de la suppression d\u0026rsquo;une table ou base, on peut utiliser \u0026ldquo;SET foreign_key_checks = 0\u0026rdquo; avec mysql comme dans l\u0026rsquo;exemple ci-dessous :\necho \u0026#34;SET foreign_key_checks = 0; drop database if exists $dbname;\u0026#34; | $ADMIN_SQL_CMD ","tags":[],"text":"pour ignorer la vérification de la présence de clés étrangères lors de la suppression d\u0026rsquo;une table ou base, on peut utiliser \u0026ldquo;set foreign_key_checks = 0\u0026rdquo; avec mysql comme dans l\u0026rsquo;exemple ci-dessous :\necho \u0026#34;set foreign_key_checks = 0; drop database if exists $dbname;\u0026#34; | $admin_sql_cmd ","title":"mysql, supprimer une base/table même lorsque des clés étrangères sont positionnées"},{"date":"2013-11-15","image":"","imageAlt":"","link":"http://example.org/posts/2013-11-15-bash-expansion-de-parametres-et-indirection/","summary":"Aujourd\u0026rsquo;hui, je viens de découvrir l\u0026rsquo;indirection de paramètres en bash.\nLa syntaxe est la suivante : ${!PARAMETER}\nL\u0026rsquo;expansion ne donne pas la valeur du paramètre lui même mais la valeur du paramètre dont le nom est contenu dans PARAMETER.\n$ TEMP=\u0026#34;hello world\u0026#34; $ TEXT=TEMP $ echo ${!TEXT} hello world Cela permet de faire de jolies choses comme ceci en s\u0026rsquo;abstrayant d\u0026rsquo;eval\u0026hellip;\nXXX_user=rootX XXX_password=rootX123 XXX_host=sqlserver01.example.com YYY_user=rootY YYY_password=rootY123 YYY_host=sqlserver02.example.com ZZZ_user=rootZ ZZZ_password=rootZ123 ZZZ_host=sqlserver03.example.com connect_to() { local database=\u0026#34;$1\u0026#34; user_key=\u0026#34;${database}_user\u0026#34; password_key=\u0026#34;${database}_password\u0026#34; host_key=\u0026#34;${database}_host\u0026#34; mysql -h \u0026#34;${!","tags":[],"text":"aujourd\u0026rsquo;hui, je viens de découvrir l\u0026rsquo;indirection de paramètres en bash.\nla syntaxe est la suivante : ${!parameter}\nl\u0026rsquo;expansion ne donne pas la valeur du paramètre lui même mais la valeur du paramètre dont le nom est contenu dans parameter.\n$ temp=\u0026#34;hello world\u0026#34; $ text=temp $ echo ${!text} hello world cela permet de faire de jolies choses comme ceci en s\u0026rsquo;abstrayant d\u0026rsquo;eval\u0026hellip;\nxxx_user=rootx xxx_password=rootx123 xxx_host=sqlserver01.example.com yyy_user=rooty yyy_password=rooty123 yyy_host=sqlserver02.example.com zzz_user=rootz zzz_password=rootz123 zzz_host=sqlserver03.example.com connect_to() { local database=\u0026#34;$1\u0026#34; user_key=\u0026#34;${database}_user\u0026#34; password_key=\u0026#34;${database}_password\u0026#34; host_key=\u0026#34;${database}_host\u0026#34; mysql -h \u0026#34;${!host_key}\u0026#34; -u \u0026#34;${!user_key}\u0026#34; -p\u0026#34;${!password_key}\u0026#34; \u0026#34;$database\u0026#34; } connect_to zzz ci-dessous une documentation bien claire sur l\u0026rsquo;expansion des paramètres en bash\nhttp://wiki.bash-hackers.org/syntax/pe\n","title":"bash, expansion de paramètres et indirection "},{"date":"2013-11-12","image":"","imageAlt":"","link":"http://example.org/posts/2013-11-12-bash-initialisation-de-variables-depuis-une-chaine-de-caracteres/","summary":"Il est possible d\u0026rsquo;initialiser des variables depuis une chaine de caractères et en redéfinissant le séparateur si nécessaire (ici la redéfinition est locale au read)\n$ line=abc:def:567 $ IFS=: read c1 c2 c3 \u0026lt;\u0026lt;\u0026lt; \u0026#34;$line\u0026#34; $ echo $c1 abc $ echo $c2 def $ echo $c3 567 ","tags":[],"text":"il est possible d\u0026rsquo;initialiser des variables depuis une chaine de caractères et en redéfinissant le séparateur si nécessaire (ici la redéfinition est locale au read)\n$ line=abc:def:567 $ ifs=: read c1 c2 c3 \u0026lt;\u0026lt;\u0026lt; \u0026#34;$line\u0026#34; $ echo $c1 abc $ echo $c2 def $ echo $c3 567 ","title":"bash, initialisation de variables depuis une chaine de caractères"},{"date":"2013-09-28","image":"","imageAlt":"","link":"http://example.org/posts/2013-09-28-bash-fonction-de-filtre-et-d-extraction-de-donnees-d-un-csv-en-bash/","summary":"J\u0026rsquo;ai mis à disposition sur mon repository git un utilitaire csv-functions.sh pour filtrer et extraire des données d\u0026rsquo;un fichier csv en bash.\nVoici un exemple d\u0026rsquo;utilisation :\ncsvexample() { (cat \u0026lt;\u0026lt;-EOF lastname;firstname;birth;number_of_child doe;john;1975;2 doe;foo;1990;1 doe;jane;1985;2 EOF ) \u0026gt; example.csv declare -A persons csvindexes persons example.csv for tuple in $(csvvalues example.csv | csvfilter persons \u0026#34;lastname=doe\u0026#34; \u0026#34;birth=1985\u0026#34; \u0026#34;number_of_child=2\u0026#34;) do eval $(csvextract persons $tuple \u0026#34;vara=lastname\u0026#34; \u0026#34;varb=firstname\u0026#34; \u0026#34;varc=birth\u0026#34; \u0026#34;vard=number_of_child\u0026#34;) echo \u0026#34;vara=$vara\u0026#34; echo \u0026#34;varb=$varb\u0026#34; echo \u0026#34;varc=$varc\u0026#34; echo \u0026#34;vard=$vard\u0026#34; done rm -f example.","tags":[],"text":"j\u0026rsquo;ai mis à disposition sur mon repository git un utilitaire csv-functions.sh pour filtrer et extraire des données d\u0026rsquo;un fichier csv en bash.\nvoici un exemple d\u0026rsquo;utilisation :\ncsvexample() { (cat \u0026lt;\u0026lt;-eof lastname;firstname;birth;number_of_child doe;john;1975;2 doe;foo;1990;1 doe;jane;1985;2 eof ) \u0026gt; example.csv declare -a persons csvindexes persons example.csv for tuple in $(csvvalues example.csv | csvfilter persons \u0026#34;lastname=doe\u0026#34; \u0026#34;birth=1985\u0026#34; \u0026#34;number_of_child=2\u0026#34;) do eval $(csvextract persons $tuple \u0026#34;vara=lastname\u0026#34; \u0026#34;varb=firstname\u0026#34; \u0026#34;varc=birth\u0026#34; \u0026#34;vard=number_of_child\u0026#34;) echo \u0026#34;vara=$vara\u0026#34; echo \u0026#34;varb=$varb\u0026#34; echo \u0026#34;varc=$varc\u0026#34; echo \u0026#34;vard=$vard\u0026#34; done rm -f example.csv } avec son résultat :\n$ bash csv-functions.sh vara=doe varb=jane varc=1985 vard=2 ","title":"bash, fonction de filtre et d'extraction de données d'un csv en bash"},{"date":"2013-08-27","image":"","imageAlt":"","link":"http://example.org/posts/2013-08-27-bash-chemin-et-nom-de-fichier-sans-dirname-basename-et-sans-sous-processus/","summary":"Voici une astuce pour récupérer le chemin et le nom d\u0026rsquo;un fichier sans utiliser les commandes dirname/basename (et sans la création de sous-processus lors de l\u0026rsquo;appel à ces commandes)\n$ s=\u0026#39;abc/def/ghi/klmnop.ext\u0026#39; $ echo ${s##*/} klmnop.ext $ echo ${s%/*} abc/def/ghi Cela permet d\u0026rsquo;optimiser la récupération de ces informations lors de traitements sur un grand nombre de fichiers par exemple.","tags":[],"text":"voici une astuce pour récupérer le chemin et le nom d\u0026rsquo;un fichier sans utiliser les commandes dirname/basename (et sans la création de sous-processus lors de l\u0026rsquo;appel à ces commandes)\n$ s=\u0026#39;abc/def/ghi/klmnop.ext\u0026#39; $ echo ${s##*/} klmnop.ext $ echo ${s%/*} abc/def/ghi cela permet d\u0026rsquo;optimiser la récupération de ces informations lors de traitements sur un grand nombre de fichiers par exemple.\n","title":"bash, chemin et nom de fichier sans dirname/basename (et sans sous-processus)"},{"date":"2013-08-16","image":"","imageAlt":"","link":"http://example.org/posts/2013-08-16-algorithme-pour-afficher-un-arbre/","summary":"Voici un algorithme pour afficher un joli arbre à la manière de la commande tree.\nprivate void print(Writer out, String prefix, List\u0026lt;Object\u0026gt; items) throws IOException { int j; for (j=items.size()-1; j\u0026gt;=0; j--) { Object o = items.get(j); if (! (o instanceof List)) break; } for (int i=0; i\u0026lt;items.size(); i++) { Object o = items.get(i); boolean isTail = (i \u0026gt;= j) || (i == items.size() - 1); if (! (o instanceof List)) { out.","tags":[],"text":"voici un algorithme pour afficher un joli arbre à la manière de la commande tree.\nprivate void print(writer out, string prefix, list\u0026lt;object\u0026gt; items) throws ioexception { int j; for (j=items.size()-1; j\u0026gt;=0; j--) { object o = items.get(j); if (! (o instanceof list)) break; } for (int i=0; i\u0026lt;items.size(); i++) { object o = items.get(i); boolean istail = (i \u0026gt;= j) || (i == items.size() - 1); if (! (o instanceof list)) { out.write(prefix + (istail ? \u0026#34;└── \u0026#34; : \u0026#34;├── \u0026#34;) + string.valueof(o) + \u0026#34;\\n\u0026#34;); } else { print(out, prefix + (istail ? \u0026#34; \u0026#34; : \u0026#34;│ \u0026#34;), (list\u0026lt;object\u0026gt;) o); } } } @test public void testfoo() throws ioexception { printwriter pw = new printwriter(system.out); print(pw, \u0026#34;\u0026#34;, arrays.aslist(\u0026#34;a\u0026#34;, \u0026#34;b\u0026#34;, arrays.aslist(\u0026#34;c\u0026#34;, \u0026#34;d\u0026#34;, arrays.aslist(\u0026#34;e\u0026#34;, \u0026#34;g\u0026#34;)), \u0026#34;h\u0026#34;)); pw.flush(); fail(); } ce qui donne :\n├── a ├── b │ ├── c │ └── d │ ├── e │ └── g └── h ","title":"Algorithme pour afficher un arbre"},{"date":"2013-08-15","image":"","imageAlt":"","link":"http://example.org/posts/2013-08-15-ranger-un-file-manager/","summary":"Il y a quelques mois, j\u0026rsquo;avais commencé à utiliser vifm comme file manager en ligne de commande. J\u0026rsquo;avais vite abandonné car il fallait retenir tous les raccourcis clavier.\nCe matin, je suis \u0026ldquo;tombé\u0026rdquo; sur ranger et la \u0026ldquo;découverte\u0026rdquo; se passe mieux.\nEn effet, vous commencez à taper un raccourcis et le programme propose les options possibles\nPar exemple g``h vous place dans votre homedir.\nVoici le lien du projet http://ranger.nongnu.org/","tags":[],"text":"il y a quelques mois, j\u0026rsquo;avais commencé à utiliser vifm comme file manager en ligne de commande. j\u0026rsquo;avais vite abandonné car il fallait retenir tous les raccourcis clavier.\nce matin, je suis \u0026ldquo;tombé\u0026rdquo; sur ranger et la \u0026ldquo;découverte\u0026rdquo; se passe mieux.\nen effet, vous commencez à taper un raccourcis et le programme propose les options possibles\npar exemple g``h vous place dans votre homedir.\nvoici le lien du projet http://ranger.nongnu.org/\net un blog présentant ranger : http://bloerg.net/2012/10/17/ranger-file-manager.html\n","title":"ranger, un file manager"},{"date":"2013-05-29","image":"","imageAlt":"","link":"http://example.org/posts/2013-05-29-word-tirets/","summary":"Pour insérer un tiret demi-cadratin (tiret moyen), tapez le raccouri Ctrl + – (touche – du pavé numérique).\nPour insérer un tiret cadratin (tiret long), tapez le raccourci Ctrl + Alt + – (touche – du pavé numérique).","tags":[],"text":"pour insérer un tiret demi-cadratin (tiret moyen), tapez le raccouri ctrl + – (touche – du pavé numérique).\npour insérer un tiret cadratin (tiret long), tapez le raccourci ctrl + alt + – (touche – du pavé numérique).\n","title":"word, tirets"},{"date":"2013-05-03","image":"","imageAlt":"","link":"http://example.org/posts/2013-05-03-awk-trimer-des-colonnes/","summary":"$ printf \u0026#34;two columns\\t: with values to trim\\n\u0026#34; | awk -F \u0026#39;:\u0026#39; \u0026#39;{gsub(/^[[:space:]]+|[[:space:]]+$/,\u0026#34;\u0026#34;,$1); gsub(/^[[:space:]]+|[[:space:]]+$/,\u0026#34;\u0026#34;,$2); print $1\u0026#34;:\u0026#34;$2}\u0026#39; two columns:with values to trim ","tags":[],"text":"$ printf \u0026#34;two columns\\t: with values to trim\\n\u0026#34; | awk -f \u0026#39;:\u0026#39; \u0026#39;{gsub(/^[[:space:]]+|[[:space:]]+$/,\u0026#34;\u0026#34;,$1); gsub(/^[[:space:]]+|[[:space:]]+$/,\u0026#34;\u0026#34;,$2); print $1\u0026#34;:\u0026#34;$2}\u0026#39; two columns:with values to trim ","title":"awk, trimer des colonnes"},{"date":"2013-04-23","image":"","imageAlt":"","link":"http://example.org/posts/2013-04-23-bash-augmenter-sa-productivite/","summary":"Voici comment augmenter sa productivité en connaissant un peu mieux bash.\nBash Bang (!) Commands Bash also has some handy features that use the ! (bang) to allow you to do some funky stuff with bash commands. !! - run last command !blah – run the most recent command that starts with ‘blah’ (e.g. !ls) !blah:p – print out the command that !blah would run (also adds it as the latest command in the command history) !","tags":[],"text":"voici comment augmenter sa productivité en connaissant un peu mieux bash.\nbash bang (!) commands bash also has some handy features that use the ! (bang) to allow you to do some funky stuff with bash commands. !! - run last command !blah – run the most recent command that starts with ‘blah’ (e.g. !ls) !blah:p – print out the command that !blah would run (also adds it as the latest command in the command history) !$ – the last word of the previous command (same as alt + .) !$:p – print out the word that !$ would substitute !* – the previous command except for the last word (e.g. if you type ‘find some_file.txt /‘, then !* would give you ‘find some_file.txt‘) !*:p – print out what !* would substitute trouvé ici\n","title":"bash, augmenter sa productivité"},{"date":"2013-04-21","image":"","imageAlt":"","link":"http://example.org/posts/2013-04-21-archlinux-imprimante-samung-ml-1865/","summary":"Tout d\u0026rsquo;abord, il faut installer yaourt (cf http://archlinux.fr/yaourt\nEnsuite, utiliser yaourt pour installer les drivers :\nyaourt -S samsung-ml1860\nDans cups (cf install de cups) sur 127.0.0.1, installer ensuite l\u0026rsquo;imprimante avec le fichier PPD suivant (connexion en USB)\nhttps://pastebin.com/KeZFgAG1\nImprimez ensuite votre page de test :)\nN\u0026rsquo;oubliez pas :\nsystemctl start cups\nsystemctl enable cups","tags":[],"text":"tout d\u0026rsquo;abord, il faut installer yaourt (cf http://archlinux.fr/yaourt\nensuite, utiliser yaourt pour installer les drivers :\nyaourt -s samsung-ml1860\ndans cups (cf install de cups) sur 127.0.0.1, installer ensuite l\u0026rsquo;imprimante avec le fichier ppd suivant (connexion en usb)\nhttps://pastebin.com/kezfgag1\nimprimez ensuite votre page de test :)\nn\u0026rsquo;oubliez pas :\nsystemctl start cups\nsystemctl enable cups\n","title":"Archlinux, imprimante samung ML-1865"},{"date":"2013-04-20","image":"","imageAlt":"","link":"http://example.org/posts/2013-04-20-archlinux-problemes-aleatoires-de-chargement-de-pages-internet/","summary":"En installant archlinux il y a quelques temps, j\u0026rsquo;avais constaté que j\u0026rsquo;avais des problèmes de connexion internet de manière aléatoire. Un rafraichissement de la page la faisait apparaître :) mais j\u0026rsquo;ai galéré à comprendre que cela venait des DNS déclarés. La machine utilisait le DNS de ma livebox et comme par hasard, celui-ci résout aléatoirement les adresses :/\nJ\u0026rsquo;ai alors configuré de la manière suivante en spécifiant les DNS à utiliser et en forçant DHCP à ne pas écraser le fichier /etc/resolv.","tags":[],"text":"en installant archlinux il y a quelques temps, j\u0026rsquo;avais constaté que j\u0026rsquo;avais des problèmes de connexion internet de manière aléatoire. un rafraichissement de la page la faisait apparaître :) mais j\u0026rsquo;ai galéré à comprendre que cela venait des dns déclarés. la machine utilisait le dns de ma livebox et comme par hasard, celui-ci résout aléatoirement les adresses :/\nj\u0026rsquo;ai alors configuré de la manière suivante en spécifiant les dns à utiliser et en forçant dhcp à ne pas écraser le fichier /etc/resolv.conf\n$ cat /etc/resolv.conf.head nameserver 127.0.0.1 search home $ cat /etc/resolv.conf.tail nameserver 208.67.222.222 nameserver 208.67.220.220 $ tail /etc/dhcpcd.conf # respect the network mtu. option interface_mtu # a serverid is required by rfc2131. require dhcp_server_identifier # a hook script is provided to lookup the hostname if not set by the dhcp # server, but it should not be run by default. nohook lookup-hostname nohook resolv.conf noipv4ll ","title":"Archlinux, problèmes aléatoires de chargement de pages internet"},{"date":"2013-04-20","image":"","imageAlt":"","link":"http://example.org/posts/2013-04-20-archlinux-slim-en-qwerty/","summary":"En installant archlinux, mon terminal en mode console était bien en mode azerty.\nCependant, dans le login manager SLIM, le texte frappé était en qwerty :/\nLa ligne suivante insérée insérée dans le .xsession ou .xinitrc n\u0026rsquo;a d\u0026rsquo;effet qu\u0026rsquo;une fois identifié.\n$ cat .xsession xset dpms force on xset s off xset -b setxkbmap -option terminate:ctrl_alt_bksp export AWT_TOOLKIT=XToolkit xsetroot -solid \u0026#34;#333333\u0026#34; setxkbmap fr exec i3 Pour que X passe en azerty, j\u0026rsquo;ai ajouté le fichier suivant :","tags":[],"text":"en installant archlinux, mon terminal en mode console était bien en mode azerty.\ncependant, dans le login manager slim, le texte frappé était en qwerty :/\nla ligne suivante insérée insérée dans le .xsession ou .xinitrc n\u0026rsquo;a d\u0026rsquo;effet qu\u0026rsquo;une fois identifié.\n$ cat .xsession xset dpms force on xset s off xset -b setxkbmap -option terminate:ctrl_alt_bksp export awt_toolkit=xtoolkit xsetroot -solid \u0026#34;#333333\u0026#34; setxkbmap fr exec i3 pour que x passe en azerty, j\u0026rsquo;ai ajouté le fichier suivant :\n$ cat /etc/x11/xorg.conf.d/10-keyboard.conf section \u0026#34;inputclass\u0026#34; identifier \u0026#34;keyboard defaults\u0026#34; matchiskeyboard \u0026#34;yes\u0026#34; option \u0026#34;xkblayout\u0026#34; \u0026#34;fr\u0026#34; endsection dès lors, x se retrouve en azerty :)\n","title":"Archlinux, slim en qwerty"},{"date":"2013-04-19","image":"","imageAlt":"","link":"http://example.org/posts/2013-04-19-jetty-demarrer-sur-un-port-determine/","summary":"Cela se passe dans le build.xml\n\u0026lt;typedef name=\u0026#34;selectChannelConnector\u0026#34; classname=\u0026#34;org.eclipse.jetty.server.nio.SelectChannelConnector\u0026#34; classpathref=\u0026#34;jetty.plugin.classpath\u0026#34; loaderref=\u0026#34;jetty.loader\u0026#34; /\u0026gt; \u0026lt;target name=\u0026#34;webapp-run\u0026#34; depends=\u0026#34;create-manifest,build\u0026#34; description=\u0026#34;Run website in local\u0026#34;\u0026gt; \u0026lt;jetty tempDirectory=\u0026#34;jetty-temp\u0026#34;\u0026gt; \u0026lt;connectors\u0026gt; \u0026lt;selectChannelConnector port=\u0026#34;8090\u0026#34; /\u0026gt; \u0026lt;/connectors\u0026gt; \u0026lt;webApp name=\u0026#34;webapp\u0026#34; contextpath=\u0026#34;/\u0026#34; warfile=\u0026#34;target\u0026#34; webXmlFile=\u0026#34;src/main/webapp/WEB-INF/web.xml\u0026#34; scanIntervalSeconds=\u0026#34;5\u0026#34; jettyEnvXml=\u0026#34;src/main/webapp/conf/dev/jetty-env.xml\u0026#34;\u0026gt; \u0026lt;lib dir=\u0026#34;src/main/webapp/WEB-INF/lib/\u0026#34; includes=\u0026#34;*.jar\u0026#34; /\u0026gt; \u0026lt;classes dir=\u0026#34;${classes.dir}\u0026#34; /\u0026gt; \u0026lt;scanTargets dir=\u0026#34;src/main\u0026#34;\u0026gt; \u0026lt;include name=\u0026#34;webapp/html/*.tpl\u0026#34; /\u0026gt; \u0026lt;include name=\u0026#34;webapp/html/*.properties\u0026#34; /\u0026gt; \u0026lt;include name=\u0026#34;webapp/css/*.css\u0026#34; /\u0026gt; \u0026lt;include name=\u0026#34;webapp/js/*.js\u0026#34; /\u0026gt; \u0026lt;/scanTargets\u0026gt; \u0026lt;/webApp\u0026gt; \u0026lt;/jetty\u0026gt; \u0026lt;/target\u0026gt; ","tags":[],"text":"cela se passe dans le build.xml\n\u0026lt;typedef name=\u0026#34;selectchannelconnector\u0026#34; classname=\u0026#34;org.eclipse.jetty.server.nio.selectchannelconnector\u0026#34; classpathref=\u0026#34;jetty.plugin.classpath\u0026#34; loaderref=\u0026#34;jetty.loader\u0026#34; /\u0026gt; \u0026lt;target name=\u0026#34;webapp-run\u0026#34; depends=\u0026#34;create-manifest,build\u0026#34; description=\u0026#34;run website in local\u0026#34;\u0026gt; \u0026lt;jetty tempdirectory=\u0026#34;jetty-temp\u0026#34;\u0026gt; \u0026lt;connectors\u0026gt; \u0026lt;selectchannelconnector port=\u0026#34;8090\u0026#34; /\u0026gt; \u0026lt;/connectors\u0026gt; \u0026lt;webapp name=\u0026#34;webapp\u0026#34; contextpath=\u0026#34;/\u0026#34; warfile=\u0026#34;target\u0026#34; webxmlfile=\u0026#34;src/main/webapp/web-inf/web.xml\u0026#34; scanintervalseconds=\u0026#34;5\u0026#34; jettyenvxml=\u0026#34;src/main/webapp/conf/dev/jetty-env.xml\u0026#34;\u0026gt; \u0026lt;lib dir=\u0026#34;src/main/webapp/web-inf/lib/\u0026#34; includes=\u0026#34;*.jar\u0026#34; /\u0026gt; \u0026lt;classes dir=\u0026#34;${classes.dir}\u0026#34; /\u0026gt; \u0026lt;scantargets dir=\u0026#34;src/main\u0026#34;\u0026gt; \u0026lt;include name=\u0026#34;webapp/html/*.tpl\u0026#34; /\u0026gt; \u0026lt;include name=\u0026#34;webapp/html/*.properties\u0026#34; /\u0026gt; \u0026lt;include name=\u0026#34;webapp/css/*.css\u0026#34; /\u0026gt; \u0026lt;include name=\u0026#34;webapp/js/*.js\u0026#34; /\u0026gt; \u0026lt;/scantargets\u0026gt; \u0026lt;/webapp\u0026gt; \u0026lt;/jetty\u0026gt; \u0026lt;/target\u0026gt; ","title":"Jetty, démarrer sur un port déterminé"},{"date":"2013-03-21","image":"","imageAlt":"","link":"http://example.org/posts/2013-03-21-xterm-copier-coller-simplement/","summary":"Par défaut, la sélection avec xterm se fait de la manière suivante\nPassage: sélectionner le début du texte en maintenant le bouton gauche de la souris enfoncé et déplacer la souris jusqu\u0026rsquo;à la fin du texte. Relachez\nMot: double cliquez sur le mot\nLigne: triple cliquez sur la ligne\nPour changer la définition du mot pour prendre plus de choses comme des urls, il faut modifier son fichier ~/.Xresources\nxterm*charClass: 33:48, 37:48, 42:48, 45-47:48, 58:48, 63-64:48, 126:48 Dès lors le double clic améliore le confort d\u0026rsquo;utilisation :)","tags":[],"text":"par défaut, la sélection avec xterm se fait de la manière suivante\npassage: sélectionner le début du texte en maintenant le bouton gauche de la souris enfoncé et déplacer la souris jusqu\u0026rsquo;à la fin du texte. relachez\nmot: double cliquez sur le mot\nligne: triple cliquez sur la ligne\npour changer la définition du mot pour prendre plus de choses comme des urls, il faut modifier son fichier ~/.xresources\nxterm*charclass: 33:48, 37:48, 42:48, 45-47:48, 58:48, 63-64:48, 126:48 dès lors le double clic améliore le confort d\u0026rsquo;utilisation :)\n","title":"xterm, copier/coller simplement"},{"date":"2013-03-15","image":"","imageAlt":"","link":"http://example.org/posts/2013-03-15-changement-d-heure/","summary":"Le changement d\u0026rsquo;heure se passe le dernier week-end de Mars et d\u0026rsquo;Octobre, quand les samedi et dimanche sont tous les deux en Mars et Octobre\u0026hellip;\nAinsi, en 2013, le passage à l\u0026rsquo;heure d\u0026rsquo;été se fera le WE du 30/31 Mars et le passage à l\u0026rsquo;heure d\u0026rsquo;hiver le WE du 26/27 Octobre.\nPour rappel :\nle passage à l\u0026rsquo;heure d\u0026rsquo;été : +1h (à 2h, il est 3h) (cad qu\u0026rsquo;on dort une heure de moins) le passage à l\u0026rsquo;heure d\u0026rsquo;hiver : -1h (à 3h, il est 2h) (cad qu\u0026rsquo;on dort une heure de plus) ","tags":[],"text":"le changement d\u0026rsquo;heure se passe le dernier week-end de mars et d\u0026rsquo;octobre, quand les samedi et dimanche sont tous les deux en mars et octobre\u0026hellip;\nainsi, en 2013, le passage à l\u0026rsquo;heure d\u0026rsquo;été se fera le we du 30/31 mars et le passage à l\u0026rsquo;heure d\u0026rsquo;hiver le we du 26/27 octobre.\npour rappel :\nle passage à l\u0026rsquo;heure d\u0026rsquo;été : +1h (à 2h, il est 3h) (cad qu\u0026rsquo;on dort une heure de moins) le passage à l\u0026rsquo;heure d\u0026rsquo;hiver : -1h (à 3h, il est 2h) (cad qu\u0026rsquo;on dort une heure de plus) ","title":"Changement d'heure"},{"date":"2013-03-14","image":"","imageAlt":"","link":"http://example.org/posts/2013-03-14-mysql-dumper-seulement-les-donnees/","summary":"mysqldump -u root dbname --no-create-info --skip-triggers --compact --complete-insert --skip-extended-insert ","tags":[],"text":"mysqldump -u root dbname --no-create-info --skip-triggers --compact --complete-insert --skip-extended-insert ","title":"mysql, dumper seulement les données"},{"date":"2013-03-11","image":"","imageAlt":"","link":"http://example.org/posts/2013-03-11-linux-optimiser-le-poids-des-enregistrements-mp3-en-ligne-de-commande/","summary":"Voici comment optimiser le poids de vos enregistrements en ligne de commande.\nPour cela vous pouvez utiliser le logiciel lame\n$ lame --mp3input -b 128 infile.mp3 outfile.mp3 LAME 3.99.5 64bits (http://lame.sf.net) Using polyphase lowpass filter, transition band: 16538 Hz - 17071 Hz Encoding infile.mp3 to outfile.mp3 Encoding as 44.1 kHz j-stereo MPEG-1 Layer III (11x) 128 kbps qval=3 Frame | CPU time/estim | REAL time/estim | play/CPU | ETA 9492/9492 (100%)| 0:05/ 0:05| 0:05/ 0:05| 42.","tags":[],"text":"voici comment optimiser le poids de vos enregistrements en ligne de commande.\npour cela vous pouvez utiliser le logiciel lame\n$ lame --mp3input -b 128 infile.mp3 outfile.mp3 lame 3.99.5 64bits (http://lame.sf.net) using polyphase lowpass filter, transition band: 16538 hz - 17071 hz encoding infile.mp3 to outfile.mp3 encoding as 44.1 khz j-stereo mpeg-1 layer iii (11x) 128 kbps qval=3 frame | cpu time/estim | real time/estim | play/cpu | eta 9492/9492 (100%)| 0:05/ 0:05| 0:05/ 0:05| 42.098x| 0:00 ------------------------------------------------------------------------------- kbps lr ms % long switch short % 128.0 4.9 95.1 95.6 2.6 1.8 writing lame tag...done replaygain: -7.6db ","title":"Linux, optimiser le poids des enregistrements MP3 en ligne de commande"},{"date":"2013-03-10","image":"","imageAlt":"","link":"http://example.org/posts/2013-03-10-linux-reduire-le-poids-des-photos-jpg/","summary":"Je viens de découvrir un petit logiciel sympa réduire le poids des photos jpg et ce, en ligne de commandes.\nIl s\u0026rsquo;agit du logiciel jpegoptim.\nC\u0026rsquo;est très pratique pour réduire le poids de scans afin de les envoyer par emails :)\n$ sudo apt-get install jpegoptim $ jpegoptim -m70 DemandeRemboursementRadioThorax-* DemandeRemboursementRadioThorax-1.jpg 2552x3508 24bit JFIF [OK] 1021137 --\u0026gt; 363084 bytes (64.44%), optimized. DemandeRemboursementRadioThorax-2.jpg 2552x3508 24bit JFIF [OK] 940214 --\u0026gt; 321868 bytes (65.","tags":[],"text":"je viens de découvrir un petit logiciel sympa réduire le poids des photos jpg et ce, en ligne de commandes.\nil s\u0026rsquo;agit du logiciel jpegoptim.\nc\u0026rsquo;est très pratique pour réduire le poids de scans afin de les envoyer par emails :)\n$ sudo apt-get install jpegoptim $ jpegoptim -m70 demanderemboursementradiothorax-* demanderemboursementradiothorax-1.jpg 2552x3508 24bit jfif [ok] 1021137 --\u0026gt; 363084 bytes (64.44%), optimized. demanderemboursementradiothorax-2.jpg 2552x3508 24bit jfif [ok] 940214 --\u0026gt; 321868 bytes (65.77%), optimized. ","title":"Linux, réduire le poids des photos jpg"},{"date":"2013-03-06","image":"","imageAlt":"","link":"http://example.org/posts/2013-03-06-svn-ignorer-des-fichiers/","summary":"Pour ignorer plusieurs fichiers lors des commits SVN\n#!/bin/bash cd $(dirname $(readlink -f $0))/.. svnignorefile=$(mktemp) cat \u0026gt;\u0026gt; $svnignorefile \u0026lt;\u0026lt;EOF .classpath .project bin target *.tgz EOF svn propset svn:ignore -F $svnignorefile . rm -f $svnignorefile svn commit -m \u0026#39;svn ignore\u0026#39; Une page qui explique bien http://www.math-linux.com/spip.php?article111","tags":[],"text":"pour ignorer plusieurs fichiers lors des commits svn\n#!/bin/bash cd $(dirname $(readlink -f $0))/.. svnignorefile=$(mktemp) cat \u0026gt;\u0026gt; $svnignorefile \u0026lt;\u0026lt;eof .classpath .project bin target *.tgz eof svn propset svn:ignore -f $svnignorefile . rm -f $svnignorefile svn commit -m \u0026#39;svn ignore\u0026#39; une page qui explique bien http://www.math-linux.com/spip.php?article111\n","title":"SVN, ignorer des fichiers"},{"date":"2013-02-27","image":"","imageAlt":"","link":"http://example.org/posts/2013-02-27-git-fichier-netrc/","summary":"Il y a plusieurs mois, j\u0026rsquo;ai découvert l\u0026rsquo;existence du fichier .netrc et l\u0026rsquo;utilisation que l\u0026rsquo;on peut en faire.\nDans le cadre de l\u0026rsquo;un de mes projets, j\u0026rsquo;y ai stocké les informations de connexion vers le wiki de l\u0026rsquo;entreprise à des fins de scripting.\nEn python, la lecture se fait simplement en utilisant le module netrc.\nAujourd\u0026rsquo;hui, je viens de découvrir que git peut l\u0026rsquo;utiliser afin d\u0026rsquo;éviter d\u0026rsquo;avoir à retaper son login et mot de passe à chaque push\u0026hellip;","tags":[],"text":"il y a plusieurs mois, j\u0026rsquo;ai découvert l\u0026rsquo;existence du fichier .netrc et l\u0026rsquo;utilisation que l\u0026rsquo;on peut en faire.\ndans le cadre de l\u0026rsquo;un de mes projets, j\u0026rsquo;y ai stocké les informations de connexion vers le wiki de l\u0026rsquo;entreprise à des fins de scripting.\nen python, la lecture se fait simplement en utilisant le module netrc.\naujourd\u0026rsquo;hui, je viens de découvrir que git peut l\u0026rsquo;utiliser afin d\u0026rsquo;éviter d\u0026rsquo;avoir à retaper son login et mot de passe à chaque push\u0026hellip;\nmachine github.com login yourname password secret ce fichier me plaît bien : centralisation et simplicité :)\n","title":"Git, fichier .netrc"},{"date":"2013-02-27","image":"","imageAlt":"","link":"http://example.org/posts/2013-02-27-linux-mint-et-lettres-ligaturees/","summary":"J\u0026rsquo;ai eu un petit souci pour utiliser les lettres ligaturées sous linux.\nSur bien des documentations, AltGr+o est censé donner œ, cependant, sur ma configuration cela donnait ø\u0026hellip;\nPour accéder à ces lettres, j\u0026rsquo;ai procédé comme suit :\nAinsi, la touche \u0026ldquo;Pause\u0026rdquo; suivi de o et e donne œ ! \u0026ldquo;Pause\u0026rdquo; suivi de a et e donne æ !\nMerveilleux maintenant ! Je vais pouvoir écrire œuf normalement dans mon blog de recettes :)","tags":[],"text":" j\u0026rsquo;ai eu un petit souci pour utiliser les lettres ligaturées sous linux.\nsur bien des documentations, altgr+o est censé donner œ, cependant, sur ma configuration cela donnait ø\u0026hellip;\npour accéder à ces lettres, j\u0026rsquo;ai procédé comme suit :\nainsi, la touche \u0026ldquo;pause\u0026rdquo; suivi de o et e donne œ ! \u0026ldquo;pause\u0026rdquo; suivi de a et e donne æ !\nmerveilleux maintenant ! je vais pouvoir écrire œuf normalement dans mon blog de recettes :)\nhttp://mezalor.blogspot.com\n","title":"Linux Mint et lettres ligaturées"},{"date":"2013-02-19","image":"","imageAlt":"","link":"http://example.org/posts/2013-02-19-awk-afficher-les-5-lignes-apres-un-pattern/","summary":"Cela peut se faire avec la commande awk\n# Sans la ligne matchée $ awk \u0026#39;/root/{n=5;next}n{print;n--}\u0026#39; /etc/passwd bin:x:1:1:bin:/bin:/bin/false daemon:x:2:2:daemon:/sbin:/bin/false mail:x:8:12:mail:/var/spool/mail:/bin/false ftp:x:14:11:ftp:/srv/ftp:/bin/false http:x:33:33:http:/srv/http:/bin/false $ awk \u0026#39;n--\u0026gt;0;/root/{n=5}\u0026#39; /etc/passwd bin:x:1:1:bin:/bin:/bin/false daemon:x:2:2:daemon:/sbin:/bin/false mail:x:8:12:mail:/var/spool/mail:/bin/false ftp:x:14:11:ftp:/srv/ftp:/bin/false http:x:33:33:http:/srv/http:/bin/false # Avec la ligne matchée $ awk \u0026#39;/root/{n=5;print;next}n{print;n--}\u0026#39; /etc/passwd root:x:0:0:root:/root:/bin/bash bin:x:1:1:bin:/bin:/bin/false daemon:x:2:2:daemon:/sbin:/bin/false mail:x:8:12:mail:/var/spool/mail:/bin/false ftp:x:14:11:ftp:/srv/ftp:/bin/false http:x:33:33:http:/srv/http:/bin/false $ awk \u0026#39;n--\u0026gt;0;/root/{print;n=5}\u0026#39; /etc/passwd root:x:0:0:root:/root:/bin/bash bin:x:1:1:bin:/bin:/bin/false daemon:x:2:2:daemon:/sbin:/bin/false mail:x:8:12:mail:/var/spool/mail:/bin/false ftp:x:14:11:ftp:/srv/ftp:/bin/false http:x:33:33:http:/srv/http:/bin/false ","tags":[],"text":"cela peut se faire avec la commande awk\n# sans la ligne matchée $ awk \u0026#39;/root/{n=5;next}n{print;n--}\u0026#39; /etc/passwd bin:x:1:1:bin:/bin:/bin/false daemon:x:2:2:daemon:/sbin:/bin/false mail:x:8:12:mail:/var/spool/mail:/bin/false ftp:x:14:11:ftp:/srv/ftp:/bin/false http:x:33:33:http:/srv/http:/bin/false $ awk \u0026#39;n--\u0026gt;0;/root/{n=5}\u0026#39; /etc/passwd bin:x:1:1:bin:/bin:/bin/false daemon:x:2:2:daemon:/sbin:/bin/false mail:x:8:12:mail:/var/spool/mail:/bin/false ftp:x:14:11:ftp:/srv/ftp:/bin/false http:x:33:33:http:/srv/http:/bin/false # avec la ligne matchée $ awk \u0026#39;/root/{n=5;print;next}n{print;n--}\u0026#39; /etc/passwd root:x:0:0:root:/root:/bin/bash bin:x:1:1:bin:/bin:/bin/false daemon:x:2:2:daemon:/sbin:/bin/false mail:x:8:12:mail:/var/spool/mail:/bin/false ftp:x:14:11:ftp:/srv/ftp:/bin/false http:x:33:33:http:/srv/http:/bin/false $ awk \u0026#39;n--\u0026gt;0;/root/{print;n=5}\u0026#39; /etc/passwd root:x:0:0:root:/root:/bin/bash bin:x:1:1:bin:/bin:/bin/false daemon:x:2:2:daemon:/sbin:/bin/false mail:x:8:12:mail:/var/spool/mail:/bin/false ftp:x:14:11:ftp:/srv/ftp:/bin/false http:x:33:33:http:/srv/http:/bin/false ","title":"awk, afficher les 5 lignes après un pattern"},{"date":"2013-02-12","image":"","imageAlt":"","link":"http://example.org/posts/2013-02-12-linux-determiner-la-police-utilisee-par-xterm/","summary":"On peut utiliser appres qui affiche la liste des ressources utilisées par xterm.\nDans mon cas :\n$ pacman -S xorg-appres $ appres XTerm | grep -i font | grep -vi label *tek4014*fontLarge: 9x15 *tek4014*font2: 8x13 *tek4014*font3: 6x13 *tek4014*fontSmall: 6x10 *VT100.utf8Fonts.font5: -misc-fixed-medium-r-normal--18-120-100-100-c-90-iso10646-1 *VT100.utf8Fonts.font3: -misc-fixed-medium-r-normal--14-130-75-75-c-70-iso10646-1 *VT100.utf8Fonts.font: -misc-fixed-medium-r-semicondensed--13-120-75-75-c-60-iso10646-1 *VT100.utf8Fonts.font4: -misc-fixed-medium-r-normal--13-120-75-75-c-80-iso10646-1 *VT100.utf8Fonts.font2: -misc-fixed-medium-r-normal--8-80-75-75-c-50-iso10646-1 *VT100.utf8Fonts.font6: -misc-fixed-medium-r-normal--20-200-75-75-c-100-iso10646-1 *VT100.font5: 9x15 *VT100.font3: 6x10 *VT100.font1: nil2 *VT100.font4: 7x13 *VT100.font2: 5x7 *VT100.font6: 10x20 *IconFont: nil2 Donc, si je veux utiliser la même police dans un autre terminal, je n\u0026rsquo;ai plus qu\u0026rsquo;à utiliser : -misc-fixed-medium-r-semicondensed\u0026ndash;13-120-75-75-c-60-iso10646-1","tags":[],"text":"on peut utiliser appres qui affiche la liste des ressources utilisées par xterm.\ndans mon cas :\n$ pacman -s xorg-appres $ appres xterm | grep -i font | grep -vi label *tek4014*fontlarge: 9x15 *tek4014*font2: 8x13 *tek4014*font3: 6x13 *tek4014*fontsmall: 6x10 *vt100.utf8fonts.font5: -misc-fixed-medium-r-normal--18-120-100-100-c-90-iso10646-1 *vt100.utf8fonts.font3: -misc-fixed-medium-r-normal--14-130-75-75-c-70-iso10646-1 *vt100.utf8fonts.font: -misc-fixed-medium-r-semicondensed--13-120-75-75-c-60-iso10646-1 *vt100.utf8fonts.font4: -misc-fixed-medium-r-normal--13-120-75-75-c-80-iso10646-1 *vt100.utf8fonts.font2: -misc-fixed-medium-r-normal--8-80-75-75-c-50-iso10646-1 *vt100.utf8fonts.font6: -misc-fixed-medium-r-normal--20-200-75-75-c-100-iso10646-1 *vt100.font5: 9x15 *vt100.font3: 6x10 *vt100.font1: nil2 *vt100.font4: 7x13 *vt100.font2: 5x7 *vt100.font6: 10x20 *iconfont: nil2 donc, si je veux utiliser la même police dans un autre terminal, je n\u0026rsquo;ai plus qu\u0026rsquo;à utiliser : -misc-fixed-medium-r-semicondensed\u0026ndash;13-120-75-75-c-60-iso10646-1\n","title":"Linux, déterminer la police utilisée par xterm"},{"date":"2013-02-02","image":"","imageAlt":"","link":"http://example.org/posts/2013-02-02-linux-alternatives/","summary":"A chaque fois, on fait des bidouilles pour utiliser une version d\u0026rsquo;un exécutable (par exemple java) plutôt qu\u0026rsquo;une autre\u0026hellip;\nPourtant il existe les alternatives sous linux qui permettent de basculer vers une version particulière\u0026hellip;\n$ sudo update-alternatives --install \u0026#34;/usr/bin/java\u0026#34; \u0026#34;java\u0026#34; \u0026#34;/home/me/Logiciels/jre1.7.0_13/bin/java\u0026#34; 1 [sudo] password for me: $ sudo update-alternatives --config java Il existe 2 choix pour l\u0026#39;alternative java (qui fournit /usr/bin/java). Sélection Chemin Priorité État ------------------------------------------------------------ * 0 /usr/lib/jvm/java-7-openjdk-amd64/jre/bin/java 1071 mode automatique 1 /home/me/Logiciels/jre1.","tags":[],"text":"a chaque fois, on fait des bidouilles pour utiliser une version d\u0026rsquo;un exécutable (par exemple java) plutôt qu\u0026rsquo;une autre\u0026hellip;\npourtant il existe les alternatives sous linux qui permettent de basculer vers une version particulière\u0026hellip;\n$ sudo update-alternatives --install \u0026#34;/usr/bin/java\u0026#34; \u0026#34;java\u0026#34; \u0026#34;/home/me/logiciels/jre1.7.0_13/bin/java\u0026#34; 1 [sudo] password for me: $ sudo update-alternatives --config java il existe 2 choix pour l\u0026#39;alternative java (qui fournit /usr/bin/java). sélection chemin priorité état ------------------------------------------------------------ * 0 /usr/lib/jvm/java-7-openjdk-amd64/jre/bin/java 1071 mode automatique 1 /home/me/logiciels/jre1.7.0_13/bin/java 1 mode manuel 2 /usr/lib/jvm/java-7-openjdk-amd64/jre/bin/java 1071 mode manuel appuyez sur \u0026lt;entrée\u0026gt; pour conserver la valeur par défaut[*] ou choisissez le numéro sélectionné : $ ","title":"Linux, alternatives"},{"date":"2013-02-01","image":"","imageAlt":"","link":"http://example.org/posts/2013-02-01-casio-sl-300-et-pourcentages/","summary":"Voici ma vieille casio que mes parents m\u0026rsquo;ont offerte à Noël en 1984\u0026hellip;\n$ casio sl-300 # déterminer combien fait 5% de 100 100 [×] 5 [%] =\u0026gt; 5 # déterminer combien fait 100€ majoré de 5% 100 [×] 5 [%] [+] 105 # déterminer combien fait 10€ remisé de 20% 10 [×] 20 [%] [-] 8 # déterminer le rapport : 200 × ?% = 166 166 [÷] 200 [%] 83 # déterminer le % d\u0026#39;augmentation pour passer de 10€ à 12€ 12 [-] 10 [%] 20 # déterminer le prix pour qu\u0026#39;une réduction de 25% de ce prix donne 120€ 120 [+] 25 [%] 160 [-] 40 ","tags":[],"text":"voici ma vieille casio que mes parents m\u0026rsquo;ont offerte à noël en 1984\u0026hellip;\n$ casio sl-300 # déterminer combien fait 5% de 100 100 [×] 5 [%] =\u0026gt; 5 # déterminer combien fait 100€ majoré de 5% 100 [×] 5 [%] [+] 105 # déterminer combien fait 10€ remisé de 20% 10 [×] 20 [%] [-] 8 # déterminer le rapport : 200 × ?% = 166 166 [÷] 200 [%] 83 # déterminer le % d\u0026#39;augmentation pour passer de 10€ à 12€ 12 [-] 10 [%] 20 # déterminer le prix pour qu\u0026#39;une réduction de 25% de ce prix donne 120€ 120 [+] 25 [%] 160 [-] 40 ","title":"Casio SL-300.... et pourcentages"},{"date":"2013-01-31","image":"","imageAlt":"","link":"http://example.org/posts/2013-01-31-stat-difference-entre-modify-et-change/","summary":"Quelle est la différence entre modify et change dans le retour de la commande stat ?\n$ svn st | awk \u0026#39;/^M/ \u0026amp;\u0026amp; /.java$/ {print $2}\u0026#39; | xargs stat File: «VxmlStatistiquesServletService.java» Size: 10248 Blocks: 24 IO Block: 4096 fichier Device: 807h/2055d\tInode: 5770813 Links: 1 Access: (0644/-rw-r--r--) Uid: ( 1000/mee) Gid: ( 1000/mee) Access: 2013-01-30 16:58:57.208953609 +0100 Modify: 2013-01-30 16:58:57.198953609 +0100 Change: 2013-01-30 16:58:57.198953609 +0100 File: «VxmlGlobalServletService.java» Size: 64632 Blocks: 128 IO Block: 4096 fichier Device: 807h/2055d\tInode: 5774444 Links: 1 Access: (0644/-rw-r--r--) Uid: ( 1000/mee) Gid: ( 1000/mee) Access: 2013-01-30 16:54:35.","tags":[],"text":"quelle est la différence entre modify et change dans le retour de la commande stat ?\n$ svn st | awk \u0026#39;/^m/ \u0026amp;\u0026amp; /.java$/ {print $2}\u0026#39; | xargs stat file: «vxmlstatistiquesservletservice.java» size: 10248 blocks: 24 io block: 4096 fichier device: 807h/2055d\tinode: 5770813 links: 1 access: (0644/-rw-r--r--) uid: ( 1000/mee) gid: ( 1000/mee) access: 2013-01-30 16:58:57.208953609 +0100 modify: 2013-01-30 16:58:57.198953609 +0100 change: 2013-01-30 16:58:57.198953609 +0100 file: «vxmlglobalservletservice.java» size: 64632 blocks: 128 io block: 4096 fichier device: 807h/2055d\tinode: 5774444 links: 1 access: (0644/-rw-r--r--) uid: ( 1000/mee) gid: ( 1000/mee) access: 2013-01-30 16:54:35.098953459 +0100 modify: 2013-01-30 16:54:35.078953459 +0100 change: 2013-01-30 16:54:35.078953459 +0100 modify - indique quand le fichier a été modifié la dernière fois (le contenu a été modifié) change - indique la dernière fois que les meta données du fichier ont été changées (exemple permissions) ","title":"stat, différence entre modify et change"},{"date":"2013-01-08","image":"","imageAlt":"","link":"http://example.org/posts/2013-01-08-java-renvoyer-un-fichier-binaire-via-une-servlet/","summary":"package xxxx; import java.io.FileInputStream; import java.io.IOException; import javax.servlet.ServletException; import javax.servlet.ServletOutputStream; import javax.servlet.http.HttpServlet; import javax.servlet.http.HttpServletRequest; import javax.servlet.http.HttpServletResponse; import org.apache.commons.io.IOUtils; public class GetManualServlet extends HttpServlet { @Override protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException { resp.setContentType(\u0026#34;application/msword\u0026#34;); resp.addHeader( \u0026#34;Content-Transfer-Encoding\u0026#34;, \u0026#34;binary\u0026#34; ); resp.addHeader(\u0026#34;Pragma\u0026#34;, \u0026#34;no-cache\u0026#34;); resp.addHeader(\u0026#34;Cache-Control\u0026#34;, \u0026#34;no-cache, max-age=0, must-revalidate\u0026#34;); resp.addHeader(\u0026#34;Content-Disposition\u0026#34;, \u0026#34;attachment; fileName=\\\u0026#34;ManuelUtilisateur.docx\\\u0026#34;;\u0026#34;); String path = getServletContext().getRealPath(\u0026#34;doc/ManuelUtilisateur.docx\u0026#34;); FileInputStream in = new FileInputStream(path); try { ServletOutputStream out = resp.getOutputStream(); IOUtils.copy(in, out); out.flush(); } finally { in.","tags":["addHeader","copy","FileInputStream","getRealPath","getServletContext","HttpServletRequest req","HttpServletResponse resp,Pragma,msword","IOUtils","java","ServletOutputStream","setContentType"],"text":"package xxxx; import java.io.fileinputstream; import java.io.ioexception; import javax.servlet.servletexception; import javax.servlet.servletoutputstream; import javax.servlet.http.httpservlet; import javax.servlet.http.httpservletrequest; import javax.servlet.http.httpservletresponse; import org.apache.commons.io.ioutils; public class getmanualservlet extends httpservlet { @override protected void doget(httpservletrequest req, httpservletresponse resp) throws servletexception, ioexception { resp.setcontenttype(\u0026#34;application/msword\u0026#34;); resp.addheader( \u0026#34;content-transfer-encoding\u0026#34;, \u0026#34;binary\u0026#34; ); resp.addheader(\u0026#34;pragma\u0026#34;, \u0026#34;no-cache\u0026#34;); resp.addheader(\u0026#34;cache-control\u0026#34;, \u0026#34;no-cache, max-age=0, must-revalidate\u0026#34;); resp.addheader(\u0026#34;content-disposition\u0026#34;, \u0026#34;attachment; filename=\\\u0026#34;manuelutilisateur.docx\\\u0026#34;;\u0026#34;); string path = getservletcontext().getrealpath(\u0026#34;doc/manuelutilisateur.docx\u0026#34;); fileinputstream in = new fileinputstream(path); try { servletoutputstream out = resp.getoutputstream(); ioutils.copy(in, out); out.flush(); } finally { in.close(); } } } ","title":"Java, renvoyer un fichier binaire via une servlet"},{"date":"2012-12-05","image":"","imageAlt":"","link":"http://example.org/posts/2012-12-05-levee-de-la-travee-centrale-du-pont-bacalan-bastide/","summary":"Prise ce jour, Mercredi 5 Décembre 2012","tags":[],"text":"prise ce jour, mercredi 5 décembre 2012\n","title":"Levée de la travée centrale du pont Bacalan-Bastide"},{"date":"2012-11-30","image":"","imageAlt":"","link":"http://example.org/posts/2012-11-30-bash-afficher-en-gras/","summary":"On peut utiliser la commande tput de la manière suivante :\necho \u0026#34;$(tput bold)Mise à jour du modèle \u0026#39;$modele\u0026#39; sur \u0026#39;itg$environnement\u0026#39; de \u0026#39;$fromversion\u0026#39; vers \u0026#39;$toversion\u0026#39;$(tput sgr0)\u0026#34; ","tags":[],"text":"on peut utiliser la commande tput de la manière suivante :\necho \u0026#34;$(tput bold)mise à jour du modèle \u0026#39;$modele\u0026#39; sur \u0026#39;itg$environnement\u0026#39; de \u0026#39;$fromversion\u0026#39; vers \u0026#39;$toversion\u0026#39;$(tput sgr0)\u0026#34; ","title":"bash, afficher en gras"},{"date":"2012-11-22","image":"","imageAlt":"","link":"http://example.org/posts/2012-11-22-mysql-regexp/","summary":"Pour comptabiliser avec une regexp les numéros appelant valides (non masqués)\nmysql\u0026gt; select count(distinct numAppelant) from appels_201210 where numAppelant REGEXP \u0026#39;^[0-9]{10}$\u0026#39;; +-----------------------------+ | count(distinct numAppelant) | +-----------------------------+ | 16215 | +-----------------------------+ 1 row in set (0.09 sec) ","tags":[],"text":"pour comptabiliser avec une regexp les numéros appelant valides (non masqués)\nmysql\u0026gt; select count(distinct numappelant) from appels_201210 where numappelant regexp \u0026#39;^[0-9]{10}$\u0026#39;; +-----------------------------+ | count(distinct numappelant) | +-----------------------------+ | 16215 | +-----------------------------+ 1 row in set (0.09 sec) ","title":"mysql, regexp"},{"date":"2012-11-15","image":"","imageAlt":"","link":"http://example.org/posts/2012-11-15-java-initialiser-une-liste-en-une-ligne/","summary":"private static final List\u0026lt;String\u0026gt; cles_a_utiliser = Arrays.asList(\u0026#34;param_name\u0026#34;, \u0026#34;func_name\u0026#34;); ","tags":[],"text":"private static final list\u0026lt;string\u0026gt; cles_a_utiliser = arrays.aslist(\u0026#34;param_name\u0026#34;, \u0026#34;func_name\u0026#34;); ","title":"java, initialiser une liste en une ligne"},{"date":"2012-11-12","image":"","imageAlt":"","link":"http://example.org/posts/2012-11-12-rxvt-unicode-probleme-de-compilation/","summary":"Il suffit simplement d\u0026rsquo;un\n$ sudo apt-get install libperl-dev et hop finit l\u0026rsquo;erreur : checking for /usr/bin/perl suitability\u0026hellip; configure error no unable to link !","tags":[],"text":"il suffit simplement d\u0026rsquo;un\n$ sudo apt-get install libperl-dev et hop finit l\u0026rsquo;erreur : checking for /usr/bin/perl suitability\u0026hellip; configure error no unable to link !\n","title":"rxvt-unicode, problème de compilation"},{"date":"2012-11-09","image":"","imageAlt":"","link":"http://example.org/posts/2012-11-09-awk-utiliser-les-intervalles-x-y/","summary":"Pour utiliser les intervalles avec awk, il suffit de rajouter l\u0026rsquo;option \u0026ndash;re-interval\n$ date +\u0026#39;%A %e %B %Y %H:%M\u0026#39; | awk --re-interval \u0026#39;{ gsub(/[[:space:]]{2,}/, \u0026#34; \u0026#34;, $0); print $0 }\u0026#39; vendredi 9 novembre 2012 11:45 ","tags":[],"text":"pour utiliser les intervalles avec awk, il suffit de rajouter l\u0026rsquo;option \u0026ndash;re-interval\n$ date +\u0026#39;%a %e %b %y %h:%m\u0026#39; | awk --re-interval \u0026#39;{ gsub(/[[:space:]]{2,}/, \u0026#34; \u0026#34;, $0); print $0 }\u0026#39; vendredi 9 novembre 2012 11:45 ","title":"awk, utiliser les intervalles {x,y}"},{"date":"2012-11-09","image":"","imageAlt":"","link":"http://example.org/posts/2012-11-09-svn-ajouter-la-propriete-executable/","summary":"$ svn propset svn:executable ON copie_fit2local.sh ","tags":[],"text":"$ svn propset svn:executable on copie_fit2local.sh ","title":"SVN, ajouter la propriété exécutable"},{"date":"2012-11-08","image":"","imageAlt":"","link":"http://example.org/posts/2012-11-08-tar-detarrer-un-bz2/","summary":"Il suffit simplement de remplacer le z par j dans la ligne de commande :\n$ tar jxvf worker-2.19.5.tar.bz2 ","tags":[],"text":"il suffit simplement de remplacer le z par j dans la ligne de commande :\n$ tar jxvf worker-2.19.5.tar.bz2 ","title":"Tar, détarrer un bz2"},{"date":"2012-11-07","image":"","imageAlt":"","link":"http://example.org/posts/2012-11-07-vi-rechercher-une-regexp/","summary":"Par exemple pour rechercher les occurences say ou play lorsque l\u0026rsquo;on édite un fchier :\n/say\\|play ","tags":[],"text":"par exemple pour rechercher les occurences say ou play lorsque l\u0026rsquo;on édite un fchier :\n/say\\|play ","title":"Vi, rechercher une regexp"},{"date":"2012-11-07","image":"","imageAlt":"","link":"http://example.org/posts/2012-11-07-c-compiler-un-projet-avec-autoconf-automake-consors/","summary":"Si le projet met à disposition un fichier autogen.sh, utilisez-le.\nSinon, exécutez les commandes suivantes pour reconfigurer et recompiler le projet :\nautoreconf \u0026ndash;force \u0026ndash;install - lance aclocal, autoconf, autoheader et automake dans le bon ordre pour créer config.h.in, Makefile.in, configure et un certain nombre de fichiers auxiliaires ./configure - crée le fichier Makefile à partir du fichier Makefile.in et config.h à partir du fichier config.h.in - make ","tags":[],"text":"si le projet met à disposition un fichier autogen.sh, utilisez-le.\nsinon, exécutez les commandes suivantes pour reconfigurer et recompiler le projet :\nautoreconf \u0026ndash;force \u0026ndash;install - lance aclocal, autoconf, autoheader et automake dans le bon ordre pour créer config.h.in, makefile.in, configure et un certain nombre de fichiers auxiliaires ./configure - crée le fichier makefile à partir du fichier makefile.in et config.h à partir du fichier config.h.in - make ","title":"C, compiler un projet avec autoconf, automake \u0026 consors"},{"date":"2012-11-05","image":"","imageAlt":"","link":"http://example.org/posts/2012-11-05-bash-et-les-tableaux/","summary":"Voici comment faire des tableaux et les utiliser en bash.\n$ cat script.bash #!/bin/bash tableau=(\u0026#34;un élément\u0026#34; \u0026#34;et puis un deuxième\u0026#34; \u0026#34;et pourquoi pas un dernier\u0026#34; \u0026#34;pour finir\u0026#34;) for elem in \u0026#34;${tableau[@]}\u0026#34;; do echo $elem done echo et si je ne veux que le 3e... echo \u0026#34;${tableau[@]:2:1}\u0026#34; $ ./script.bash un élément et puis un deuxième et pourquoi pas un dernier pour finir et si je ne veux que le 2e... et pourquoi pas un dernier Je suis tombé dessus en regardant les PKGBUILD de dwm comme (celui-ci)","tags":[],"text":"voici comment faire des tableaux et les utiliser en bash.\n$ cat script.bash #!/bin/bash tableau=(\u0026#34;un élément\u0026#34; \u0026#34;et puis un deuxième\u0026#34; \u0026#34;et pourquoi pas un dernier\u0026#34; \u0026#34;pour finir\u0026#34;) for elem in \u0026#34;${tableau[@]}\u0026#34;; do echo $elem done echo et si je ne veux que le 3e... echo \u0026#34;${tableau[@]:2:1}\u0026#34; $ ./script.bash un élément et puis un deuxième et pourquoi pas un dernier pour finir et si je ne veux que le 2e... et pourquoi pas un dernier je suis tombé dessus en regardant les pkgbuild de dwm comme (celui-ci)\n","title":"bash et les tableaux..."},{"date":"2012-11-02","image":"","imageAlt":"","link":"http://example.org/posts/2012-11-02-bash-lancer-une-commande-distante-via-screen-mais-rester-connecter-apres-sa-terminaison/","summary":"screen -t \u0026#34;Lancer une commande sur machine distante puis passer sur le prompt bash à la fin de celle-ci\u0026#34; ssh -X machine_distante.example.com \u0026#34;(tail -f /usr2/logs/local7.log; bash)\u0026#34; ","tags":[],"text":"screen -t \u0026#34;lancer une commande sur machine distante puis passer sur le prompt bash à la fin de celle-ci\u0026#34; ssh -x machine_distante.example.com \u0026#34;(tail -f /usr2/logs/local7.log; bash)\u0026#34; ","title":"bash, lancer une commande distante via screen mais rester connecter après sa terminaison"},{"date":"2012-10-29","image":"","imageAlt":"","link":"http://example.org/posts/2012-10-29-mac-disque-ntfs-en-ecriture/","summary":"Grrr, apple bloque tout. Le disque Western Digital que je viens d\u0026rsquo;acheter se monte directement mais n\u0026rsquo;est visible du finder qu\u0026rsquo;en lecture seulement !\nC\u0026rsquo;est rageant.\nIl y a des solutions tierces telles que paragon-software.com et tuxera.com mais c\u0026rsquo;est payant :(\nJ\u0026rsquo;ai quand même fait quelques explorations et il s\u0026rsquo;avère qu\u0026rsquo;on peut bien monter le disque en lecture/écriture sans passer par la caisse :\n$ sudo umount /Volumes/WD1TO $ mkdir /Volumes/WD1TO $ sudo mount -t ntfs -o nodev,nosuid,noowners,rw /dev/disk2s1 /Volumes/WD1TO $ echo hello the world \u0026gt; /Volumes/WD1TO/example $ cat /Volumes/WD1TO/example hello the world J\u0026rsquo;ai lancé une copie de 200Go de données, je verai bien si tout passe.","tags":[],"text":"grrr, apple bloque tout. le disque western digital que je viens d\u0026rsquo;acheter se monte directement mais n\u0026rsquo;est visible du finder qu\u0026rsquo;en lecture seulement !\nc\u0026rsquo;est rageant.\nil y a des solutions tierces telles que paragon-software.com et tuxera.com mais c\u0026rsquo;est payant :(\nj\u0026rsquo;ai quand même fait quelques explorations et il s\u0026rsquo;avère qu\u0026rsquo;on peut bien monter le disque en lecture/écriture sans passer par la caisse :\n$ sudo umount /volumes/wd1to $ mkdir /volumes/wd1to $ sudo mount -t ntfs -o nodev,nosuid,noowners,rw /dev/disk2s1 /volumes/wd1to $ echo hello the world \u0026gt; /volumes/wd1to/example $ cat /volumes/wd1to/example hello the world j\u0026rsquo;ai lancé une copie de 200go de données, je verai bien si tout passe.\nnote: ça passe sur mon mac mini avec mac os 10.6.8 :)\n","title":"mac, disque ntfs en écriture"},{"date":"2012-10-18","image":"","imageAlt":"","link":"http://example.org/posts/2012-10-18-python-print-sur-stderr/","summary":"$ cat example.py #!/usr/bin/python import sys print \u0026gt;\u0026gt; sys.stderr, \u0026#34;Hello world!\u0026#34; $ python example.py 2\u0026gt; /dev/null $ ","tags":[],"text":"$ cat example.py #!/usr/bin/python import sys print \u0026gt;\u0026gt; sys.stderr, \u0026#34;hello world!\u0026#34; $ python example.py 2\u0026gt; /dev/null $ ","title":"python, print sur stderr"},{"date":"2012-10-17","image":"","imageAlt":"","link":"http://example.org/posts/2012-10-17-bash-recuperer-la-n-ieme-ligne-ou-les-lignes-x-a-y-d-un-fichier/","summary":"On peut utiliser awk avec NR (numéro de ligne tout fichier confondus) ou FNR (numéro de ligne du fichier) :\n### afficher la 3e ligne $ awk \u0026#39;NR==3 { print; exit; }\u0026#39; /etc/passwd bin:x:2:2:bin:/bin:/bin/sh ### afficher les lignes 3 à 6 $ awk \u0026#39;3\u0026lt;=NR \u0026amp;\u0026amp; NR\u0026lt;=6 { print; }\u0026#39; /etc/passwd bin:x:2:2:bin:/bin:/bin/sh sys:x:3:3:sys:/dev:/bin/sh sync:x:4:65534:sync:/bin:/bin/sync games:x:5:60:games:/usr/games:/bin/sh Ou bien avec sed :\n$ cat /etc/passwd | sed \u0026#39;3!d\u0026#39; bin:x:2:2:bin:/bin:/usr/sbin/nologin $ cat /etc/passwd | sed \u0026#39;3,6!","tags":["awk","sed"],"text":"on peut utiliser awk avec nr (numéro de ligne tout fichier confondus) ou fnr (numéro de ligne du fichier) :\n### afficher la 3e ligne $ awk \u0026#39;nr==3 { print; exit; }\u0026#39; /etc/passwd bin:x:2:2:bin:/bin:/bin/sh ### afficher les lignes 3 à 6 $ awk \u0026#39;3\u0026lt;=nr \u0026amp;\u0026amp; nr\u0026lt;=6 { print; }\u0026#39; /etc/passwd bin:x:2:2:bin:/bin:/bin/sh sys:x:3:3:sys:/dev:/bin/sh sync:x:4:65534:sync:/bin:/bin/sync games:x:5:60:games:/usr/games:/bin/sh ou bien avec sed :\n$ cat /etc/passwd | sed \u0026#39;3!d\u0026#39; bin:x:2:2:bin:/bin:/usr/sbin/nologin $ cat /etc/passwd | sed \u0026#39;3,6!d\u0026#39; bin:x:2:2:bin:/bin:/usr/sbin/nologin sys:x:3:3:sys:/dev:/usr/sbin/nologin sync:x:4:65534:sync:/bin:/bin/sync games:x:5:60:games:/usr/games:/usr/sbin/nologin en bonus, 10 astuces awk :\nhttp://www.catonmat.net/blog/ten-awk-tips-tricks-and-pitfalls/\n","title":"bash, récupérer la n-ième ligne ou les lignes x à y d'un fichier"},{"date":"2012-10-17","image":"","imageAlt":"","link":"http://example.org/posts/2012-10-17-bash-supprimer-les-lignes-vides-d-un-fichier/","summary":"Voici plusieurs solutions\n$ cat ~/fichier | sed -e \u0026#39;s/^[[:space:]]*$//;/^$/d\u0026#39; $ cat ~/fichier | awk NF où NF indique le nombre de champs. Si ce n\u0026rsquo;est pas une ligne vide, le nombre de champs est positif et la commande par défaut de awk est d\u0026rsquo;afficher. Ce qui équivaut à :\n$ cat ~/fichier | awk \u0026#39;NF!=0 { print }\u0026#39; ","tags":["awk","bash","remove empty lines","sed","supprimer lignes vides"],"text":"voici plusieurs solutions\n$ cat ~/fichier | sed -e \u0026#39;s/^[[:space:]]*$//;/^$/d\u0026#39; $ cat ~/fichier | awk nf où nf indique le nombre de champs. si ce n\u0026rsquo;est pas une ligne vide, le nombre de champs est positif et la commande par défaut de awk est d\u0026rsquo;afficher. ce qui équivaut à :\n$ cat ~/fichier | awk \u0026#39;nf!=0 { print }\u0026#39; ","title":"bash, supprimer les lignes vides d'un fichier"},{"date":"2012-10-16","image":"","imageAlt":"","link":"http://example.org/posts/2012-10-16-bash-lire-ligne-par-ligne/","summary":"Pour un fichier :\n$ while read line ; do echo $line; done \u0026lt; /etc/shells # /etc/shells: valid login shells /bin/csh /bin/sh /usr/bin/es /usr/bin/ksh /bin/ksh /usr/bin/rc /usr/bin/tcsh /bin/tcsh /usr/bin/esh /bin/dash /bin/bash /bin/rbash /usr/bin/screen Et encore mieux, sur la sortie d\u0026rsquo;une commande :)\n$ while read line ; do echo $line; done \u0026lt; \u0026lt;(head -n 3 /etc/shells) # /etc/shells: valid login shells /bin/csh /bin/sh ","tags":["bash","line","read"],"text":"pour un fichier :\n$ while read line ; do echo $line; done \u0026lt; /etc/shells # /etc/shells: valid login shells /bin/csh /bin/sh /usr/bin/es /usr/bin/ksh /bin/ksh /usr/bin/rc /usr/bin/tcsh /bin/tcsh /usr/bin/esh /bin/dash /bin/bash /bin/rbash /usr/bin/screen et encore mieux, sur la sortie d\u0026rsquo;une commande :)\n$ while read line ; do echo $line; done \u0026lt; \u0026lt;(head -n 3 /etc/shells) # /etc/shells: valid login shells /bin/csh /bin/sh ","title":"bash, lire ligne par ligne"},{"date":"2012-10-15","image":"","imageAlt":"","link":"http://example.org/posts/2012-10-15-awk-un-exemple-pour-bien-debuter-et-comprendre/","summary":"$ cat file.txt Firstname;Lastname John;Doe Jane;Doe Paul;Smith #end of file with a ; character $ for b in b b1 b2; do awk -F \u0026#39;;\u0026#39; -v base=$b -v fmt=\u0026#39;use %s; insert into Users values (\u0026#34;%s\u0026#34;, \u0026#34;%s\u0026#34;);\\n\u0026#39; \u0026#39;NR\u0026gt;=2 \u0026amp;\u0026amp; /;/ \u0026amp;\u0026amp; !/^#/ {printf fmt, base, $1, $2}\u0026#39; file.txt done use b; insert into Users values (\u0026#34;John\u0026#34;, \u0026#34;Doe\u0026#34;); use b; insert into Users values (\u0026#34;Jane\u0026#34;, \u0026#34;Doe\u0026#34;); use b; insert into Users values (\u0026#34;Paul\u0026#34;, \u0026#34;Smith\u0026#34;); use b1; insert into Users values (\u0026#34;John\u0026#34;, \u0026#34;Doe\u0026#34;); use b1; insert into Users values (\u0026#34;Jane\u0026#34;, \u0026#34;Doe\u0026#34;); use b1; insert into Users values (\u0026#34;Paul\u0026#34;, \u0026#34;Smith\u0026#34;); use b2; insert into Users values (\u0026#34;John\u0026#34;, \u0026#34;Doe\u0026#34;); use b2; insert into Users values (\u0026#34;Jane\u0026#34;, \u0026#34;Doe\u0026#34;); use b2; insert into Users values (\u0026#34;Paul\u0026#34;, \u0026#34;Smith\u0026#34;); awk n\u0026rsquo;est pas si compliqué que ça lorsque l\u0026rsquo;on comprend la philosophie\u0026hellip;","tags":["awk","base","for"],"text":"$ cat file.txt firstname;lastname john;doe jane;doe paul;smith #end of file with a ; character $ for b in b b1 b2; do awk -f \u0026#39;;\u0026#39; -v base=$b -v fmt=\u0026#39;use %s; insert into users values (\u0026#34;%s\u0026#34;, \u0026#34;%s\u0026#34;);\\n\u0026#39; \u0026#39;nr\u0026gt;=2 \u0026amp;\u0026amp; /;/ \u0026amp;\u0026amp; !/^#/ {printf fmt, base, $1, $2}\u0026#39; file.txt done use b; insert into users values (\u0026#34;john\u0026#34;, \u0026#34;doe\u0026#34;); use b; insert into users values (\u0026#34;jane\u0026#34;, \u0026#34;doe\u0026#34;); use b; insert into users values (\u0026#34;paul\u0026#34;, \u0026#34;smith\u0026#34;); use b1; insert into users values (\u0026#34;john\u0026#34;, \u0026#34;doe\u0026#34;); use b1; insert into users values (\u0026#34;jane\u0026#34;, \u0026#34;doe\u0026#34;); use b1; insert into users values (\u0026#34;paul\u0026#34;, \u0026#34;smith\u0026#34;); use b2; insert into users values (\u0026#34;john\u0026#34;, \u0026#34;doe\u0026#34;); use b2; insert into users values (\u0026#34;jane\u0026#34;, \u0026#34;doe\u0026#34;); use b2; insert into users values (\u0026#34;paul\u0026#34;, \u0026#34;smith\u0026#34;); awk n\u0026rsquo;est pas si compliqué que ça lorsque l\u0026rsquo;on comprend la philosophie\u0026hellip;\nla commande se décompose de la manière suivante :\nbegin { code_debut } matchage { code } end { code_fin } code_debut est exécuté au début du traitement du fichier ou flux code_fin est exécuté à la fin du traitement du fichier ou flux code est exécuté sur les lignes du fichier ou flux matchées par les règles de matchage dans l\u0026rsquo;exemple ci-dessus,\n-f ';' indique que le séparateur de champs est le ; les -v permettent de déclarer une variable awk à partir d\u0026rsquo;une variable bash (pour transmettre les informations) nr correspond au numéro de la ligne traitée (on ignore l\u0026rsquo;entête du fichier avec le test supérieur ou égal à 2) /;/ correspond aux lignes qui contiennent un ; !/^#/ correspond aux lignes qui ne débutent pas par un dièse le programme ci-dessus crée les requêtes à exécuter sur chacune des bases de données pour chacun des enregistrements du fichier file.txt\ncomme quoi, on peut démystifier awk ;)\n","title":"awk, un exemple pour bien débuter et comprendre..."},{"date":"2012-10-15","image":"","imageAlt":"","link":"http://example.org/posts/2012-10-15-python-lire-et-ecrire-des-fichiers-xls/","summary":"Si l\u0026rsquo;on a des fichiers Excel que l\u0026rsquo;on souhaite lire ou écrire, on peut utiliser les paquets xlrd (reader) et xlwt (writer).\nVoici un petit exemple de ce que l\u0026rsquo;on peut faire :\n#!/usr/bin/env python # -*- coding: utf-8 -*- import sys import xlrd import codecs import os files = [u\u0026#34;FormatBDD_XXX_backend.xls\u0026#34;, u\u0026#34;FormatBDD_XXXdata.xls\u0026#34;, u\u0026#34;FormatBDD_XXX_desc.xls\u0026#34;, u\u0026#34;FormatBDD_XXX_dm.xls\u0026#34;, u\u0026#34;FormatBDD_dimension.xls\u0026#34;] for f in files: book = xlrd.open_workbook(f) for sheet_name in book.sheet_names(): base = f.replace(\u0026#39;FormatBDD_\u0026#39;, \u0026#39;\u0026#39;) base = base.","tags":["excel","python"],"text":"si l\u0026rsquo;on a des fichiers excel que l\u0026rsquo;on souhaite lire ou écrire, on peut utiliser les paquets xlrd (reader) et xlwt (writer).\nvoici un petit exemple de ce que l\u0026rsquo;on peut faire :\n#!/usr/bin/env python # -*- coding: utf-8 -*- import sys import xlrd import codecs import os files = [u\u0026#34;formatbdd_xxx_backend.xls\u0026#34;, u\u0026#34;formatbdd_xxxdata.xls\u0026#34;, u\u0026#34;formatbdd_xxx_desc.xls\u0026#34;, u\u0026#34;formatbdd_xxx_dm.xls\u0026#34;, u\u0026#34;formatbdd_dimension.xls\u0026#34;] for f in files: book = xlrd.open_workbook(f) for sheet_name in book.sheet_names(): base = f.replace(\u0026#39;formatbdd_\u0026#39;, \u0026#39;\u0026#39;) base = base.replace(\u0026#39;.xls\u0026#39;, \u0026#39;\u0026#39;) sheet = book.sheet_by_name(sheet_name) headers = sheet.row_values(0) for rownum in range(1, sheet.nrows): row = sheet.row_values(rownum) nom = row[headers.index(u\u0026#39;nom\u0026#39;)] description = row[headers.index(u\u0026#39;description\u0026#39;)] try: commentaire = u\u0026#34; commentaires: \u0026#34; + row[headers.index(u\u0026#39;commentaires\u0026#39;)].replace(\u0026#39;\u0026#34;\u0026#39;, \u0026#39;\\\u0026#34;\u0026#39;) except valueerror: commentaire = u\u0026#39;\u0026#39; description = description + commentaire print u\u0026#39;replace into descriptions (b, t, c, d) values (\u0026#34;%s\u0026#34;, \u0026#34;%s\u0026#34;, \u0026#34;%s\u0026#34;, \u0026#34;%s\u0026#34;);\u0026#39; % (base, sheet_name, nom.strip(), description.strip().replace(\u0026#39;\u0026#34;\u0026#39;, \u0026#39;\\\\\u0026#34;\u0026#39;)) la page suivante propose des exemples clairs et rapides pour bien commencer : http://www.dev-explorer.com/articles/excel-spreadsheets-and-python\n","title":"python, lire et écrire des fichiers xls"},{"date":"2012-10-12","image":"","imageAlt":"","link":"http://example.org/posts/2012-10-12-bash-savoir-si-stdout-fait-reference-a-un-terminal/","summary":"Pour savoir si la sortie standard pointe sur un terminal, on peut utiliser l\u0026rsquo;opérateur \u0026ldquo;-t\u0026rdquo; en bash.\ndiffutil=diff if [ -t 1 ]; then if which colordiff \u0026gt; /dev/null; then diffutil=colordiff fi fi Dans le cas présenté, on utilisera colordiff pour le rendu sinon diff.\nEn effet, un pipe avec less (sans l\u0026rsquo;option -R ou la variable LESS définie à -R) afficherait les caractères d’échappement servant à la colorisation des lignes","tags":["colordiff","diff"],"text":"pour savoir si la sortie standard pointe sur un terminal, on peut utiliser l\u0026rsquo;opérateur \u0026ldquo;-t\u0026rdquo; en bash.\ndiffutil=diff if [ -t 1 ]; then if which colordiff \u0026gt; /dev/null; then diffutil=colordiff fi fi dans le cas présenté, on utilisera colordiff pour le rendu sinon diff.\nen effet, un pipe avec less (sans l\u0026rsquo;option -r ou la variable less définie à -r) afficherait les caractères d’échappement servant à la colorisation des lignes\ncf une page intéressante : ici\n","title":"bash, savoir si stdout fait référence à un terminal"},{"date":"2012-10-12","image":"","imageAlt":"","link":"http://example.org/posts/2012-10-12-sql-gerer-les-conflits-lors-des-inserts/","summary":"Lors d\u0026rsquo;un insert, si la clé primaire existe déjà, il est possible de faire un traitement comme dans l\u0026rsquo;exemple ci-dessous.\ninsert into enveloppesTTS (enveloppe, tts) select enveloppe, \u0026#39;\u0026#39; as tts from enveloppes on duplicate key update enveloppesTTS.tts=if(enveloppesTTS.tts\u0026lt;\u0026gt;\u0026#39;\u0026#39;,enveloppesTTS.tts,values(tts)); Ici, on tente de peupler la table enveloppesTTS avec des valeurs.\nSi l\u0026rsquo;entrée n\u0026rsquo;existe pas, on la crée.\nSinon on met à jour un champ de cette table uniquement si sa valeur n\u0026rsquo;est pas déjà renseigné.","tags":["if","insert into","mysql","on duplicate key","select","tts","values"],"text":"lors d\u0026rsquo;un insert, si la clé primaire existe déjà, il est possible de faire un traitement comme dans l\u0026rsquo;exemple ci-dessous.\ninsert into enveloppestts (enveloppe, tts) select enveloppe, \u0026#39;\u0026#39; as tts from enveloppes on duplicate key update enveloppestts.tts=if(enveloppestts.tts\u0026lt;\u0026gt;\u0026#39;\u0026#39;,enveloppestts.tts,values(tts)); ici, on tente de peupler la table enveloppestts avec des valeurs.\nsi l\u0026rsquo;entrée n\u0026rsquo;existe pas, on la crée.\nsinon on met à jour un champ de cette table uniquement si sa valeur n\u0026rsquo;est pas déjà renseigné.\n","title":"sql, gérer les conflits lors des inserts"},{"date":"2012-10-12","image":"","imageAlt":"","link":"http://example.org/posts/2012-10-12-bash-voir-autour-des-occurences-avec-grep/","summary":"Voici comment on peut voir les lignes proches des occurences matchées par grep\n$ grep -C 5 Msg_Motif_Reit etc/centralisation.yml ref_db: desc ref_table: motif select_column: motifId where_column: motifName - name: Msg_Motif_Reit comment: \u0026#34;nom de l\u0026#39;enveloppe associée au micro motif utilisé pour la reiteration\u0026#34; value_regex: \u0026#39;[\\w/]+\u0026#39; - name: reit_ACC comment: \u0026#34;détermine si le client est en reiteration\u0026#34; Avec l\u0026rsquo;option :\nA : affiche les lignes après l\u0026rsquo;occurence trouvée (after) B : affiche les lignes avant l\u0026rsquo;occurence trouvée (before) C : affiche les lignes avant et après l\u0026rsquo;occurence trouvée ","tags":["grep"],"text":"voici comment on peut voir les lignes proches des occurences matchées par grep\n$ grep -c 5 msg_motif_reit etc/centralisation.yml ref_db: desc ref_table: motif select_column: motifid where_column: motifname - name: msg_motif_reit comment: \u0026#34;nom de l\u0026#39;enveloppe associée au micro motif utilisé pour la reiteration\u0026#34; value_regex: \u0026#39;[\\w/]+\u0026#39; - name: reit_acc comment: \u0026#34;détermine si le client est en reiteration\u0026#34; avec l\u0026rsquo;option :\na : affiche les lignes après l\u0026rsquo;occurence trouvée (after) b : affiche les lignes avant l\u0026rsquo;occurence trouvée (before) c : affiche les lignes avant et après l\u0026rsquo;occurence trouvée ","title":"bash, voir autour des occurences avec grep..."},{"date":"2012-10-11","image":"","imageAlt":"","link":"http://example.org/posts/2012-10-11-awk-creer-des-requetes-sql-depuis-un-fichier-csv/","summary":"Par exemple :\n$ cat masscomment.csv | tail -n +2 | awk \u0026#39;BEGIN {FS=\u0026#34;;\u0026#34; } ; { print \u0026#34;insert into descriptions (\\\u0026#34;\u0026#34;$1\u0026#34;\\\u0026#34;, \\\u0026#34;\u0026#34;$2\u0026#34;\\\u0026#34;, \\\u0026#34;\u0026#34;$3\u0026#34;\\\u0026#34;, \\\u0026#34;\u0026#34;$4\u0026#34;\\\u0026#34;);\u0026#34;}\u0026#39; | head insert into descriptions (\u0026#34;3900configb\u0026#34;, \u0026#34;Parametres\u0026#34;, \u0026#34;description\u0026#34;, \u0026#34;Descriptif du paramètre\u0026#34;); insert into descriptions (\u0026#34;3900configb\u0026#34;, \u0026#34;Parametres\u0026#34;, \u0026#34;valeur\u0026#34;, \u0026#34;Valeur du paramètre\u0026#34;); ","tags":["awk","fs","insert into table"],"text":"par exemple :\n$ cat masscomment.csv | tail -n +2 | awk \u0026#39;begin {fs=\u0026#34;;\u0026#34; } ; { print \u0026#34;insert into descriptions (\\\u0026#34;\u0026#34;$1\u0026#34;\\\u0026#34;, \\\u0026#34;\u0026#34;$2\u0026#34;\\\u0026#34;, \\\u0026#34;\u0026#34;$3\u0026#34;\\\u0026#34;, \\\u0026#34;\u0026#34;$4\u0026#34;\\\u0026#34;);\u0026#34;}\u0026#39; | head insert into descriptions (\u0026#34;3900configb\u0026#34;, \u0026#34;parametres\u0026#34;, \u0026#34;description\u0026#34;, \u0026#34;descriptif du paramètre\u0026#34;); insert into descriptions (\u0026#34;3900configb\u0026#34;, \u0026#34;parametres\u0026#34;, \u0026#34;valeur\u0026#34;, \u0026#34;valeur du paramètre\u0026#34;); ","title":"awk, créer des requêtes SQL depuis un fichier csv"},{"date":"2012-10-10","image":"","imageAlt":"","link":"http://example.org/posts/2012-10-10-bash-recuperer-le-nombre-de-colonnes-du-terminal/","summary":"Pour centrer :\n$ COLUMNS=$(tput cols) $ title=\u0026#34;Hello mister\u0026#34; $ printf \u0026#34;%*s\\n\u0026#34; $(((${#title}+$COLUMNS)/2)) \u0026#34;$title\u0026#34; Hello mister Ou afficher un séparateur :\nprintf -v separator \u0026#34;%*s \u0026#34; $(( $(tput cols) - ${#file} - 5 )) echo \u0026#34;-- $file ${separator// /-}\u0026#34; ","tags":["printf","tput"],"text":"pour centrer :\n$ columns=$(tput cols) $ title=\u0026#34;hello mister\u0026#34; $ printf \u0026#34;%*s\\n\u0026#34; $(((${#title}+$columns)/2)) \u0026#34;$title\u0026#34; hello mister ou afficher un séparateur :\nprintf -v separator \u0026#34;%*s \u0026#34; $(( $(tput cols) - ${#file} - 5 )) echo \u0026#34;-- $file ${separator// /-}\u0026#34; ","title":"bash, récupérer le nombre de colonnes du terminal"},{"date":"2012-10-10","image":"","imageAlt":"","link":"http://example.org/posts/2012-10-10-python-faire-en-sorte-que-stdin-stdout-lisent-et-ecrivent-en-binaire/","summary":"J\u0026rsquo;ai écrit un petit programme qui s\u0026rsquo;inspire de cut en python.\nLa lecture et l\u0026rsquo;écriture pouvant se faire sur l\u0026rsquo;entrée/sortie standard (sources ucut), j\u0026rsquo;avais des problèmes de \u0026ldquo;\u0026lsquo;ascii\u0026rsquo; codec can\u0026rsquo;t decode byte\u0026rdquo;\u0026hellip;\nPour y remédier, j\u0026rsquo;ai \u0026ldquo;transformé\u0026rdquo; les flux standard (mode texte) en flux binaires de la manière suivante :\nimport sys import os sys.stdin = os.fdopen(sys.stdin.fileno(), \u0026#39;rb\u0026#39;, 0) sys.stdout = os.fdopen(sys.stdout.fileno(), \u0026#39;wb\u0026#39;, 0) ","tags":["binary","fileno","os","python"],"text":"j\u0026rsquo;ai écrit un petit programme qui s\u0026rsquo;inspire de cut en python.\nla lecture et l\u0026rsquo;écriture pouvant se faire sur l\u0026rsquo;entrée/sortie standard (sources ucut), j\u0026rsquo;avais des problèmes de \u0026ldquo;\u0026lsquo;ascii\u0026rsquo; codec can\u0026rsquo;t decode byte\u0026rdquo;\u0026hellip;\npour y remédier, j\u0026rsquo;ai \u0026ldquo;transformé\u0026rdquo; les flux standard (mode texte) en flux binaires de la manière suivante :\nimport sys import os sys.stdin = os.fdopen(sys.stdin.fileno(), \u0026#39;rb\u0026#39;, 0) sys.stdout = os.fdopen(sys.stdout.fileno(), \u0026#39;wb\u0026#39;, 0) ","title":"python, faire en sorte que stdin/stdout lisent et écrivent en binaire"},{"date":"2012-10-10","image":"","imageAlt":"","link":"http://example.org/posts/2012-10-10-bash-verifier-si-une-variable-matche-une-regexp/","summary":"On peut facilement vérifier si une donnée contenue dans une variable est au bon format.\nDans l\u0026rsquo;exemple ci-dessous, on vérifie si le numéro de version fourni est correct.\nif [[ ! \u0026#34;$version\u0026#34; =~ ^[0-9]+\\.[0-9]+\\.[0-9]+$ ]]; then echo \u0026#34;Le numéro de version donné \u0026#39;$version\u0026#39; n\u0026#39;a pas le bon format.\u0026#34; exit 1 fi Dans celui-ci si la valeur contient localhost ou itg\n[[ $environnement =~ localhost|itg ]] \u0026amp;\u0026amp; echo 1 Attention, la regexp n\u0026rsquo;est pas entre quote ni double-quote.","tags":["bash","re","regexp"],"text":"on peut facilement vérifier si une donnée contenue dans une variable est au bon format.\ndans l\u0026rsquo;exemple ci-dessous, on vérifie si le numéro de version fourni est correct.\nif [[ ! \u0026#34;$version\u0026#34; =~ ^[0-9]+\\.[0-9]+\\.[0-9]+$ ]]; then echo \u0026#34;le numéro de version donné \u0026#39;$version\u0026#39; n\u0026#39;a pas le bon format.\u0026#34; exit 1 fi dans celui-ci si la valeur contient localhost ou itg\n[[ $environnement =~ localhost|itg ]] \u0026amp;\u0026amp; echo 1 attention, la regexp n\u0026rsquo;est pas entre quote ni double-quote.\n","title":"bash, vérifier si une variable matche une regexp"},{"date":"2012-09-27","image":"","imageAlt":"","link":"http://example.org/posts/2012-09-27-vi-et-les-macros/","summary":"Via un petit exemple\u0026hellip;\nPermet de supprimer le premier mot de chaque ligne du buffer.\ngg permet d\u0026rsquo;aller en début de fichier qq démarre l\u0026rsquo;enregistrement de la macro de nom q (la 2e lettre) dwj supprime le premier mot et descend de ligne @q appelle la macro q pour revenir au mode de vi \u0026ldquo;normal\u0026rdquo; q pour terminer l\u0026rsquo;enregistrement de la macro @q pour appeler la macro ","tags":[],"text":"via un petit exemple\u0026hellip;\npermet de supprimer le premier mot de chaque ligne du buffer.\ngg permet d\u0026rsquo;aller en début de fichier qq démarre l\u0026rsquo;enregistrement de la macro de nom q (la 2e lettre) dwj supprime le premier mot et descend de ligne @q appelle la macro q pour revenir au mode de vi \u0026ldquo;normal\u0026rdquo; q pour terminer l\u0026rsquo;enregistrement de la macro @q pour appeler la macro ","title":"vi et les macros"},{"date":"2012-09-25","image":"","imageAlt":"","link":"http://example.org/posts/2012-09-25-bash-swap-de-2-fichiers/","summary":"Le code suivant à ajouter au bashrc permet de swapper ou plutôt échanger 2 fichiers rapidement.\nfunction swap() { if [[ -e \u0026#34;$1\u0026#34; \u0026amp;\u0026amp; -e \u0026#34;$2\u0026#34; ]] # if files exist then local TMPFILE=$(tempfile) mv \u0026#34;$1\u0026#34; $TMPFILE mv \u0026#34;$2\u0026#34; \u0026#34;$1\u0026#34; mv $TMPFILE \u0026#34;$2\u0026#34; else echo \u0026#34;Error: Make sure the files exist.\u0026#34; fi } Et son exemple :\n$ echo x\u0026gt;x $ echo y\u0026gt;y $ swap x e Error: Make sure the files exist.","tags":["bash","commande","mv","tempfile"],"text":"le code suivant à ajouter au bashrc permet de swapper ou plutôt échanger 2 fichiers rapidement.\nfunction swap() { if [[ -e \u0026#34;$1\u0026#34; \u0026amp;\u0026amp; -e \u0026#34;$2\u0026#34; ]] # if files exist then local tmpfile=$(tempfile) mv \u0026#34;$1\u0026#34; $tmpfile mv \u0026#34;$2\u0026#34; \u0026#34;$1\u0026#34; mv $tmpfile \u0026#34;$2\u0026#34; else echo \u0026#34;error: make sure the files exist.\u0026#34; fi } et son exemple :\n$ echo x\u0026gt;x $ echo y\u0026gt;y $ swap x e error: make sure the files exist. $ swap x y $ cat x y $ cat y x ","title":"bash, swap de 2 fichiers"},{"date":"2012-09-25","image":"","imageAlt":"","link":"http://example.org/posts/2012-09-25-bash-mv-en-masse/","summary":"Il y a quelques années, j\u0026rsquo;avais écris un petit programme qui permettait de changer l\u0026rsquo;extension de fichiers.\nA cette époque, je ne connaissais pas la commande mmv (comprendre \u0026ldquo;mass\u0026quot;mv) :\n$ sudo apt-get install mmv $ ls -l *.abc -rw-r--r-- 1 root root 0 2012-09-25 13:34 x.abc -rw-r--r-- 1 root root 0 2012-09-25 13:34 y.abc -rw-r--r-- 1 root root 0 2012-09-25 13:34 zzz.abc $ mmv \u0026#34;*.abc\u0026#34; \u0026#34;#1.ABC\u0026#34; $ ls -l *.","tags":["commande","mmv","renommage en masse"],"text":"il y a quelques années, j\u0026rsquo;avais écris un petit programme qui permettait de changer l\u0026rsquo;extension de fichiers.\na cette époque, je ne connaissais pas la commande mmv (comprendre \u0026ldquo;mass\u0026quot;mv) :\n$ sudo apt-get install mmv $ ls -l *.abc -rw-r--r-- 1 root root 0 2012-09-25 13:34 x.abc -rw-r--r-- 1 root root 0 2012-09-25 13:34 y.abc -rw-r--r-- 1 root root 0 2012-09-25 13:34 zzz.abc $ mmv \u0026#34;*.abc\u0026#34; \u0026#34;#1.abc\u0026#34; $ ls -l *.abc ls: impossible d\u0026#39;accéder à *.abc: aucun fichier ou dossier de ce type $ ls -l *.abc -rw-r--r-- 1 root root 0 2012-09-25 13:34 x.abc -rw-r--r-- 1 root root 0 2012-09-25 13:34 y.abc -rw-r--r-- 1 root root 0 2012-09-25 13:34 zzz.abc a noter : cette commande permet aussi de supprimer l\u0026rsquo;extension des fichiers\u0026hellip;\n","title":"bash, mv en masse"},{"date":"2012-09-25","image":"","imageAlt":"","link":"http://example.org/posts/2012-09-25-vi/","summary":"Depuis ma formation \u0026ldquo;coder au front end\u0026rdquo;, je me mets à vi\u0026hellip;\nVoici une liste de ressources bien utiles pour s\u0026rsquo;y mettre :\nUn aide-mémoire textuel : http://www.lagmonster.org/docs/vi2.html\nUn petit jeu online pour apprendre de manière ludique : http://vim-adventures.com/\nLa chose que je n\u0026rsquo;avais pas saisi c\u0026rsquo;est que l\u0026rsquo;on peut opèrer par \u0026ldquo;commande\u0026rdquo; \u0026ldquo;mouvement\u0026rdquo;.\nAinsi, c2f\u0026gt; supprime le texte jusqu\u0026rsquo;au 2e \u0026gt; inclus et met l\u0026rsquo;utilisateur en mode édition.\nOn peut aussi couper un texte dans des cases mémoires différentes et réutiliser cette case par la suite.","tags":[],"text":"depuis ma formation \u0026ldquo;coder au front end\u0026rdquo;, je me mets à vi\u0026hellip;\nvoici une liste de ressources bien utiles pour s\u0026rsquo;y mettre :\nun aide-mémoire textuel : http://www.lagmonster.org/docs/vi2.html\nun petit jeu online pour apprendre de manière ludique : http://vim-adventures.com/\nla chose que je n\u0026rsquo;avais pas saisi c\u0026rsquo;est que l\u0026rsquo;on peut opèrer par \u0026ldquo;commande\u0026rdquo; \u0026ldquo;mouvement\u0026rdquo;.\nainsi, c2f\u0026gt; supprime le texte jusqu\u0026rsquo;au 2e \u0026gt; inclus et met l\u0026rsquo;utilisateur en mode édition.\non peut aussi couper un texte dans des cases mémoires différentes et réutiliser cette case par la suite.\nainsi \u0026ldquo;ac2f\u0026gt; coupe le texte jusqu\u0026rsquo;au 2e \u0026gt; inclus et met l\u0026rsquo;utilisateur en mode édition. le texte coupé est dans la case a. par la suite pour réutiliser le contenu de la case a, on fait \u0026ldquo;ap pour coller par exemple.\nc\u0026rsquo;est le petit truc qui me manquait pour mieux comprendre vi je pense\u0026hellip;\n","title":"vi"},{"date":"2012-09-25","image":"","imageAlt":"","link":"http://example.org/posts/2012-09-25-java-deboires-d-encoding/","summary":"Il y a quelques temps, j\u0026rsquo;ai eu de petits problèmes d\u0026rsquo;affichage d\u0026rsquo;accents sur une IHM d\u0026rsquo;un fichier qui était fourni par une autre appplication.\nLe charset n\u0026rsquo;était pas le bon.\nIl a fallu que je force l\u0026rsquo;écriture du charset et sa lecture.\nPour l\u0026rsquo;écriture :\npackage a.b.c; import java.io.FileInputStream; import java.io.FileNotFoundException; import java.io.FileReader; import java.io.IOException; import java.io.InputStream; import java.io.InputStreamReader; import java.io.PrintWriter; import java.io.Writer; import javax.servlet.ServletException; import javax.servlet.ServletOutputStream; import javax.servlet.http.HttpServlet; import javax.","tags":["charset","encoding","iso-8859","java","utf-8"],"text":"il y a quelques temps, j\u0026rsquo;ai eu de petits problèmes d\u0026rsquo;affichage d\u0026rsquo;accents sur une ihm d\u0026rsquo;un fichier qui était fourni par une autre appplication.\nle charset n\u0026rsquo;était pas le bon.\nil a fallu que je force l\u0026rsquo;écriture du charset et sa lecture.\npour l\u0026rsquo;écriture :\npackage a.b.c; import java.io.fileinputstream; import java.io.filenotfoundexception; import java.io.filereader; import java.io.ioexception; import java.io.inputstream; import java.io.inputstreamreader; import java.io.printwriter; import java.io.writer; import javax.servlet.servletexception; import javax.servlet.servletoutputstream; import javax.servlet.http.httpservlet; import javax.servlet.http.httpservletrequest; import javax.servlet.http.httpservletresponse; import org.apache.commons.io.ioutils; public class getfileservlet extends httpservlet { @override protected void doget(httpservletrequest req, httpservletresponse resp) throws servletexception, ioexception { string path = req.getparameter(\u0026#34;path\u0026#34;); path = getservletcontext().getrealpath(\u0026#34;/\u0026#34;) + path; path = path.replaceall(\u0026#34;//\u0026#34;, \u0026#34;/\u0026#34;); resp.setcontenttype(\u0026#34;text/plain\u0026#34;); resp.setcharacterencoding(\u0026#34;utf-8\u0026#34;); resp.addheader(\u0026#34;pragma\u0026#34;, \u0026#34;no-cache\u0026#34;); resp.addheader(\u0026#34;cache-control\u0026#34;, \u0026#34;no-cache, max-age=0, must-revalidate\u0026#34;); inputstream in = new fileinputstream(path); writer out = resp.getwriter(); try { ioutils.copy(in, out, \u0026#34;utf-8\u0026#34;); } finally { in.close(); } } } pour la lecture :\npackage x.y.z; import java.io.bufferedreader; import java.io.fileinputstream; import java.io.filenotfoundexception; import java.io.ioexception; import java.io.inputstream; import java.io.inputstreamreader; import java.io.outputstream; import java.io.writer; import java.net.url; import java.net.urlconnection; import javax.servlet.servletexception; import javax.servlet.servletoutputstream; import javax.servlet.http.httpservlet; import javax.servlet.http.httpservletrequest; import javax.servlet.http.httpservletresponse; import org.apache.commons.io.ioutils; public class getfileservlet extends httpservlet { @override protected void doget(httpservletrequest req, httpservletresponse resp) throws servletexception, ioexception { resp.setcontenttype(\u0026#34;text/plain\u0026#34;); resp.setcharacterencoding(\u0026#34;utf-8\u0026#34;); resp.addheader(\u0026#34;pragma\u0026#34;, \u0026#34;no-cache\u0026#34;); resp.addheader(\u0026#34;cache-control\u0026#34;, \u0026#34;no-cache, max-age=0, must-revalidate\u0026#34;); string sviurl = getservletcontext().getinitparameter(\u0026#34;sviurl\u0026#34;); if (! sviurl.endswith(\u0026#34;/\u0026#34;)) sviurl += \u0026#34;/\u0026#34;; string file = req.getparameter(\u0026#34;file\u0026#34;); sviurl += \u0026#34;get-file?file=\u0026#34; + file; url url = new url(sviurl); urlconnection conn = url.openconnection(); conn.connect(); inputstream in = null; try { string charset = \u0026#34;iso-8859-1\u0026#34;; string contenttype = conn.getcontenttype(); if (contenttype != null \u0026amp;\u0026amp; contenttype.indexof(\u0026#34;;charset=\u0026#34;) \u0026gt;= 0) { contenttype = contenttype.substring(contenttype.indexof(\u0026#34;;charset=\u0026#34;)+9); charset = contenttype.trim(); } in = conn.getinputstream(); inputstreamreader inr = new inputstreamreader(url.openstream(), charset); writer out = resp.getwriter(); try { ioutils.copy(inr, out); } finally { inr.close(); } } finally { if (in != null) { in.close(); } } } } ","title":"java, déboires d'encoding..."},{"date":"2012-09-23","image":"","imageAlt":"","link":"http://example.org/posts/2012-09-23-linux-niveau-de-la-baterie/","summary":"Une petite commande pour connaitre le niveau de la baterie\u0026hellip;\n$ acpi -V Battery 0: Charging, 25%, 01:59:29 until charged Battery 0: design capacity 4390 mAh, last full capacity 4390 mAh = 100% Adapter 0: on-line Thermal 0: ok, 37.0 degrees C Thermal 0: trip point 0 switches to mode critical at temperature 96.0 degrees C Thermal 0: trip point 1 switches to mode passive at temperature 106.0 degrees C Cooling 0: LCD 0 of 15 Cooling 1: Processor 0 of 10 Cooling 2: Processor 0 of 10 Cooling 3: Processor 0 of 10 Cooling 4: Processor 0 of 10 Cela peut être utile lorsque l\u0026rsquo;on est en mode console sur son portable\u0026hellip;","tags":["acpi"],"text":"une petite commande pour connaitre le niveau de la baterie\u0026hellip;\n$ acpi -v battery 0: charging, 25%, 01:59:29 until charged battery 0: design capacity 4390 mah, last full capacity 4390 mah = 100% adapter 0: on-line thermal 0: ok, 37.0 degrees c thermal 0: trip point 0 switches to mode critical at temperature 96.0 degrees c thermal 0: trip point 1 switches to mode passive at temperature 106.0 degrees c cooling 0: lcd 0 of 15 cooling 1: processor 0 of 10 cooling 2: processor 0 of 10 cooling 3: processor 0 of 10 cooling 4: processor 0 of 10 cela peut être utile lorsque l\u0026rsquo;on est en mode console sur son portable\u0026hellip;\n","title":"Linux, niveau de la baterie"},{"date":"2012-09-21","image":"","imageAlt":"","link":"http://example.org/posts/2012-09-21-bash-tester-si-un-programme-est-installe/","summary":"Pour tester si un programme est installé, on peut utiliser la commande which de différentes manières.\nLa première en comptabilisant le nombre de lignes retournées.\nif [ $(which sponge | wc -l) -eq 0 ]; then echo \u0026#34;Installer le paquet \u0026#39;moreutils\u0026#39;.\u0026#34; echo \u0026#34;sudo apt-get install moreutils\u0026#34; exit 1 fi La seconde en utilisant le code de retour de la commande.\nif ! which sponge \u0026gt;/dev/null; then echo \u0026#34;Installer le paquet \u0026#39;moreutils\u0026#39;.","tags":["apt-get install","commande","sponge","sudo","which"],"text":"pour tester si un programme est installé, on peut utiliser la commande which de différentes manières.\nla première en comptabilisant le nombre de lignes retournées.\nif [ $(which sponge | wc -l) -eq 0 ]; then echo \u0026#34;installer le paquet \u0026#39;moreutils\u0026#39;.\u0026#34; echo \u0026#34;sudo apt-get install moreutils\u0026#34; exit 1 fi la seconde en utilisant le code de retour de la commande.\nif ! which sponge \u0026gt;/dev/null; then echo \u0026#34;installer le paquet \u0026#39;moreutils\u0026#39;.\u0026#34; echo \u0026#34;sudo apt-get install moreutils\u0026#34; exit 1 fi la seconde est plus lisible, pas besoin de décrypter.\nc\u0026rsquo;est seulement dommage qu\u0026rsquo;on ne puisse pas ajouter un paramètre à la commande pour ne pas écrire sur la sortie standard et que l\u0026rsquo;on soit obligé de rediriger dans /dev/null.\na chacun sa préférence.\n","title":"bash, tester si un programme est installé"},{"date":"2012-09-20","image":"","imageAlt":"","link":"http://example.org/posts/2012-09-20-linux-mint-cinamon-touchpad-et-defilement-a-2-doigts/","summary":"Le défilement à 2 doigts sur le touchpad ne fonctionnait pas.\nJ\u0026rsquo;ai cherché dans les menus et je n\u0026rsquo;ai rien vu.\nSur internet, des pages parlent de synclient.\nEffectivement, la ligne suivante $ synclient VertTwoFingerScroll=1 permet de faire fonctionner le défilement à 2 doigts. Mais malheureusement, la modification n\u0026rsquo;est pas persistente après un redémarrage\u0026hellip;\nPour la rendre persistente j\u0026rsquo;ai vu plein de docs ainsi que la page\nhttp://mixeduperic.com/ubuntu/ubuntu-1004-how-to-setup-two-finger-scroll-on-laptop-touch-pad.html\nCette page peut donner des idées si des choses sont à effectuer lors de l\u0026rsquo;ouverture de la session X.","tags":[],"text":"le défilement à 2 doigts sur le touchpad ne fonctionnait pas.\nj\u0026rsquo;ai cherché dans les menus et je n\u0026rsquo;ai rien vu.\nsur internet, des pages parlent de synclient.\neffectivement, la ligne suivante $ synclient verttwofingerscroll=1 permet de faire fonctionner le défilement à 2 doigts. mais malheureusement, la modification n\u0026rsquo;est pas persistente après un redémarrage\u0026hellip;\npour la rendre persistente j\u0026rsquo;ai vu plein de docs ainsi que la page\nhttp://mixeduperic.com/ubuntu/ubuntu-1004-how-to-setup-two-finger-scroll-on-laptop-touch-pad.html\ncette page peut donner des idées si des choses sont à effectuer lors de l\u0026rsquo;ouverture de la session x.\nje n\u0026rsquo;en ai pas eu besoin car j\u0026rsquo;ai trouvé bizarre de faire tout cela.\nalors en recherchant encore dans les menus, j\u0026rsquo;ai vu :\n","title":"Linux Mint Cinamon, touchpad et défilement à 2 doigts"},{"date":"2012-09-20","image":"","imageAlt":"","link":"http://example.org/posts/2012-09-20-petit-logiciel-pour-copier-puis-modifier-une-partie-de-l-ecran/","summary":"Le logiciel shutter permet de sélectionner une partie de l\u0026rsquo;écran pour créer une image. On peut alors l\u0026rsquo;éditer afin de rajouter du texte, des flèches, flouter\u0026hellip;\nLe logiciel est simple et efficace.\nQue demande le peuple ! 26 oct 2016 : Sous Mint-17.3, j\u0026rsquo;ai dû installer les packets libgoo-canvas-perl et gnome-web-photo pour pouvoir bénéficier de l\u0026rsquo;outil interne d\u0026rsquo;édition des images capturées.","tags":[],"text":"le logiciel shutter permet de sélectionner une partie de l\u0026rsquo;écran pour créer une image. on peut alors l\u0026rsquo;éditer afin de rajouter du texte, des flèches, flouter\u0026hellip;\nle logiciel est simple et efficace.\nque demande le peuple ! 26 oct 2016 : sous mint-17.3, j\u0026rsquo;ai dû installer les packets libgoo-canvas-perl et gnome-web-photo pour pouvoir bénéficier de l\u0026rsquo;outil interne d\u0026rsquo;édition des images capturées.\n","title":"Petit logiciel pour copier puis modifier une partie de l'écran"},{"date":"2012-09-18","image":"","imageAlt":"","link":"http://example.org/posts/2012-09-18-fitnesse-testing-was-interupted-and-results-are-incomplete/","summary":"Sur un de mes projets, la suite fitnesse s\u0026rsquo;interrompt en plein milieu et affiche un encart \u0026ldquo;Testing was interupted and results are incomplete\u0026rdquo;.\nAuparavant, je n\u0026rsquo;avais pas ce problème. Je ne sais pas si c\u0026rsquo;est une restauration système suite à un crash disque qui en est la cause mais quoi qu\u0026rsquo;il en soit, la seule manière de contourner le problème a été de renommer les suites ou/et les pages pour que la taille du chemin soit moins importante.","tags":[],"text":"sur un de mes projets, la suite fitnesse s\u0026rsquo;interrompt en plein milieu et affiche un encart \u0026ldquo;testing was interupted and results are incomplete\u0026rdquo;.\nauparavant, je n\u0026rsquo;avais pas ce problème. je ne sais pas si c\u0026rsquo;est une restauration système suite à un crash disque qui en est la cause mais quoi qu\u0026rsquo;il en soit, la seule manière de contourner le problème a été de renommer les suites ou/et les pages pour que la taille du chemin soit moins importante.\net là, miracle : ça fonctionne !!!\nmystères et boules de gomme\u0026hellip;\n","title":"fitnesse, Testing was interupted and results are incomplete"},{"date":"2012-09-17","image":"","imageAlt":"","link":"http://example.org/posts/2012-09-17-bash-stdin-et-stdout/","summary":"Un petit rappel sur les redirections.\nLe document http://tldp.org/LDP/abs/html/io-redirection.html#IOREDIRREF est très bien aussi.\n$ ( echo quelque chose sur stderr \u0026gt;\u0026amp;2; echo autre chose sur stdout ) \u0026gt; /dev/null quelque chose sur stderr $ ( echo quelque chose sur stderr \u0026gt;\u0026amp;2; echo autre chose sur stdout ) 2\u0026gt; /dev/null autre chose sur stdout $ ( echo quelque chose sur stderr \u0026gt;\u0026amp;2; echo autre chose sur stdout ) \u0026amp;\u0026gt; /dev/null $ ","tags":["bash","io","redirections","stderr","stdout","write"],"text":"un petit rappel sur les redirections.\nle document http://tldp.org/ldp/abs/html/io-redirection.html#ioredirref est très bien aussi.\n$ ( echo quelque chose sur stderr \u0026gt;\u0026amp;2; echo autre chose sur stdout ) \u0026gt; /dev/null quelque chose sur stderr $ ( echo quelque chose sur stderr \u0026gt;\u0026amp;2; echo autre chose sur stdout ) 2\u0026gt; /dev/null autre chose sur stdout $ ( echo quelque chose sur stderr \u0026gt;\u0026amp;2; echo autre chose sur stdout ) \u0026amp;\u0026gt; /dev/null $ ","title":"bash, stdin et stdout"},{"date":"2012-09-14","image":"","imageAlt":"","link":"http://example.org/posts/2012-09-14-web-changer-le-style-css-du-code-pastebin-affiche-dans-votre-blog/","summary":"Si vous affichez du code déposé sur pastebin et que les couleurs ne conviennent pas car elles ne sont pas en accord avec les couleurs de votre blog, il est possible de les personnaliser\u0026hellip;\nDans mon cas, j\u0026rsquo;ai ajouté le code suivant\n\u0026lt;script src=\u0026#34;http://code.jquery.com/jquery-1.8.1.min.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;script language=\u0026#34;javascript\u0026#34;\u0026gt; (function () { $(\u0026#34;.embedFooter\u0026#34;).css(\u0026#34;background\u0026#34;, \u0026#34;#666666\u0026#34;); $(\u0026#34;.embedFooter a\u0026#34;).css({\u0026#34;color\u0026#34;: \u0026#34;#ffffff\u0026#34;}); $(\u0026#34;.embedPastebin\u0026#34;).css(\u0026#34;background\u0026#34;, \u0026#34;#eeeeee\u0026#34;); $(\u0026#34;.de1\u0026#34;).css(\u0026#34;background\u0026#34;, \u0026#34;#eeeeee\u0026#34;); $(\u0026#34;.de2\u0026#34;).css(\u0026#34;background\u0026#34;, \u0026#34;#eeeeee\u0026#34;); })(); \u0026lt;/script\u0026gt; dans un gadget du blog que vous consultez actuellement (cf Conception\u0026gt;Mise en page).","tags":[],"text":"si vous affichez du code déposé sur pastebin et que les couleurs ne conviennent pas car elles ne sont pas en accord avec les couleurs de votre blog, il est possible de les personnaliser\u0026hellip;\ndans mon cas, j\u0026rsquo;ai ajouté le code suivant\n\u0026lt;script src=\u0026#34;http://code.jquery.com/jquery-1.8.1.min.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;script language=\u0026#34;javascript\u0026#34;\u0026gt; (function () { $(\u0026#34;.embedfooter\u0026#34;).css(\u0026#34;background\u0026#34;, \u0026#34;#666666\u0026#34;); $(\u0026#34;.embedfooter a\u0026#34;).css({\u0026#34;color\u0026#34;: \u0026#34;#ffffff\u0026#34;}); $(\u0026#34;.embedpastebin\u0026#34;).css(\u0026#34;background\u0026#34;, \u0026#34;#eeeeee\u0026#34;); $(\u0026#34;.de1\u0026#34;).css(\u0026#34;background\u0026#34;, \u0026#34;#eeeeee\u0026#34;); $(\u0026#34;.de2\u0026#34;).css(\u0026#34;background\u0026#34;, \u0026#34;#eeeeee\u0026#34;); })(); \u0026lt;/script\u0026gt; dans un gadget du blog que vous consultez actuellement (cf conception\u0026gt;mise en page).\ncela a pour effet de changer le css des éléments trouvés au chargement de la page.\n","title":"web, changer le style css du code pastebin affiché dans votre blog"},{"date":"2012-09-13","image":"","imageAlt":"","link":"http://example.org/posts/2012-09-13-bash-mv-bluffant/","summary":"Lors d\u0026rsquo;une formation, j\u0026rsquo;ai vu cela\u0026hellip; Ca m\u0026rsquo;a bluffé :)\n$ bash $ touch malib-x.y.z.jar $ mv malib{-x.y.z,}.jar $ ls malib.jar ","tags":["bash","mv","remove version"],"text":"lors d\u0026rsquo;une formation, j\u0026rsquo;ai vu cela\u0026hellip; ca m\u0026rsquo;a bluffé :)\n$ bash $ touch malib-x.y.z.jar $ mv malib{-x.y.z,}.jar $ ls malib.jar ","title":"bash, mv bluffant..."},{"date":"2012-09-12","image":"","imageAlt":"","link":"http://example.org/posts/2012-09-12-web-utiliser-pastebin-et-permettre-une-recherche-sur-son-blog/","summary":"Inclure du code déposé sur pastebin c\u0026rsquo;est bien\u0026hellip; Malheureusement, le moteur de recherche du blog ne recherche pas dans le contenu déposé sur pastebin.\nPour permettre une recherche, on peut positionner des mots clés \u0026ldquo;invisibles\u0026rdquo; dans sa page.\n\u0026lt;script src=\u0026#34;http://pastebin.com/embed_js.php?i=2TwEyffe\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;div style=\u0026#34;overflow:hidden; height:0;\u0026#34;\u0026gt;grant insert select on mysql user privileges flush\u0026lt;/div\u0026gt; Le moteur de recherche les verra et remontera l\u0026rsquo;article :)","tags":["mot clé","moteur de recherche","pastebin","search engine"],"text":"inclure du code déposé sur pastebin c\u0026rsquo;est bien\u0026hellip; malheureusement, le moteur de recherche du blog ne recherche pas dans le contenu déposé sur pastebin.\npour permettre une recherche, on peut positionner des mots clés \u0026ldquo;invisibles\u0026rdquo; dans sa page.\n\u0026lt;script src=\u0026#34;http://pastebin.com/embed_js.php?i=2tweyffe\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;div style=\u0026#34;overflow:hidden; height:0;\u0026#34;\u0026gt;grant insert select on mysql user privileges flush\u0026lt;/div\u0026gt; le moteur de recherche les verra et remontera l\u0026rsquo;article :)\n","title":"web, utiliser pastebin et permettre une recherche sur son blog"},{"date":"2012-09-11","image":"","imageAlt":"","link":"http://example.org/posts/2012-09-11-bash-sequences/","summary":"Pour obtenir une suite de nombre qui font partie d\u0026rsquo;une séquence, il y a la commande seq. Il existe aussi une manière de le faire directement en bash en utilisant une expression du genre {x..y[..inc]}. $ for i in {1..30..2}; do echo $i; done 1 3 5 7 9 11 13 15 17 19 21 23 25 27 29 $ seq 1 2 30 1 3 5 7 9 11 13 15 17 19 21 23 25 27 29 Attention toutefois, si les bornes sont définies dans des variables, il faudra un petit coup d\u0026rsquo;évaluation :","tags":[],"text":"pour obtenir une suite de nombre qui font partie d\u0026rsquo;une séquence, il y a la commande seq. il existe aussi une manière de le faire directement en bash en utilisant une expression du genre {x..y[..inc]}. $ for i in {1..30..2}; do echo $i; done 1 3 5 7 9 11 13 15 17 19 21 23 25 27 29 $ seq 1 2 30 1 3 5 7 9 11 13 15 17 19 21 23 25 27 29 attention toutefois, si les bornes sont définies dans des variables, il faudra un petit coup d\u0026rsquo;évaluation :\n$ for i in $(eval echo \u0026#34;{$a..$b}\u0026#34;); do echo $i; done 1 2 3 4 5 6 7 8 9 10 ","title":"bash, séquences"},{"date":"2012-09-11","image":"","imageAlt":"","link":"http://example.org/posts/2012-09-11-bash-ecrire-sur-stderr/","summary":"Pour écrire sur stderr\n$ cat stderr.txt echo \u0026#34;Mon texte sur stderr\u0026#34; \u0026gt;\u0026amp;2 cat \u0026gt;\u0026amp;2 \u0026lt;\u0026lt;-EOF et pourquoi pas encore du texte sur stderr EOF $ bash stderr.txt \u0026gt; /dev/null Mon texte sur stderr et pourquoi pas encore du texte $ bash stderr.txt 2\u0026gt; /dev/null $ ","tags":["bash","redirection"],"text":"pour écrire sur stderr\n$ cat stderr.txt echo \u0026#34;mon texte sur stderr\u0026#34; \u0026gt;\u0026amp;2 cat \u0026gt;\u0026amp;2 \u0026lt;\u0026lt;-eof et pourquoi pas encore du texte sur stderr eof $ bash stderr.txt \u0026gt; /dev/null mon texte sur stderr et pourquoi pas encore du texte $ bash stderr.txt 2\u0026gt; /dev/null $ ","title":"bash, écrire sur stderr"},{"date":"2012-09-07","image":"","imageAlt":"","link":"http://example.org/posts/2012-09-07-linux-mint-cinnamon-positionner-la-luminosite-en-ligne-de-commande/","summary":"Il est possible d\u0026rsquo;utiliser les fichiers :\n/sys/class/backlight/acpi_video0/max_brightness /sys/class/backlight/acpi_video0/brightness afin de modifier la luminosité. Le script suivant prend un numérique (pourcentage entre 0 et 100) et modifie le fichier /sys/class/backlight/acpi_video0/brightness en conséquent. #include \u0026lt;stdio.h\u0026gt; #include \u0026lt;stdlib.h\u0026gt; #include \u0026lt;errno.h\u0026gt; int is_numeric(const char *p) { if (*p) { char c; while ((c=*p++)) { if (!isdigit(c)) return 0; } return 1; } return 0; } int main(int argc, char *argv[]) { if (argc !","tags":[],"text":"il est possible d\u0026rsquo;utiliser les fichiers :\n/sys/class/backlight/acpi_video0/max_brightness /sys/class/backlight/acpi_video0/brightness afin de modifier la luminosité. le script suivant prend un numérique (pourcentage entre 0 et 100) et modifie le fichier /sys/class/backlight/acpi_video0/brightness en conséquent. #include \u0026lt;stdio.h\u0026gt; #include \u0026lt;stdlib.h\u0026gt; #include \u0026lt;errno.h\u0026gt; int is_numeric(const char *p) { if (*p) { char c; while ((c=*p++)) { if (!isdigit(c)) return 0; } return 1; } return 0; } int main(int argc, char *argv[]) { if (argc != 2) { fprintf(stderr, \u0026#34;usage: %s \u0026lt;brightness\u0026gt;\\n\\nwhere brightness is an integer between 0 and 100\\n\u0026#34;, argv[0]); exit(1); } if (! is_numeric(argv[1])) { fprintf(stderr, \u0026#34;the given parameter \u0026#39;%s\u0026#39; is not an integer between 0 and 100.\\n\u0026#34;, argv[1]); exit(1); } int percent = atoi(argv[1]); if (percent \u0026lt; 0 || percent \u0026gt; 100) { fprintf(stderr, \u0026#34;the given parameter \u0026#39;%s\u0026#39; is not an integer between 0 and 100.\\n\u0026#34;, argv[1]); exit(1); } char *path = \u0026#34;/sys/class/backlight/acpi_video0/max_brightness\u0026#34;; file *fp = fopen(path, \u0026#34;r\u0026#34;); if (fp == null) { char buf[512]; snprintf(buf, sizeof(buf), \u0026#34;the following error occurred while opening \u0026#39;%s\u0026#39;\u0026#34;, path); perror (buf); exit(1); } char line[256]; if (fgets(line, sizeof(line), fp) == null) { fprintf(stderr, \u0026#34;can not read maximal brightness in file \u0026#39;%s\u0026#39;\\n\u0026#34;, path); exit(1); } int maxbrightness = atoi(line); fclose(fp); int newbrightness = maxbrightness * percent / 100; printf(\u0026#34;set brightness to %d/%d (%d%%)\\n\u0026#34;, newbrightness, maxbrightness, percent); path = \u0026#34;/sys/class/backlight/acpi_video0/brightness\u0026#34;; fp = fopen(path, \u0026#34;w\u0026#34;); if (fp == null) { char buf[512]; snprintf(buf, sizeof(buf), \u0026#34;the following error occurred while opening \u0026#39;%s\u0026#39;\u0026#34;, path); perror (buf); exit(1); } fprintf(fp, \u0026#34;%d\\n\u0026#34;, newbrightness); fclose(fp); } ``` toutefois, pour exécuter ce fichier, il faudra être root (sudo ou suid bit positionné sur l\u0026#39;exécutable une fois compilé). note: après rédaction de ce post, j\u0026#39;ai découvert que le paquet `xbacklight` met à disposition un utilitaire du même genre. ```bash $ xbacklight -set 0 il permet la même chose sauf en mode console\u0026hellip;\n","title":"Linux Mint Cinnamon, positionner la luminosité en ligne de commande"},{"date":"2012-09-06","image":"","imageAlt":"","link":"http://example.org/posts/2012-09-06-bash-cas-conditionel-suivant-la-presence-ou-non-d-un-texte-dans-un-fichier/","summary":"Cela se fait simplement avec un grep\u0026hellip;\n$ if grep -Fq $mot $fichier; then echo \u0026#34;Le mot est dans le fichier\u0026#34; else echo \u0026#34;Le mot n\u0026#39;est pas dans le fichier\u0026#34; fi Bien que le test semble inversé, il est correct car la sortie du grep avec un status à 0 est un succès.\nLe paragraphe Conditional Shell Control Structures de la page http://teaching.idallen.com/dat2330/04f/notes/exit_status.txt l\u0026rsquo;explique très bien.","tags":["bash","exit","grep","if","status"],"text":"cela se fait simplement avec un grep\u0026hellip;\n$ if grep -fq $mot $fichier; then echo \u0026#34;le mot est dans le fichier\u0026#34; else echo \u0026#34;le mot n\u0026#39;est pas dans le fichier\u0026#34; fi bien que le test semble inversé, il est correct car la sortie du grep avec un status à 0 est un succès.\nle paragraphe conditional shell control structures de la page http://teaching.idallen.com/dat2330/04f/notes/exit_status.txt l\u0026rsquo;explique très bien.\n","title":"bash, cas conditionel suivant la présence ou non d'un texte dans un fichier"},{"date":"2012-09-06","image":"","imageAlt":"","link":"http://example.org/posts/2012-09-06-bash-supprimer-les-espaces-en-debut-de-ligne/","summary":"Pour supprimer les espaces en début de ligne\u0026hellip;\n$ cat fichier | sed -e \u0026#39;s/^[ \\t]*//g\u0026#39; $ cat fichier | sed -re \u0026#39;s/^[[:space:]]*//g\u0026#39; ou alors avec awk\n$ cat fichier | awk -F \u0026#39;:\u0026#39; \u0026#39;{ gsub(/^[[:space:]]+$/,\u0026#34;\u0026#34;,$2); print $2; }\u0026#39; ","tags":["awk","espace","space","strip","trim"],"text":"pour supprimer les espaces en début de ligne\u0026hellip;\n$ cat fichier | sed -e \u0026#39;s/^[ \\t]*//g\u0026#39; $ cat fichier | sed -re \u0026#39;s/^[[:space:]]*//g\u0026#39; ou alors avec awk\n$ cat fichier | awk -f \u0026#39;:\u0026#39; \u0026#39;{ gsub(/^[[:space:]]+$/,\u0026#34;\u0026#34;,$2); print $2; }\u0026#39; ","title":"bash, supprimer les espaces en début de ligne"},{"date":"2012-09-06","image":"","imageAlt":"","link":"http://example.org/posts/2012-09-06-bash-supprimer-les-tags-html-avec-sed/","summary":"Dans certains scripts bash, on peut souhaiter supprimer les tags html d\u0026rsquo;un flux ou d\u0026rsquo;un fichier. Pour cela on peut utiliser la commande sed.\n$ echo $texte \u0026lt;div class=\u0026#39;descriptionwrapper\u0026#39;\u0026gt; \u0026lt;p class=\u0026#39;description\u0026#39;\u0026gt;\u0026lt;span\u0026gt;J\u0026#39;entrepose ici mes découvertes linux, bash, python et java que je souhaite partager et mettre de côté...\u0026lt;/span\u0026gt;\u0026lt;/p\u0026gt; \u0026lt;/div\u0026gt; $ texte | sed -e \u0026#39;s/\u0026lt;[^\u0026gt;]*\u0026gt;//g\u0026#39; J\u0026#39;entrepose ici mes découvertes linux, bash, python et java que je souhaite partager et mettre de côté.","tags":["html","sed","tag"],"text":"dans certains scripts bash, on peut souhaiter supprimer les tags html d\u0026rsquo;un flux ou d\u0026rsquo;un fichier. pour cela on peut utiliser la commande sed.\n$ echo $texte \u0026lt;div class=\u0026#39;descriptionwrapper\u0026#39;\u0026gt; \u0026lt;p class=\u0026#39;description\u0026#39;\u0026gt;\u0026lt;span\u0026gt;j\u0026#39;entrepose ici mes découvertes linux, bash, python et java que je souhaite partager et mettre de côté...\u0026lt;/span\u0026gt;\u0026lt;/p\u0026gt; \u0026lt;/div\u0026gt; $ texte | sed -e \u0026#39;s/\u0026lt;[^\u0026gt;]*\u0026gt;//g\u0026#39; j\u0026#39;entrepose ici mes découvertes linux, bash, python et java que je souhaite partager et mettre de côté... ","title":"bash, supprimer les tags html avec sed..."},{"date":"2012-09-05","image":"","imageAlt":"","link":"http://example.org/posts/2012-09-05-bash-recuperer-le-code-de-retour-d-une-commande-au-travers-d-un-pipe/","summary":"L\u0026rsquo;exemple se passe de commentaires !\n$ ls toto | head -n 1 ls: impossible d\u0026#39;accéder à toto: Aucun fichier ou dossier de ce type $ echo $? 0 $ set -o pipefail 1 $ ls toto | head -n 1 ls: impossible d\u0026#39;accéder à toto: Aucun fichier ou dossier de ce type $ echo $? 2 Pratique dans le cas d\u0026rsquo;un curl $url | sed ... \u0026gt; $output pour savoir si une erreur est remontée.","tags":["bash","code","erreur","pipe"],"text":"l\u0026rsquo;exemple se passe de commentaires !\n$ ls toto | head -n 1 ls: impossible d\u0026#39;accéder à toto: aucun fichier ou dossier de ce type $ echo $? 0 $ set -o pipefail 1 $ ls toto | head -n 1 ls: impossible d\u0026#39;accéder à toto: aucun fichier ou dossier de ce type $ echo $? 2 pratique dans le cas d\u0026rsquo;un curl $url | sed ... \u0026gt; $output pour savoir si une erreur est remontée.\n","title":"bash, récupérer le code de retour d'une commande au travers d'un pipe"},{"date":"2012-09-05","image":"","imageAlt":"","link":"http://example.org/posts/2012-09-05-suid-bit/","summary":"L\u0026rsquo;utilisation du bit SUID permet d\u0026rsquo;exécuter des scripts en se faisant passer pour un autre utilisateur. Cela peut être pratique sur sa machine personnelle pour appeler un script qui modifie la luminosité de l\u0026rsquo;écran\u0026hellip; Mais aussi dangereux si la machine est utilisée par d\u0026rsquo;autres utilisateurs\u0026hellip;\nAttention, après recherche le bit suid ne fonctionne pas sur linux pour les scripts bash\u0026hellip; Cela explique bien des choses que je ne comprenais pas !","tags":[],"text":"l\u0026rsquo;utilisation du bit suid permet d\u0026rsquo;exécuter des scripts en se faisant passer pour un autre utilisateur. cela peut être pratique sur sa machine personnelle pour appeler un script qui modifie la luminosité de l\u0026rsquo;écran\u0026hellip; mais aussi dangereux si la machine est utilisée par d\u0026rsquo;autres utilisateurs\u0026hellip;\nattention, après recherche le bit suid ne fonctionne pas sur linux pour les scripts bash\u0026hellip; cela explique bien des choses que je ne comprenais pas ! $ cat hello.c #include\u0026lt;stdio.h\u0026gt; #include\u0026lt;stdlib.h\u0026gt;\nint main(int argc, char **argv[]) { printf(\u0026ldquo;hello getuid=%d geteuid=%d\\n\u0026rdquo;, getuid(), geteuid()); } $ gcc hello.c -o hello \u0026amp;\u0026amp; sudo chown root:root hello \u0026amp;\u0026amp; sudo chmod u+s hello \u0026amp;\u0026amp; ls -l hello -rwsr-xr-x 1 root root 8484 2012-09-05 13:43 hello $ ./hello hello getuid=1000 geteuid=0 $ sudo chmod u-s hello $ ./hello hello getuid=1000 geteuid=1000 ","title":"SUID bit"},{"date":"2012-09-04","image":"","imageAlt":"","link":"http://example.org/posts/2012-09-04-linux-mint-cinnamon-samsung-ml-1865-2/","summary":"En installant l\u0026rsquo;imprimante, le daemon smfpd se met en place et démarre automatiquement à chaque allumage.\nCe daemon n\u0026rsquo;est utile que dans le cas où l\u0026rsquo;imprimante Samsung est connectée à un port parallèle\u0026hellip; Ce qui n\u0026rsquo;est pas le cas de ma ML-1865 !\nOr ce daemon est gourmand en ressources et donc la batterie du portable diminue plus vite :(\nPour l\u0026rsquo;économiser, editer le fichier /etc/inid.d/smfpd et décommenter la ligne \u0026ldquo;exit 0\u0026rdquo;.","tags":[],"text":"en installant l\u0026rsquo;imprimante, le daemon smfpd se met en place et démarre automatiquement à chaque allumage.\nce daemon n\u0026rsquo;est utile que dans le cas où l\u0026rsquo;imprimante samsung est connectée à un port parallèle\u0026hellip; ce qui n\u0026rsquo;est pas le cas de ma ml-1865 !\nor ce daemon est gourmand en ressources et donc la batterie du portable diminue plus vite :(\npour l\u0026rsquo;économiser, editer le fichier /etc/inid.d/smfpd et décommenter la ligne \u0026ldquo;exit 0\u0026rdquo;. le programme se terminera aussitôt lancé. cette modification sera prise en compte au prochain démarrage.\n","title":"Linux Mint Cinnamon \u0026 Samsung ML-1865 (2)"},{"date":"2012-08-28","image":"","imageAlt":"","link":"http://example.org/posts/2012-08-28-linux-mint-cinnamon-wifi/","summary":"Hier soir j\u0026rsquo;ai désactivé le Wifi dans la widget près de l\u0026rsquo;heure. Impossible de le réactiver, même un redémarrage ne fonctionne pas ! La fenêtre \u0026ldquo;Réseau\u0026rdquo; dans les préférences montrait un bouton où le mode avion était activé et rien n\u0026rsquo;y faisait, impossible de rétablir le wifi !! En attendant la réparation du bug\u0026hellip;\n$ rfkill list 0: hci0: Bluetooth Soft blocked: no Hard blocked: no 1: sony-wifi: Wireless LAN Soft blocked: yes Hard blocked: no 2: sony-bluetooth: Bluetooth Soft blocked: no Hard blocked: no 3: phy0: Wireless LAN Soft blocked: yes Hard blocked: yes $ rfkill unblock 1 $ rfkill unblock 3 ","tags":["wifi"],"text":"hier soir j\u0026rsquo;ai désactivé le wifi dans la widget près de l\u0026rsquo;heure. impossible de le réactiver, même un redémarrage ne fonctionne pas ! la fenêtre \u0026ldquo;réseau\u0026rdquo; dans les préférences montrait un bouton où le mode avion était activé et rien n\u0026rsquo;y faisait, impossible de rétablir le wifi !! en attendant la réparation du bug\u0026hellip;\n$ rfkill list 0: hci0: bluetooth soft blocked: no hard blocked: no 1: sony-wifi: wireless lan soft blocked: yes hard blocked: no 2: sony-bluetooth: bluetooth soft blocked: no hard blocked: no 3: phy0: wireless lan soft blocked: yes hard blocked: yes $ rfkill unblock 1 $ rfkill unblock 3 ","title":"Linux Mint Cinnamon \u0026 wifi"},{"date":"2012-08-27","image":"","imageAlt":"","link":"http://example.org/posts/2012-08-27-linux-mint-cinnamon-samsung-ml-1865/","summary":"Impossible de faire fonctionner mon imprimante (une Samsung ML-1865) sur mon Sony SVS-1311 où j\u0026rsquo;ai installé un Linux Mint 13 Cinnamon.\nL\u0026rsquo;imprimante était détectée sur le réseau mais le modèle indiqué dans le panneau Imprimantes était Samsung ML-1750\nLes impressions partaient mais les feuilles sortaient\u0026hellip; INTERNAL ERROR - Please use the proper driver POSITION : 0x0 (0) SYSTEM : h6fw_5.49/xl_op LINE : 180 VERSION : SPL 5.49 10-20-2010 Je suis allé sur le site de samsung pour télécharger le driver et l\u0026rsquo;ai installé\u0026hellip; Même problème bien que le modèle indiqué dans le panneau soit mieux : Samsung ML-1860","tags":[],"text":"impossible de faire fonctionner mon imprimante (une samsung ml-1865) sur mon sony svs-1311 où j\u0026rsquo;ai installé un linux mint 13 cinnamon.\nl\u0026rsquo;imprimante était détectée sur le réseau mais le modèle indiqué dans le panneau imprimantes était samsung ml-1750\nles impressions partaient mais les feuilles sortaient\u0026hellip; internal error - please use the proper driver position : 0x0 (0) system : h6fw_5.49/xl_op line : 180 version : spl 5.49 10-20-2010 je suis allé sur le site de samsung pour télécharger le driver et l\u0026rsquo;ai installé\u0026hellip; même problème bien que le modèle indiqué dans le panneau soit mieux : samsung ml-1860\nau final, après recherche sur google, je suis tombé sur la page suivante : http://forums.linuxmint.com/viewtopic.php?f=51\u0026amp;t=107026\nj\u0026rsquo;ai ajouté deb http://www.bchemnet.com/suldr/ debian extra dans la liste des dépôts (menu configuration du gestionnaire de paquets synaptic) et hop !\nun coup de :\n$ su $ wget -o - http://www.bchemnet.com/suldr/suldr.gpg | apt-key add \u0026ndash; - $ apt-get install samsungmfp-data samsungmfp-configurator-qt4 samsungmfp-configurator-data samsungmfp-driver printer-driver-splix on réinstalle l\u0026rsquo;imprimante et fini les internal error - please use the proper driver position : 0x0 (0) system : h6fw_5.49/xl_op line : 180 version : spl 5.49 10-20-2010 ouf!\nedit : 7 septembre 2016 les paquets samsungmfp-* ont été remplacés par suld-*\n","title":"Linux Mint Cinnamon \u0026 Samsung ML-1865"},{"date":"2012-08-08","image":"","imageAlt":"","link":"http://example.org/posts/2012-08-08-bash-pattern-substitution/","summary":"Le manuel bash présente les syntaxes suivantes (voir)\n${parameter#word} et ${parameter##word} pour supprimer le plus court et le plus long préfix ${parameter%word} et ${parameter%%word} pour supprimer le plus court et le plus long suffixe ${parameter/pattern/string} pour substituer une chaîne à un pattern. Il faut savoir que word peut être une regexp dans les 2 premiers cas. Mais il faut surtout savoir que la syntaxe du pattern diffère de celles que l\u0026rsquo;on connaît généralement\u0026hellip;","tags":["bash","pattern","regexp"],"text":"le manuel bash présente les syntaxes suivantes (voir)\n${parameter#word} et ${parameter##word} pour supprimer le plus court et le plus long préfix ${parameter%word} et ${parameter%%word} pour supprimer le plus court et le plus long suffixe ${parameter/pattern/string} pour substituer une chaîne à un pattern. il faut savoir que word peut être une regexp dans les 2 premiers cas. mais il faut surtout savoir que la syntaxe du pattern diffère de celles que l\u0026rsquo;on connaît généralement\u0026hellip;\nsur wiki.bash-hackers.org :\n?(\u0026lt;pattern-list\u0026gt;) matches zero or one occurrence of the given patterns *(\u0026lt;pattern-list\u0026gt;) matches zero or more occurrences of the given patterns +(\u0026lt;pattern-list\u0026gt;) matches one or more occurrences of the given patterns @(\u0026lt;pattern-list\u0026gt;) matches one of the given patterns !(\u0026lt;pattern-list\u0026gt;) matches anything except one of the given patterns d\u0026rsquo;où des choses zarbies du genre :\n$ shopt -s extglob $ v=\u0026#34;le temps passe vite\u0026#34; $ echo ${v//+([[:upper:]])} temps vite $ echo ${v%%+([[:lower:]])} le temps passe $ for b in configb configb1 configb2 configb_test; do echo $b $(db_name=$b; echo \u0026#39;%%configcommon\u0026#39; | sed -e \u0026#34;s/%%configcommon/${db_name/configb@(1|2|)/configcommon}/g\u0026#34; ) done configb configcommon configb1 configcommon configb2 configcommon configb_test configcommon_test ","title":"Bash, pattern substitution"},{"date":"2012-08-08","image":"","imageAlt":"","link":"http://example.org/posts/2012-08-08-bash-templating/","summary":"Pour faire un système de templating en bash (par exemple pour du mailing) on peut faire ainsi si l\u0026rsquo;on souhaite que le modèle soit dans un fichier à part :\n$ cat template.txt \u0026lt;b\u0026gt;Hello \u0026#39;\u0026#34;${firstname}\u0026#34;\u0026lt;/b\u0026gt; Bye \u0026#39;\u0026#34;${firstname}\u0026#34;\u0026#39; $ for firstname in luc jeff gwen \u0026gt; do \u0026gt; while read line \u0026gt; do \u0026gt; eval echo \u0026#34;\u0026#39;$line\u0026#39;\u0026#34; \u0026gt; done \u0026lt; template.txt \u0026gt; done \u0026lt;b\u0026gt;Hello luc\u0026lt;/b\u0026gt; Bye luc \u0026lt;b\u0026gt;Hello jeff\u0026lt;/b\u0026gt; Bye jeff \u0026lt;b\u0026gt;Hello gwen\u0026lt;/b\u0026gt; Bye gwen Avec les Here Documents, cela aurait été plus simple\u0026hellip;","tags":["bash","templating"],"text":"pour faire un système de templating en bash (par exemple pour du mailing) on peut faire ainsi si l\u0026rsquo;on souhaite que le modèle soit dans un fichier à part :\n$ cat template.txt \u0026lt;b\u0026gt;hello \u0026#39;\u0026#34;${firstname}\u0026#34;\u0026lt;/b\u0026gt; bye \u0026#39;\u0026#34;${firstname}\u0026#34;\u0026#39; $ for firstname in luc jeff gwen \u0026gt; do \u0026gt; while read line \u0026gt; do \u0026gt; eval echo \u0026#34;\u0026#39;$line\u0026#39;\u0026#34; \u0026gt; done \u0026lt; template.txt \u0026gt; done \u0026lt;b\u0026gt;hello luc\u0026lt;/b\u0026gt; bye luc \u0026lt;b\u0026gt;hello jeff\u0026lt;/b\u0026gt; bye jeff \u0026lt;b\u0026gt;hello gwen\u0026lt;/b\u0026gt; bye gwen avec les here documents, cela aurait été plus simple\u0026hellip;\n","title":"Bash, templating..."},{"date":"2012-08-08","image":"","imageAlt":"","link":"http://example.org/posts/2012-08-08-bash-affichage-en-mode-interactif/","summary":"Dans un script bash, j\u0026rsquo;ai souhaité afficher un numéro de version lorsque celui-ci est lancé interactivement (ne reçoit pas de données depuis un pipe ou bien une redirection \u0026lt;).\nCela peut-être fait en utilisant l\u0026rsquo;option -t de la commande test.\nif [ -t 0 ]; then echo \u0026#34;Version: $VERSION\u0026#34; fi ","tags":["bash","interactif"],"text":"dans un script bash, j\u0026rsquo;ai souhaité afficher un numéro de version lorsque celui-ci est lancé interactivement (ne reçoit pas de données depuis un pipe ou bien une redirection \u0026lt;).\ncela peut-être fait en utilisant l\u0026rsquo;option -t de la commande test.\nif [ -t 0 ]; then echo \u0026#34;version: $version\u0026#34; fi ","title":"bash, affichage en mode intéractif"},{"date":"2012-08-07","image":"","imageAlt":"","link":"http://example.org/posts/2012-08-07-bash-lecture-ligne-a-ligne-et-initialisation-variables/","summary":"Dans la lignée du post précédent, il est possible de lire ligne à ligne et d\u0026rsquo;initialiser des variables directement pour des fichiers bien structurés.\nDans le cas d\u0026rsquo; /etc/password : $ while IFS=: read user pass uid gid full home shell\ndo printf \u0026ldquo;$full \u0026ndash; Pseudo : $user UID : $uid GID : $gid Home : $home Shell : $shell\\n\u0026rdquo; done \u0026lt; /etc/passwd root \u0026ndash; Pseudo : root UID : 0 GID : 0 Home : /root Shell : /bin/bash daemon \u0026ndash; Pseudo : daemon UID : 1 GID : 1 Home : /usr/sbin Shell : /bin/sh bin \u0026ndash; Pseudo : bin UID : 2 GID : 2 Home : /bin Shell : /bin/sh sys \u0026ndash; Pseudo : sys UID : 3 GID : 3 Home : /dev Shell : /bin/sh ","tags":[],"text":"dans la lignée du post précédent, il est possible de lire ligne à ligne et d\u0026rsquo;initialiser des variables directement pour des fichiers bien structurés.\ndans le cas d\u0026rsquo; /etc/password : $ while ifs=: read user pass uid gid full home shell\ndo printf \u0026ldquo;$full \u0026ndash; pseudo : $user uid : $uid gid : $gid home : $home shell : $shell\\n\u0026rdquo; done \u0026lt; /etc/passwd root \u0026ndash; pseudo : root uid : 0 gid : 0 home : /root shell : /bin/bash daemon \u0026ndash; pseudo : daemon uid : 1 gid : 1 home : /usr/sbin shell : /bin/sh bin \u0026ndash; pseudo : bin uid : 2 gid : 2 home : /bin shell : /bin/sh sys \u0026ndash; pseudo : sys uid : 3 gid : 3 home : /dev shell : /bin/sh ","title":"bash, lecture ligne à ligne et initialisation variables..."},{"date":"2012-08-07","image":"","imageAlt":"","link":"http://example.org/posts/2012-08-07-bash-boucles-for/","summary":"En bash, on aurait tendance à penser que \u0026ldquo;for line in $(cat fichier)\u0026rdquo; renvoie les lignes mais c\u0026rsquo;est faux car les séparateurs par défaut sont les espaces, tabulations\u0026hellip; On itère donc sur la liste des mots\u0026hellip;\nPour palier à ce soucis, on peut jouer en modifiant la variable IFS et en la restaurant ensuite.\nCela donne : old_IFS=$IFS IFS=$\u0026rsquo;\\n\u0026rsquo; for line in $(cat fichier) do echo \u0026ldquo;La ligne est : $line\u0026rdquo; done IFS=$old_IFS Une méthode plus subtile mais tout aussi jolie est d\u0026rsquo;utiliser read et while\u0026hellip; Cela donne maintenant : cat fichier | while read line || [[ $line ]] do echo \u0026ldquo;La ligne est : $line\u0026rdquo; done C\u0026rsquo;est quand même moins tordu ;)","tags":[],"text":"en bash, on aurait tendance à penser que \u0026ldquo;for line in $(cat fichier)\u0026rdquo; renvoie les lignes mais c\u0026rsquo;est faux car les séparateurs par défaut sont les espaces, tabulations\u0026hellip; on itère donc sur la liste des mots\u0026hellip;\npour palier à ce soucis, on peut jouer en modifiant la variable ifs et en la restaurant ensuite.\ncela donne : old_ifs=$ifs ifs=$\u0026rsquo;\\n\u0026rsquo; for line in $(cat fichier) do echo \u0026ldquo;la ligne est : $line\u0026rdquo; done ifs=$old_ifs une méthode plus subtile mais tout aussi jolie est d\u0026rsquo;utiliser read et while\u0026hellip; cela donne maintenant : cat fichier | while read line || [[ $line ]] do echo \u0026ldquo;la ligne est : $line\u0026rdquo; done c\u0026rsquo;est quand même moins tordu ;)\na noter, le [[ $line ]] permet de prendre en compte la dernière ligne s\u0026rsquo;il n\u0026rsquo;y a pas de retour chariot.\n","title":"bash, boucles for"},{"date":"2012-08-07","image":"","imageAlt":"","link":"http://example.org/posts/2012-08-07-mysql-n-afficher-que-les-vraies-tables/","summary":"Lorsque l\u0026rsquo;on utilise plusieurs bases de données, il arrive que l\u0026rsquo;on crée des vues d\u0026rsquo;une base vers une autre base\u0026hellip;\nLa commande show tables n\u0026rsquo;est pas suffisante pour distinguer les tables des vues\u0026hellip;\nMais voilà, on peut associer l\u0026rsquo;option full et compléter d\u0026rsquo;un where pour récupérer ce que l\u0026rsquo;on souhaite :\nmysql\u0026gt; show full tables where Table_type=\u0026#39;BASE TABLE\u0026#39;; où Table_type peut être :\nBASE TABLE VIEW ","tags":[],"text":"lorsque l\u0026rsquo;on utilise plusieurs bases de données, il arrive que l\u0026rsquo;on crée des vues d\u0026rsquo;une base vers une autre base\u0026hellip;\nla commande show tables n\u0026rsquo;est pas suffisante pour distinguer les tables des vues\u0026hellip;\nmais voilà, on peut associer l\u0026rsquo;option full et compléter d\u0026rsquo;un where pour récupérer ce que l\u0026rsquo;on souhaite :\nmysql\u0026gt; show full tables where table_type=\u0026#39;base table\u0026#39;; où table_type peut être :\nbase table view ","title":"mysql, n'afficher que les vraies tables"},{"date":"2012-08-06","image":"","imageAlt":"","link":"http://example.org/posts/2012-08-06-changer-d-ordinateur-calculer-son-amortissement/","summary":"Dernièrement, je voulais acheter un ordinateur portable mais je n\u0026rsquo;arrivais pas à passer le cap\u0026hellip;\nJ\u0026rsquo;ai eu un macbook blanc que j\u0026rsquo;ai donné à ma mère\u0026hellip;\nLe matériel était excellent\u0026hellip;\nDepuis, il y a eu le passage aux macbook pro au prix de 1250€ (250€ de plus que le macbook que j\u0026rsquo;avais acheté à l\u0026rsquo;époque).\nEt là, je me dis que c\u0026rsquo;est trop cher\u0026hellip;\nNormalement, plus le temps passe plus le prix du matériel technologique baisse (TV, ordis\u0026hellip;).","tags":[],"text":"dernièrement, je voulais acheter un ordinateur portable mais je n\u0026rsquo;arrivais pas à passer le cap\u0026hellip;\nj\u0026rsquo;ai eu un macbook blanc que j\u0026rsquo;ai donné à ma mère\u0026hellip;\nle matériel était excellent\u0026hellip;\ndepuis, il y a eu le passage aux macbook pro au prix de 1250€ (250€ de plus que le macbook que j\u0026rsquo;avais acheté à l\u0026rsquo;époque).\net là, je me dis que c\u0026rsquo;est trop cher\u0026hellip;\nnormalement, plus le temps passe plus le prix du matériel technologique baisse (tv, ordis\u0026hellip;).\nchez apple, c\u0026rsquo;est l\u0026rsquo;inverse :(\nj\u0026rsquo;ai hésité, hésité\u0026hellip; envie d\u0026rsquo;un mac mais le cerveau qui dit non\u0026hellip;\net puis\u0026hellip; un petit tour sur la page wiki de l\u0026rsquo;amortissement et la lecture de la méthode softy.\ndans mon cas, si je garde l\u0026rsquo;ordi (sans pépin 4 ans) : $ python\nprix=1250 nb_annees=4 [prixx/365 for x in [a * 2.0 / (nb_annees * (nb_annees + 1)) for a in range(nb_annees, 0, -1)]] [1.36986301369863, 1.0273972602739727, 0.684931506849315, 0.3424657534246575] prix=850 [prixx/365 for x in [a * 2.0 / (nb_annees * (nb_annees + 1)) for a in range(nb_annees, 0, -1)]] [0.9315068493150684, 0.6986301369863014, 0.4657534246575342, 0.2328767123287671] soit .44€ de moins par jour pour un pc la première année\u0026hellip; ce qui équivaut tout de même à 160€ la première année. c\u0026rsquo;est énorme.\nfinalement, je repasse aux pc\u0026hellip;\n\u0026hellip; et j\u0026rsquo;attends avec impatience mon sony vaio\nbye apple\u0026hellip;\n","title":"changer d'ordinateur, calculer son amortissement..."},{"date":"2012-08-03","image":"","imageAlt":"","link":"http://example.org/posts/2012-08-03-bash-lister-les-commandes-disponibles/","summary":"Pour lister les commandes disponibles, on peut utiliser la commande bash intégrée compgen:\ncompgen -c liste la liste de toutes les commandes que l\u0026rsquo;on peut exécuter - compgen -a liste la liste de tous les alias que l\u0026rsquo;on peut exécuter - compgen -b liste la liste de toutes les commandes intégrées (built-in) que l\u0026rsquo;on peut exécuter - compgen -k liste la liste de tous les mots clés que l\u0026rsquo;on peut exécuter (if/then\u0026hellip;) Sur ma machine, la répartition des commandes en fonction de la première lettre\u0026hellip; $ compgen -c | cut -c 1 | sort | uniq -c | sort -nr | column 392 p 122 f 61 h 12 k 1 N 359 _ 118 r 37 w 8 V 1 M 222 m 115 i 3 7 6 y 1 G 222 g 114 u 33 j 6 q 1 C 207 s 114 a 30 v 3 [ 1 } 154 x 96 t 25 z 2 X 1 { 143 c 95 b 22 o 2 H 1 ] 131 d 78 n 2 2 2 .","tags":[],"text":"pour lister les commandes disponibles, on peut utiliser la commande bash intégrée compgen:\ncompgen -c liste la liste de toutes les commandes que l\u0026rsquo;on peut exécuter - compgen -a liste la liste de tous les alias que l\u0026rsquo;on peut exécuter - compgen -b liste la liste de toutes les commandes intégrées (built-in) que l\u0026rsquo;on peut exécuter - compgen -k liste la liste de tous les mots clés que l\u0026rsquo;on peut exécuter (if/then\u0026hellip;) sur ma machine, la répartition des commandes en fonction de la première lettre\u0026hellip; $ compgen -c | cut -c 1 | sort | uniq -c | sort -nr | column 392 p 122 f 61 h 12 k 1 n 359 _ 118 r 37 w 8 v 1 m 222 m 115 i 3 7 6 y 1 g 222 g 114 u 33 j 6 q 1 c 207 s 114 a 30 v 3 [ 1 } 154 x 96 t 25 z 2 x 1 { 143 c 95 b 22 o 2 h 1 ] 131 d 78 n 2 2 2 . 1 ! 130 l 77 e 1 4 1 p 1 : ","title":"bash, lister les commandes disponibles"},{"date":"2012-07-31","image":"","imageAlt":"","link":"http://example.org/posts/2012-07-31-bash-timeout/","summary":"L\u0026rsquo;astuce du jour !\nSi un script appelle une commande qui peut ou non rendre la main (chemin réseau) et que l\u0026rsquo;on souhaite toujours la récupérer, on peut faire appel à la commande timeout. $ timeout 3 ssh user@host.example.com:~/ ls Cela est très pratique lorsque la commande utilisée n\u0026rsquo;a pas prévu de rendre la main suite à un timeout spécifié en paramètre.","tags":[],"text":"l\u0026rsquo;astuce du jour !\nsi un script appelle une commande qui peut ou non rendre la main (chemin réseau) et que l\u0026rsquo;on souhaite toujours la récupérer, on peut faire appel à la commande timeout. $ timeout 3 ssh user@host.example.com:~/ ls cela est très pratique lorsque la commande utilisée n\u0026rsquo;a pas prévu de rendre la main suite à un timeout spécifié en paramètre.\n","title":"bash, timeout"},{"date":"2012-07-31","image":"","imageAlt":"","link":"http://example.org/posts/2012-07-31-bash-recuperer-le-code-de-sortie-d-un-sous-shell/","summary":"Ci-dessous on récupère le code de sortie d\u0026rsquo;un sous-shell afin d\u0026rsquo;effectuer un traitement particulier avec des pipes.\nMYSQL_CMD=\u0026#34;mysql -P$DB_PORT -u$DB_USER -p$DB_PASSWD -h$DB_HOST $DB --connect-timeout=1\u0026#34; VERSION=$(${MYSQL_CMD} -B -s -e \u0026#39;select value from _cvf_metadatas where name=\u0026#34;version\u0026#34;\u0026#39; 2\u0026gt;/dev/null | tail -n 1 ; exit $PIPESTATUS) if [ $? -ne 0 ]; then VERSION=\u0026#34;*can\u0026#39;t connect*\u0026#34; elif [ -z \u0026#34;$VERSION\u0026#34; ]; then VERSION=\u0026#34;*not found*\u0026#34; fi ","tags":["bash","pipe","status"],"text":"ci-dessous on récupère le code de sortie d\u0026rsquo;un sous-shell afin d\u0026rsquo;effectuer un traitement particulier avec des pipes.\nmysql_cmd=\u0026#34;mysql -p$db_port -u$db_user -p$db_passwd -h$db_host $db --connect-timeout=1\u0026#34; version=$(${mysql_cmd} -b -s -e \u0026#39;select value from _cvf_metadatas where name=\u0026#34;version\u0026#34;\u0026#39; 2\u0026gt;/dev/null | tail -n 1 ; exit $pipestatus) if [ $? -ne 0 ]; then version=\u0026#34;*can\u0026#39;t connect*\u0026#34; elif [ -z \u0026#34;$version\u0026#34; ]; then version=\u0026#34;*not found*\u0026#34; fi ","title":"bash, récupérer le code de sortie d'un sous-shell"},{"date":"2012-07-30","image":"","imageAlt":"","link":"http://example.org/posts/2012-07-30-bash-sort/","summary":"Bien souvent, on recherche des fichiers avec la commande find dans une arborescence. L\u0026rsquo;option \u0026ldquo;-printf format\u0026rdquo; permet d\u0026rsquo;afficher une ligne pour chaque entrée trouvée. Le format permet d\u0026rsquo;afficher les dates/heures, le basename de l\u0026rsquo;entrée\u0026hellip; $ find src/main/webapp/changes.log -printf \u0026lsquo;%f\\n\u0026rsquo; changes.log $ find src/main/webapp/changes.log -printf \u0026lsquo;%h\\n\u0026rsquo; src/main/webapp Ca peut être bien utile de connaître cette option ;)","tags":[],"text":"bien souvent, on recherche des fichiers avec la commande find dans une arborescence. l\u0026rsquo;option \u0026ldquo;-printf format\u0026rdquo; permet d\u0026rsquo;afficher une ligne pour chaque entrée trouvée. le format permet d\u0026rsquo;afficher les dates/heures, le basename de l\u0026rsquo;entrée\u0026hellip; $ find src/main/webapp/changes.log -printf \u0026lsquo;%f\\n\u0026rsquo; changes.log $ find src/main/webapp/changes.log -printf \u0026lsquo;%h\\n\u0026rsquo; src/main/webapp ca peut être bien utile de connaître cette option ;)\n","title":"bash, sort"},{"date":"2012-07-27","image":"","imageAlt":"","link":"http://example.org/posts/2012-07-27-bash-initialisation-des-variables/","summary":"Use a default value\n${PARAMETER:-WORD} ${PARAMETER-WORD} If the parameter PARAMETER is unset (never was defined) or null (empty), this one expands to WORD, otherwise it expands to the value of PARAMETER, as if it just was ${PARAMETER}. If you omit the : (colon), like shown in the second form, the default value is only used when the parameter was unset, not when it was empty.\nAssign a default value\n${PARAMETER:=WORD} ${PARAMETER=WORD} This one works like the using default values, but the default text you give is not only expanded, but also assigned to the parameter, if it was unset or null.","tags":["bash","expansion","parameter"],"text":"use a default value\n${parameter:-word} ${parameter-word} if the parameter parameter is unset (never was defined) or null (empty), this one expands to word, otherwise it expands to the value of parameter, as if it just was ${parameter}. if you omit the : (colon), like shown in the second form, the default value is only used when the parameter was unset, not when it was empty.\nassign a default value\n${parameter:=word} ${parameter=word} this one works like the using default values, but the default text you give is not only expanded, but also assigned to the parameter, if it was unset or null. equivalent to using a default value, when you omit the : (colon), as shown in the second form, the default value will only be assigned when the parameter was unset.\npour résumer :\nle : indique que l\u0026rsquo;on remplace par l\u0026rsquo;expansion de word même si parameter est vide (positionné mais vide) le = à la différence de : indique qu\u0026rsquo;en plus parameter sera affecté par l\u0026rsquo;expansion de word si celle-ci est utilisée. ${parameter:-word} renvoie word si parameter est non défini ou vide ${parameter-word} renvoie word si parameter est non défini ${parameter:=word} renvoie word si parameter est non défini ou vide et assigne parameter à word ${parameter=word} renvoie word si parameter est non défini et assigne parameter à word ","title":"bash, initialisation des variables"},{"date":"2012-07-26","image":"","imageAlt":"","link":"http://example.org/posts/2012-07-26-bash-generer-des-mots-de-passe/","summary":"Vous n\u0026rsquo;avez pas envie de réfléchir pour générer un mot de passe ? Voici une petite méthode à mettre dans votre bashrc qui vous facilitera le choix ;) function genpass() { LENGTH=${1:-10} if [ \u0026ldquo;$2\u0026rdquo; == \u0026ldquo;0\u0026rdquo; ]; then CHAR=\u0026quot;[:alnum:]\u0026quot; elif [ \u0026ldquo;$2\u0026rdquo; == \u0026ldquo;1\u0026rdquo; ]; then CHAR=\u0026quot;[:graph:]\u0026quot; elif [ \u0026ldquo;${2:0:1}\u0026rdquo; != \u0026ldquo;+\u0026rdquo; ]; then echo \u0026ldquo;Erreur: vous devez spécifier les caractères acceptés\u0026rdquo; echo \u0026ldquo;Exemple: $ genpass 32 \u0026lsquo;+[:alnum:]_\u0026rsquo;\u0026rdquo; echo \u0026ldquo;2na2lku4FBqM7eNPC_aooahXV0c8GxI7\u0026rdquo; return else CHAR=\u0026quot;${2:1}\u0026quot; fi cat /dev/urandom | tr -cd \u0026ldquo;$CHAR\u0026rdquo; | head -c $LENGTH echo }","tags":[],"text":"vous n\u0026rsquo;avez pas envie de réfléchir pour générer un mot de passe ? voici une petite méthode à mettre dans votre bashrc qui vous facilitera le choix ;) function genpass() { length=${1:-10} if [ \u0026ldquo;$2\u0026rdquo; == \u0026ldquo;0\u0026rdquo; ]; then char=\u0026quot;[:alnum:]\u0026quot; elif [ \u0026ldquo;$2\u0026rdquo; == \u0026ldquo;1\u0026rdquo; ]; then char=\u0026quot;[:graph:]\u0026quot; elif [ \u0026ldquo;${2:0:1}\u0026rdquo; != \u0026ldquo;+\u0026rdquo; ]; then echo \u0026ldquo;erreur: vous devez spécifier les caractères acceptés\u0026rdquo; echo \u0026ldquo;exemple: $ genpass 32 \u0026lsquo;+[:alnum:]_\u0026rsquo;\u0026rdquo; echo \u0026ldquo;2na2lku4fbqm7enpc_aooahxv0c8gxi7\u0026rdquo; return else char=\u0026quot;${2:1}\u0026quot; fi cat /dev/urandom | tr -cd \u0026ldquo;$char\u0026rdquo; | head -c $length echo }\n$ # génère un mot de passe de 10 caractères avec lettres et chiffres $ genpass 10 0 tosgxjycaa $ # génère un mot de passe de 10 caractères avec lettres, chiffres et symboles $ genpass 10 1 ^:5-lonhtn $ # génère un mot de passe de 10 caractères avec ce que vous spécifiez après le + $ genpass 10 \u0026ldquo;+abc[:digit:]\u0026rdquo; b5836a29a2 ","title":"bash, génerer des mots de passe"},{"date":"2012-07-25","image":"","imageAlt":"","link":"http://example.org/posts/2012-07-25-bash-convertir-la-casse-d-un-flux/","summary":"Pour faire des recherches de noms de fichiers correspondant à un certain pattern, j\u0026rsquo;ai eu besoin de changer la casse des noms\u0026hellip;\nIci je recherche les fichiers qui contiennent \u0026ldquo;erreur\u0026rdquo; dans leur noms. $ ls | tr \u0026lsquo;[:upper:]\u0026rsquo; \u0026lsquo;[:lower:]\u0026rsquo; | grep erreur ","tags":[],"text":"pour faire des recherches de noms de fichiers correspondant à un certain pattern, j\u0026rsquo;ai eu besoin de changer la casse des noms\u0026hellip;\nici je recherche les fichiers qui contiennent \u0026ldquo;erreur\u0026rdquo; dans leur noms. $ ls | tr \u0026lsquo;[:upper:]\u0026rsquo; \u0026lsquo;[:lower:]\u0026rsquo; | grep erreur ","title":"bash, convertir la casse d'un flux"},{"date":"2012-07-23","image":"","imageAlt":"","link":"http://example.org/posts/2012-07-23-python-obtenir-la-liste-des-fichiers-java/","summary":"Pour récupérer la liste des .java dans une arborescence et sa sous-arborescence, on peut utiliser le code suivant : import fnmatch import os\nmatches = [] for root, dirnames, filenames in os.walk(\u0026rsquo;/path/to/the/directory\u0026rsquo;): for filename in fnmatch.filter(filenames, \u0026lsquo;*.java\u0026rsquo;): matches.append(os.path.join(root, filename)) ","tags":[],"text":"pour récupérer la liste des .java dans une arborescence et sa sous-arborescence, on peut utiliser le code suivant : import fnmatch import os\nmatches = [] for root, dirnames, filenames in os.walk(\u0026rsquo;/path/to/the/directory\u0026rsquo;): for filename in fnmatch.filter(filenames, \u0026lsquo;*.java\u0026rsquo;): matches.append(os.path.join(root, filename)) ","title":"python, obtenir la liste des fichiers .java"},{"date":"2012-07-20","image":"","imageAlt":"","link":"http://example.org/posts/2012-07-20-python-ouvrir-un-fichier-en-utf8/","summary":"Pour ouvrir un fichier en utilisant un encodage particulier, il est possible de passer par le module codecs\u0026hellip; with codecs.open(\u0026rsquo;the_file.csv\u0026rsquo;, \u0026lsquo;r\u0026rsquo;, \u0026lsquo;utf8\u0026rsquo;) as f: l = f.readline() \u0026hellip; ","tags":[],"text":"pour ouvrir un fichier en utilisant un encodage particulier, il est possible de passer par le module codecs\u0026hellip; with codecs.open(\u0026rsquo;the_file.csv\u0026rsquo;, \u0026lsquo;r\u0026rsquo;, \u0026lsquo;utf8\u0026rsquo;) as f: l = f.readline() \u0026hellip; ","title":"python, ouvrir un fichier en utf8"},{"date":"2012-07-20","image":"","imageAlt":"","link":"http://example.org/posts/2012-07-20-bash-nombres-en-hexadecimal/","summary":"Si pour une raison ou une autre, vous devez jouer à afficher des nombres héxadécimal en base 10 ou vice-versa, vous pouvez passer par la commande printf $ printf \u0026ldquo;%x\u0026rdquo; 174 ae $ printf \u0026ldquo;%d\u0026rdquo; 0xae 174 $ printf \u0026ldquo;%d\\n\u0026rdquo; 'A 65 ","tags":[],"text":"si pour une raison ou une autre, vous devez jouer à afficher des nombres héxadécimal en base 10 ou vice-versa, vous pouvez passer par la commande printf $ printf \u0026ldquo;%x\u0026rdquo; 174 ae $ printf \u0026ldquo;%d\u0026rdquo; 0xae 174 $ printf \u0026ldquo;%d\\n\u0026rdquo; 'a 65 ","title":"bash, nombres en hexadécimal"},{"date":"2012-07-20","image":"","imageAlt":"","link":"http://example.org/posts/2012-07-20-bash-tri-par-longueur-de-ligne/","summary":"La commande sort ne permet pas de trier en fonction de la longueur des lignes. C\u0026rsquo;est dommage mais on peut utiliser awk, combiné avec sort pour avoir le même résultat. $ cat /usr/share/dict/words | awk \u0026lsquo;{ print length(), $0 | \u0026ldquo;sort -n\u0026rdquo; }\u0026rsquo; | cut -d \u0026rsquo; \u0026rsquo; -f 2- ","tags":[],"text":"la commande sort ne permet pas de trier en fonction de la longueur des lignes. c\u0026rsquo;est dommage mais on peut utiliser awk, combiné avec sort pour avoir le même résultat. $ cat /usr/share/dict/words | awk \u0026lsquo;{ print length(), $0 | \u0026ldquo;sort -n\u0026rdquo; }\u0026rsquo; | cut -d \u0026rsquo; \u0026rsquo; -f 2- ","title":"bash, tri par longueur de ligne"},{"date":"2012-07-17","image":"","imageAlt":"","link":"http://example.org/posts/2012-07-17-jetty-8-et-parametres-d-initialisation/","summary":"La documentation sur le net est obscure quant à la manière d\u0026rsquo;initialiser les paramètres de contexte avec jetty (hors du web.xml dans le webdefault.xml (équivalent du host.xml de tomcat)).\nJ\u0026rsquo;ai cherché, cherché et cherché\u0026hellip;\nEt puis j\u0026rsquo;ai trouvé :) Le nouveau code est le suivant : \u0026lt;?xml version=\u0026ldquo;1.0\u0026rdquo; encoding=\u0026ldquo;ISO-8859-1\u0026rdquo;?\u0026gt; \u0026lt;!DOCTYPE Configure PUBLIC \u0026ldquo;-//Mort Bay Consulting//DTD Configure//EN\u0026rdquo; \u0026ldquo;http://www.eclipse.org/jetty/configure.dtd\u0026quot;\u0026gt;\n\u0026lt;Configure class=\u0026ldquo;org.eclipse.jetty.webapp.WebAppContext\u0026rdquo;\u0026gt;\n\u0026lt;Set name=\u0026ldquo;sessionHandler\u0026rdquo;\u0026gt; \u0026lt;New class=\u0026ldquo;org.eclipse.jetty.server.session.SessionHandler\u0026rdquo;\u0026gt; \u0026lt;Arg\u0026gt; \u0026lt;New class=\u0026ldquo;org.eclipse.jetty.server.session.HashSessionManager\u0026rdquo;\u0026gt; \u0026lt;Set name=\u0026ldquo;storeDirectory\u0026rdquo;\u0026gt;jetty/sessions\u0026lt;/Set\u0026gt; \u0026lt;/New\u0026gt; \u0026lt;/Arg\u0026gt; \u0026lt;/New\u0026gt; \u0026lt;/Set\u0026gt; \u0026lt;Get name=\u0026ldquo;ServletContext\u0026rdquo;\u0026gt; \u0026lt;Call name=\u0026ldquo;setInitParameter\u0026rdquo;\u0026gt; \u0026lt;Arg\u0026gt;driverSQL\u0026lt;/Arg\u0026gt; \u0026lt;Arg\u0026gt;com.","tags":[],"text":"la documentation sur le net est obscure quant à la manière d\u0026rsquo;initialiser les paramètres de contexte avec jetty (hors du web.xml dans le webdefault.xml (équivalent du host.xml de tomcat)).\nj\u0026rsquo;ai cherché, cherché et cherché\u0026hellip;\net puis j\u0026rsquo;ai trouvé :) le nouveau code est le suivant : \u0026lt;?xml version=\u0026ldquo;1.0\u0026rdquo; encoding=\u0026ldquo;iso-8859-1\u0026rdquo;?\u0026gt; \u0026lt;!doctype configure public \u0026ldquo;-//mort bay consulting//dtd configure//en\u0026rdquo; \u0026ldquo;http://www.eclipse.org/jetty/configure.dtd\u0026quot;\u0026gt;\n\u0026lt;configure class=\u0026ldquo;org.eclipse.jetty.webapp.webappcontext\u0026rdquo;\u0026gt;\n\u0026lt;set name=\u0026ldquo;sessionhandler\u0026rdquo;\u0026gt; \u0026lt;new class=\u0026ldquo;org.eclipse.jetty.server.session.sessionhandler\u0026rdquo;\u0026gt; \u0026lt;arg\u0026gt; \u0026lt;new class=\u0026ldquo;org.eclipse.jetty.server.session.hashsessionmanager\u0026rdquo;\u0026gt; \u0026lt;set name=\u0026ldquo;storedirectory\u0026rdquo;\u0026gt;jetty/sessions\u0026lt;/set\u0026gt; \u0026lt;/new\u0026gt; \u0026lt;/arg\u0026gt; \u0026lt;/new\u0026gt; \u0026lt;/set\u0026gt; \u0026lt;get name=\u0026ldquo;servletcontext\u0026rdquo;\u0026gt; \u0026lt;call name=\u0026ldquo;setinitparameter\u0026rdquo;\u0026gt; \u0026lt;arg\u0026gt;driversql\u0026lt;/arg\u0026gt; \u0026lt;arg\u0026gt;com.mysql.jdbc.driver\u0026lt;/arg\u0026gt; \u0026lt;/call\u0026gt; \u0026lt;/get\u0026gt; \u0026lt;/configure\u0026gt; l\u0026rsquo;ancien code était le suivant : \u0026lt;?xml version=\u0026ldquo;1.0\u0026rdquo; encoding=\u0026ldquo;iso-8859-1\u0026rdquo;?\u0026gt; \u0026lt;!doctype configure public \u0026ldquo;-//mort bay consulting//dtd configure//en\u0026rdquo; \u0026ldquo;http://www.eclipse.org/jetty/configure.dtd\u0026quot;\u0026gt;\n\u0026lt;configure class=\u0026ldquo;org.eclipse.jetty.webapp.webappcontext\u0026rdquo;\u0026gt; \u0026lt;set name=\u0026ldquo;sessionhandler\u0026rdquo;\u0026gt; \u0026lt;new class=\u0026ldquo;org.eclipse.jetty.server.session.sessionhandler\u0026rdquo;\u0026gt; \u0026lt;arg\u0026gt; \u0026lt;new class=\u0026ldquo;org.eclipse.jetty.server.session.hashsessionmanager\u0026rdquo;\u0026gt; \u0026lt;set name=\u0026ldquo;storedirectory\u0026rdquo;\u0026gt;jetty-sessions\u0026lt;/set\u0026gt; \u0026lt;/new\u0026gt; \u0026lt;/arg\u0026gt; \u0026lt;/new\u0026gt; \u0026lt;/set\u0026gt; \u0026lt;set name=\u0026ldquo;initparams\u0026rdquo;\u0026gt; \u0026lt;map\u0026gt;\n\u0026amp;lt;entry\u0026amp;gt; \u0026lt;item\u0026gt;driversql\u0026lt;/item\u0026gt; \u0026lt;item\u0026gt;com.mysql.jdbc.driver\u0026lt;/item\u0026gt; \u0026lt;/entry\u0026gt; \u0026lt;/map\u0026gt; \u0026lt;/set\u0026gt; \u0026lt;/configure\u0026gt; ce n\u0026rsquo;est pas très différent mais il fallait trouver, la documentation en ligne n\u0026rsquo;en parlant pas ! en espérant que ça vous fasse économiser de précieuses heures\u0026hellip; a vos servletcontext.getinitparameter !!!\n","title":"Jetty 8 et paramètres d'initialisation"},{"date":"2012-07-17","image":"","imageAlt":"","link":"http://example.org/posts/2012-07-17-servlets-et-encoding/","summary":"J\u0026rsquo;ai eu des petit soucis avec le charset\u0026hellip;\nUn svi envoyait bien \u0026ldquo;text/csv; charset=utf-8\u0026rdquo; (curl) mais pour une raison x ou y, mon ihm qui l\u0026rsquo;appelait voyait \u0026ldquo;text/plain;charset=ISO-8859-1\u0026rdquo; ce qui faisait que le fichier était mal affiché.\nDans le code ci-dessous, j\u0026rsquo;ouvre une connection et récupère le charset afin d\u0026rsquo;initialiser l\u0026rsquo;InputStreamReader et commencer les lectures\u0026hellip; URL url = new URL(sviUrl); URLConnection conn = url.openConnection();\nconn.connect(); InputStream in = null; try { String charset = \u0026ldquo;ISO-8859-1\u0026rdquo;; String contentType = conn.","tags":[],"text":"j\u0026rsquo;ai eu des petit soucis avec le charset\u0026hellip;\nun svi envoyait bien \u0026ldquo;text/csv; charset=utf-8\u0026rdquo; (curl) mais pour une raison x ou y, mon ihm qui l\u0026rsquo;appelait voyait \u0026ldquo;text/plain;charset=iso-8859-1\u0026rdquo; ce qui faisait que le fichier était mal affiché.\ndans le code ci-dessous, j\u0026rsquo;ouvre une connection et récupère le charset afin d\u0026rsquo;initialiser l\u0026rsquo;inputstreamreader et commencer les lectures\u0026hellip; url url = new url(sviurl); urlconnection conn = url.openconnection();\nconn.connect(); inputstream in = null; try { string charset = \u0026ldquo;iso-8859-1\u0026rdquo;; string contenttype = conn.getcontenttype(); if (contenttype != null \u0026amp;\u0026amp; contenttype.indexof(\u0026quot;;charset=\u0026quot;) \u0026gt;= 0) { contenttype = contenttype.substring(contenttype.indexof(\u0026quot;;charset=\u0026quot;)+9); charset = contenttype.trim(); } in = conn.getinputstream(); inputstreamreader inr = new inputstreamreader(url.openstream(), charset); writer out = resp.getwriter(); try { ioutils.copy(inr, out); } finally { inr.close(); } } finally { if (in != null) { in.close(); } } ","title":"Servlets et encoding..."},{"date":"2012-07-16","image":"","imageAlt":"","link":"http://example.org/posts/2012-07-16-mysql-importer-un-fichier-csv/","summary":"Pour charger un fichier csv dans une table on peut utiliser la commande suivante : mysql\u0026gt; load data infile \u0026lsquo;/path/to/file.csv\u0026rsquo; into table mytable character set \u0026lsquo;utf8\u0026rsquo; fields terminated by \u0026lsquo;;\u0026rsquo; IGNORE 1 lines; Query OK, 786 rows affected (0.13 sec) Records: 786 Deleted: 0 Skipped: 0 Warnings: 0 Ici, le charset est spécifié et la première ligne du fichier CSV est ignorée (titre des colonnes).","tags":[],"text":"pour charger un fichier csv dans une table on peut utiliser la commande suivante : mysql\u0026gt; load data infile \u0026lsquo;/path/to/file.csv\u0026rsquo; into table mytable character set \u0026lsquo;utf8\u0026rsquo; fields terminated by \u0026lsquo;;\u0026rsquo; ignore 1 lines; query ok, 786 rows affected (0.13 sec) records: 786 deleted: 0 skipped: 0 warnings: 0 ici, le charset est spécifié et la première ligne du fichier csv est ignorée (titre des colonnes).\n","title":"mysql, importer un fichier csv"},{"date":"2012-07-16","image":"","imageAlt":"","link":"http://example.org/posts/2012-07-16-bash-recuperer-les-noms-de-fichiers-renvoyes-par-diff-rb-brief/","summary":"La commande \u0026ldquo;diff -rb \u0026ndash;brief\u0026rdquo; génère des lignes user-friendly qui sont malheureusement localisées. Pour récupérer le nom des fichiers qui diffèrent, il est possible d\u0026rsquo;utiliser la commande lsdiff du package patchutils. $ sudo apt-get install patchutils $ files_to_transfer=$(diff -x \u0026lsquo;*.zip\u0026rsquo; -x \u0026lsquo;.svn\u0026rsquo; -rb -U 1 fitnesse-install/FitNesseRoot/FrontPage/Project $dist_install/FrontPage/Project | lsdiff) ","tags":[],"text":"la commande \u0026ldquo;diff -rb \u0026ndash;brief\u0026rdquo; génère des lignes user-friendly qui sont malheureusement localisées. pour récupérer le nom des fichiers qui diffèrent, il est possible d\u0026rsquo;utiliser la commande lsdiff du package patchutils. $ sudo apt-get install patchutils $ files_to_transfer=$(diff -x \u0026lsquo;*.zip\u0026rsquo; -x \u0026lsquo;.svn\u0026rsquo; -rb -u 1 fitnesse-install/fitnesseroot/frontpage/project $dist_install/frontpage/project | lsdiff) ","title":"bash, récupérer les noms de fichiers renvoyés par diff -rb --brief"},{"date":"2012-07-16","image":"","imageAlt":"","link":"http://example.org/posts/2012-07-16-python-unicode/","summary":"\nunicodedata.name(u\u0026quot;é\u0026quot;) \u0026lsquo;LATIN SMALL LETTER E WITH ACUTE\u0026rsquo; print u\u0026quot;e accent aigu : \\N{LATIN SMALL LETTER E WITH ACUTE}\u0026quot; e accent aigu : é ","tags":[],"text":"\nunicodedata.name(u\u0026quot;é\u0026quot;) \u0026lsquo;latin small letter e with acute\u0026rsquo; print u\u0026quot;e accent aigu : \\n{latin small letter e with acute}\u0026quot; e accent aigu : é ","title":"python, unicode..."},{"date":"2012-07-16","image":"","imageAlt":"","link":"http://example.org/posts/2012-07-16-python-bash-et-encoding/","summary":"En python, lorsque la sortie n\u0026rsquo;est pas de type tty, l\u0026rsquo;encoding est \u0026ldquo;ascii\u0026rdquo; ce qui provoque des erreurs sur les caractères accentués. La solution est d\u0026rsquo;exporter la variable PYTHONIOENCODING qui définit l\u0026rsquo;encoding à utiliser. $ python a.py é $ python a.py | cat Traceback (most recent call last): File \u0026ldquo;a.py\u0026rdquo;, line 3, in print u\u0026quot;\\xe9\u0026quot;; UnicodeEncodeError: \u0026lsquo;ascii\u0026rsquo; codec can\u0026rsquo;t encode character u\u0026rsquo;\\xe9\u0026rsquo; in position 0: ordinal not in range(128) $ export PYTHONIOENCODING=utf-8 $ python a.","tags":[],"text":"en python, lorsque la sortie n\u0026rsquo;est pas de type tty, l\u0026rsquo;encoding est \u0026ldquo;ascii\u0026rdquo; ce qui provoque des erreurs sur les caractères accentués. la solution est d\u0026rsquo;exporter la variable pythonioencoding qui définit l\u0026rsquo;encoding à utiliser. $ python a.py é $ python a.py | cat traceback (most recent call last): file \u0026ldquo;a.py\u0026rdquo;, line 3, in print u\u0026quot;\\xe9\u0026quot;; unicodeencodeerror: \u0026lsquo;ascii\u0026rsquo; codec can\u0026rsquo;t encode character u\u0026rsquo;\\xe9\u0026rsquo; in position 0: ordinal not in range(128) $ export pythonioencoding=utf-8 $ python a.py | cat é $ une autre solution est de changer l\u0026rsquo;encoding de stdout\u0026hellip; #!/usr/bin/python\n-- coding: utf-8 -- import sys import codecs import locale\nsys.stdout = codecs.getwriter(locale.getpreferredencoding())(sys.stdout)\nprint u\u0026quot;é\u0026quot; ","title":"python, bash et encoding..."},{"date":"2012-07-13","image":"","imageAlt":"","link":"http://example.org/posts/2012-07-13-bash-moreutils/","summary":"Je viens de découvrir un paquet mettant à disposition des outils bien sympathiques pour faciliter l\u0026rsquo;écriture de scripts bash. Il s\u0026rsquo;agit du paquet moreutils $ sudo apt-get install moreutils Exemples d\u0026rsquo;utilisation : Pour envoyer un mail si des données sont lues sur l\u0026rsquo;entrée standard\u0026hellip; $ find . -name core | ifne mail -s \u0026ldquo;Core files found\u0026rdquo; root\nPour réécrire dans un même fichier sans avoir à créer un fichier temporaire\u0026hellip; $ sed \u0026lsquo;\u0026hellip;\u0026rsquo; file | grep \u0026lsquo;\u0026hellip;\u0026rsquo; | sponge file ","tags":[],"text":"je viens de découvrir un paquet mettant à disposition des outils bien sympathiques pour faciliter l\u0026rsquo;écriture de scripts bash. il s\u0026rsquo;agit du paquet moreutils $ sudo apt-get install moreutils exemples d\u0026rsquo;utilisation : pour envoyer un mail si des données sont lues sur l\u0026rsquo;entrée standard\u0026hellip; $ find . -name core | ifne mail -s \u0026ldquo;core files found\u0026rdquo; root\npour réécrire dans un même fichier sans avoir à créer un fichier temporaire\u0026hellip; $ sed \u0026lsquo;\u0026hellip;\u0026rsquo; file | grep \u0026lsquo;\u0026hellip;\u0026rsquo; | sponge file ","title":"bash, moreutils"},{"date":"2012-07-03","image":"","imageAlt":"","link":"http://example.org/posts/2012-07-03-url-et-mot-de-passe/","summary":"Pour réduire mes logs, je viens d\u0026rsquo;utiliser la syntaxe suivante : http://user:password@host:port\u0026hellip; Ici, le mot de passe doit être encodé lorsque des caractères non alphanumériques sont utilisés (comprenez 0-9a-zA-Z). Chaque caractère non alphanumérique doit être encodé avec le format \u0026ldquo;%xx\u0026rdquo; où xx sera remplacé par le code hexadécimal du caractère. Exemple:\ndef conv(pw): r = \u0026rsquo;' for c in pw: if not c.isalpha(): r += \u0026lsquo;%\u0026rsquo; + \u0026lsquo;%X\u0026rsquo; % ord(c) else: r += c return r","tags":[],"text":"pour réduire mes logs, je viens d\u0026rsquo;utiliser la syntaxe suivante : http://user:password@host:port\u0026hellip; ici, le mot de passe doit être encodé lorsque des caractères non alphanumériques sont utilisés (comprenez 0-9a-za-z). chaque caractère non alphanumérique doit être encodé avec le format \u0026ldquo;%xx\u0026rdquo; où xx sera remplacé par le code hexadécimal du caractère. exemple:\ndef conv(pw): r = \u0026rsquo;' for c in pw: if not c.isalpha(): r += \u0026lsquo;%\u0026rsquo; + \u0026lsquo;%x\u0026rsquo; % ord(c) else: r += c return r\nconv(u\u0026rsquo;tuéàtu\u0026rsquo;) u\u0026rsquo;tu\\xe9\\xe0tu\u0026rsquo;\n","title":"url et mot de passe"},{"date":"2012-07-02","image":"","imageAlt":"","link":"http://example.org/posts/2012-07-02-bash-fautes-sur-commande-cd/","summary":"Si l\u0026rsquo;option cdspell est positionnée, les fautes de frappe dans la commande cd seront corrigées. Les erreurs prises en compte seront les caractères transposés, les caractères manquants et les caractères trop nombreux. Si un correctif est trouvé, le chemin utilisé pour le cd sera affiché et la commande exécutée. L\u0026rsquo;option n\u0026rsquo;est utilisée que dans le cas des shells intéractifs.\n$ shopt -s cdspell $ cd /ec /etc $ shopt -u cdspell ","tags":["bash","cdspell"],"text":"si l\u0026rsquo;option cdspell est positionnée, les fautes de frappe dans la commande cd seront corrigées. les erreurs prises en compte seront les caractères transposés, les caractères manquants et les caractères trop nombreux. si un correctif est trouvé, le chemin utilisé pour le cd sera affiché et la commande exécutée. l\u0026rsquo;option n\u0026rsquo;est utilisée que dans le cas des shells intéractifs.\n$ shopt -s cdspell $ cd /ec /etc $ shopt -u cdspell ","title":"bash, fautes sur commande cd..."},{"date":"2012-06-28","image":"","imageAlt":"","link":"http://example.org/posts/2012-06-28-bash-lancer-une-commande-a-intervalle-regulier/","summary":"watch -n 10 date ","tags":["bash","commande","intervalle","watch"],"text":"watch -n 10 date ","title":"bash, lancer une commande à intervalle régulier"},{"date":"2012-06-26","image":"","imageAlt":"","link":"http://example.org/posts/2012-06-26-mysql-export-d-une-table-au-format-csv/","summary":"Il est possible d\u0026rsquo;exporter le contenu d\u0026rsquo;une table dans un fichier via une requête mysql. Voici la syntaxe : SELECT champ1,champ2 FROM matable INTO OUTFILE \u0026rsquo;lefichier.csv\u0026rsquo; FIELDS TERMINATED BY \u0026lsquo;;\u0026rsquo; OPTIONALLY ENCLOSED BY \u0026lsquo;\u0026quot;\u0026rsquo;; ","tags":[],"text":"il est possible d\u0026rsquo;exporter le contenu d\u0026rsquo;une table dans un fichier via une requête mysql. voici la syntaxe : select champ1,champ2 from matable into outfile \u0026rsquo;lefichier.csv\u0026rsquo; fields terminated by \u0026lsquo;;\u0026rsquo; optionally enclosed by \u0026lsquo;\u0026quot;\u0026rsquo;; ","title":"mysql, export d'une table au format csv"},{"date":"2012-06-22","image":"","imageAlt":"","link":"http://example.org/posts/2012-06-22-bash-appel-callback-a-la-sortie/","summary":"Il est possible en bash d\u0026rsquo;appeler des méthodes lorsque de la fin du script est atteinte et ce même s\u0026rsquo;il y a une erreur. Ci-dessous, le script appellera cleanup_err puis cleanup_ok lorsque false sera atteint. #!/bin/bash set -e\nfunction cleanup_err { echo cleanup_err }\nfunction cleanup_ok { echo cleanup_ok }\ntrap cleanup_ok EXIT trap cleanup_err ERR\nfalse C\u0026rsquo;est bien pratique pour nettoyer les fichiers et répertoires temporaires :)","tags":[],"text":"il est possible en bash d\u0026rsquo;appeler des méthodes lorsque de la fin du script est atteinte et ce même s\u0026rsquo;il y a une erreur. ci-dessous, le script appellera cleanup_err puis cleanup_ok lorsque false sera atteint. #!/bin/bash set -e\nfunction cleanup_err { echo cleanup_err }\nfunction cleanup_ok { echo cleanup_ok }\ntrap cleanup_ok exit trap cleanup_err err\nfalse c\u0026rsquo;est bien pratique pour nettoyer les fichiers et répertoires temporaires :)\n","title":"bash, appel callback à la sortie..."},{"date":"2012-06-15","image":"","imageAlt":"","link":"http://example.org/posts/2012-06-15-emacs-afficher-le-nom-de-fichier-complet-dans-la-modeline/","summary":" ","tags":[],"text":" ","title":"emacs, afficher le nom de fichier complet dans la modeline"},{"date":"2012-06-06","image":"","imageAlt":"","link":"http://example.org/posts/2012-06-06-graphiques-en-ligne/","summary":"Pour tracer des droites, voir leur intersections\u0026hellip; http://fooplot.com/","tags":[],"text":"pour tracer des droites, voir leur intersections\u0026hellip; http://fooplot.com/\n","title":"Graphiques en ligne"},{"date":"2012-05-24","image":"","imageAlt":"","link":"http://example.org/posts/2012-05-24-bash-sommer-une-colonne/","summary":"Comment sommer des valeurs provenant d\u0026rsquo;un fichier ou de la sortie standard. Voici plusieurs solutions\u0026hellip;\nA la awk : A la tr : A la paste : Moi je choisis la troisième solution. Elle est plus courte, simple et efficace !!","tags":[],"text":"comment sommer des valeurs provenant d\u0026rsquo;un fichier ou de la sortie standard. voici plusieurs solutions\u0026hellip;\na la awk : a la tr : a la paste : moi je choisis la troisième solution. elle est plus courte, simple et efficace !!\n","title":"bash, sommer une colonne...."},{"date":"2012-05-24","image":"","imageAlt":"","link":"http://example.org/posts/2012-05-24-bash-presse-papier/","summary":"Il est possible de copier un fichier ou la sortie standard dans le presse papier\u0026hellip; Il suffit d\u0026rsquo;utiliser la commande xselExemple :\nLa commande xclip un peu similaire permet la même chose\u0026hellip;","tags":[],"text":"il est possible de copier un fichier ou la sortie standard dans le presse papier\u0026hellip; il suffit d\u0026rsquo;utiliser la commande xselexemple :\nla commande xclip un peu similaire permet la même chose\u0026hellip;\n","title":"bash, presse-papier"},{"date":"2012-05-24","image":"","imageAlt":"","link":"http://example.org/posts/2012-05-24-python-marre-des-accents-en-java-remplacez-les-par-de-l-unicode/","summary":"\n$ cat tounicode.py #!/usr/bin/python\nimport re import sys\ns = sys.argv[1].decode(\u0026lsquo;utf8\u0026rsquo;)\nprint re.sub(\u0026rsquo;\\\\x\u0026rsquo;, \u0026lsquo;\\u00\u0026rsquo;, re.sub(\u0026rsquo;'$\u0026rsquo;, \u0026lsquo;\u0026rsquo;, re.sub(\u0026rsquo;^u'\u0026rsquo;, \u0026lsquo;\u0026rsquo;, repr(s))))\n$ python tounicode.py \u0026ldquo;salut beauté\u0026rdquo; salut beaut\\u00e9 ","tags":[],"text":"\n$ cat tounicode.py #!/usr/bin/python\nimport re import sys\ns = sys.argv[1].decode(\u0026lsquo;utf8\u0026rsquo;)\nprint re.sub(\u0026rsquo;\\\\x\u0026rsquo;, \u0026lsquo;\\u00\u0026rsquo;, re.sub(\u0026rsquo;'$\u0026rsquo;, \u0026lsquo;\u0026rsquo;, re.sub(\u0026rsquo;^u'\u0026rsquo;, \u0026lsquo;\u0026rsquo;, repr(s))))\n$ python tounicode.py \u0026ldquo;salut beauté\u0026rdquo; salut beaut\\u00e9 ","title":"python, marre des accents en java : remplacez les par de l'unicode !"},{"date":"2012-05-15","image":"","imageAlt":"","link":"http://example.org/posts/2012-05-15-svn-revert-d-un-commit/","summary":"Un mauvais commit sur un fichier ? Pas de problème, il peut être inversé :) svn merge -c -[bad_revision] [repository_url] Attention au - devant la mauvaise révision\u0026hellip; Ne restera plus qu\u0026rsquo;à commiter l\u0026rsquo;inversion","tags":[],"text":"un mauvais commit sur un fichier ? pas de problème, il peut être inversé :) svn merge -c -[bad_revision] [repository_url] attention au - devant la mauvaise révision\u0026hellip; ne restera plus qu\u0026rsquo;à commiter l\u0026rsquo;inversion\n","title":"svn, revert d'un commit"},{"date":"2012-05-04","image":"","imageAlt":"","link":"http://example.org/posts/2012-05-04-mysqlimport/","summary":"Le fichier doit porter le nom de la table à l\u0026rsquo;extension près. Ici les options utilisées sont :\n-delete pour vider la table avant l\u0026rsquo;import - -fields-terminated-by pour le séparateur entre les champs - -lines-terminated-by pour le caractère de fin de ligne (ici DOS/WINDOWS) ","tags":[],"text":"le fichier doit porter le nom de la table à l\u0026rsquo;extension près. ici les options utilisées sont :\n-delete pour vider la table avant l\u0026rsquo;import - -fields-terminated-by pour le séparateur entre les champs - -lines-terminated-by pour le caractère de fin de ligne (ici dos/windows) ","title":"mysqlimport"},{"date":"2012-05-04","image":"","imageAlt":"","link":"http://example.org/posts/2012-05-04-python-conversion-d-un-fichier-d-iso8859-en-utf8/","summary":" #!/bin/python\nimport sys\nif len(sys.argv) != 3: print \u0026lsquo;usage: python iso8859toutf8.py [infile] [outfile]\u0026rsquo; sys.exit(0)\nwith open(sys.argv[2], \u0026lsquo;w\u0026rsquo;) as fout: with open(sys.argv[1], \u0026lsquo;r\u0026rsquo;) as fin: data = fin.read().decode(\u0026lsquo;iso8859\u0026rsquo;) while data: fout.write(data.encode(\u0026lsquo;utf8\u0026rsquo;)) data = fin.read().decode(\u0026lsquo;iso8859\u0026rsquo;) ","tags":[],"text":" #!/bin/python\nimport sys\nif len(sys.argv) != 3: print \u0026lsquo;usage: python iso8859toutf8.py [infile] [outfile]\u0026rsquo; sys.exit(0)\nwith open(sys.argv[2], \u0026lsquo;w\u0026rsquo;) as fout: with open(sys.argv[1], \u0026lsquo;r\u0026rsquo;) as fin: data = fin.read().decode(\u0026lsquo;iso8859\u0026rsquo;) while data: fout.write(data.encode(\u0026lsquo;utf8\u0026rsquo;)) data = fin.read().decode(\u0026lsquo;iso8859\u0026rsquo;) ","title":"python, conversion d'un fichier d'iso8859 en utf8"},{"date":"2012-04-24","image":"","imageAlt":"","link":"http://example.org/posts/2012-04-24-python-envoi-d-un-mail-avec-un-fichier-en-attachement/","summary":" ","tags":[],"text":" ","title":"python, envoi d'un mail avec un fichier en attachement"},{"date":"2012-04-24","image":"","imageAlt":"","link":"http://example.org/posts/2012-04-24-python-envoi-d-un-mail-texte/","summary":" ","tags":[],"text":" ","title":"python, envoi d'un mail texte"},{"date":"2012-04-10","image":"","imageAlt":"","link":"http://example.org/posts/2012-04-10-quelle-est-la-plus-longue/","summary":"\u0026hellip; ligne ! Elle peut être donnée via l\u0026rsquo;option méconnue -L de la commande wc\u0026hellip; $ find . -name \u0026lsquo;.java\u0026rsquo; | sed -e \u0026rsquo;s/.///\u0026rsquo; | wc -L 73 ","tags":[],"text":"\u0026hellip; ligne ! elle peut être donnée via l\u0026rsquo;option méconnue -l de la commande wc\u0026hellip; $ find . -name \u0026lsquo;.java\u0026rsquo; | sed -e \u0026rsquo;s/.///\u0026rsquo; | wc -l 73 ","title":"Quelle est la plus longue..."},{"date":"2012-04-03","image":"","imageAlt":"","link":"http://example.org/posts/2012-04-03-python-parseur-xml/","summary":"BeautifulSoup est une petite bibliothèque fort sympathique que j\u0026rsquo;ai utilisée pour parser et publier du contenu dans des pages Wiki\u0026hellip; Le tout en python :)\nElle fait sa \u0026ldquo;soupe\u0026rdquo; pour parser et faire économiser des heures aux pauvres développeurs que nous sommes ! Site de BeautifulSoup","tags":[],"text":"beautifulsoup est une petite bibliothèque fort sympathique que j\u0026rsquo;ai utilisée pour parser et publier du contenu dans des pages wiki\u0026hellip; le tout en python :)\nelle fait sa \u0026ldquo;soupe\u0026rdquo; pour parser et faire économiser des heures aux pauvres développeurs que nous sommes ! site de beautifulsoup\n","title":"Python, parseur XML"},{"date":"2012-03-29","image":"","imageAlt":"","link":"http://example.org/posts/2012-03-29-xpath-et-dernier-element-d-une-liste/","summary":"Pour ne récupérer que le dernier élément d\u0026rsquo;une liste (attention aux parenthèses) :\n(.//td[@name=\u0026lsquo;ID\u0026rsquo;]/..)[last()]","tags":[],"text":"pour ne récupérer que le dernier élément d\u0026rsquo;une liste (attention aux parenthèses) :\n(.//td[@name=\u0026lsquo;id\u0026rsquo;]/..)[last()]\n","title":"Xpath et dernier élément d'une liste..."},{"date":"2012-03-29","image":"","imageAlt":"","link":"http://example.org/posts/2012-03-29-xpath-et-recherche-vide/","summary":"Recherche des lignes d\u0026rsquo;un tableau ayant dans la 3e colonne une valeur à XXX :\nSi XXX est vide : //table/tr/td[3][not(text())]/..\nSinon //table/tr/td[3][text() = \u0026lsquo;\u0026quot; + XXX + \u0026ldquo;\u0026rsquo;]/..","tags":[],"text":"recherche des lignes d\u0026rsquo;un tableau ayant dans la 3e colonne une valeur à xxx :\nsi xxx est vide : //table/tr/td[3][not(text())]/..\nsinon //table/tr/td[3][text() = \u0026lsquo;\u0026quot; + xxx + \u0026ldquo;\u0026rsquo;]/..\n","title":"XPath et recherche vide..."},{"date":"2012-03-21","image":"","imageAlt":"","link":"http://example.org/posts/2012-03-21-listes-de-mots/","summary":"http://www.3zsoftware.com/fr/wordmagic/listes.php","tags":[],"text":"http://www.3zsoftware.com/fr/wordmagic/listes.php\n","title":"Listes de mots..."},{"date":"2012-03-15","image":"","imageAlt":"","link":"http://example.org/posts/2012-03-15-mysqldump-un-insert-par-tuple/","summary":"mysqldump \u0026ndash;skip-extended-insert \u0026hellip;\ngénère un INSERT par ligne de la table.","tags":[],"text":"mysqldump \u0026ndash;skip-extended-insert \u0026hellip;\ngénère un insert par ligne de la table.\n","title":"Mysqldump : un insert par tuple..."},{"date":"2012-02-27","image":"","imageAlt":"","link":"http://example.org/posts/2012-02-27-ascii/","summary":" ","tags":[],"text":" ","title":"ascii"},{"date":"2012-02-17","image":"","imageAlt":"","link":"http://example.org/posts/2012-02-17-bareme/","summary":"$ export LC_NUMERIC=C; for S in $(seq 0 0.25 25); do F=$(echo scale=2; $S*20.0/25.0|bc); echo $S $F; done | column 0.00 0 5.25 4.20 10.50 8.40 15.75 12.60 21.00 16.80 0.25 .20 5.50 4.40 10.75 8.60 16.00 12.80 21.25 17.00 0.50 .40 5.75 4.60 11.00 8.80 16.25 13.00 21.50 17.20 0.75 .60 6.00 4.80 11.25 9.00 16.50 13.20 21.75 17.40 1.00 .80 6.25 5.00 11.50 9.20 16.75 13.40 22.00 17.60 1.","tags":[],"text":"$ export lc_numeric=c; for s in $(seq 0 0.25 25); do f=$(echo scale=2; $s*20.0/25.0|bc); echo $s $f; done | column 0.00 0 5.25 4.20 10.50 8.40 15.75 12.60 21.00 16.80 0.25 .20 5.50 4.40 10.75 8.60 16.00 12.80 21.25 17.00 0.50 .40 5.75 4.60 11.00 8.80 16.25 13.00 21.50 17.20 0.75 .60 6.00 4.80 11.25 9.00 16.50 13.20 21.75 17.40 1.00 .80 6.25 5.00 11.50 9.20 16.75 13.40 22.00 17.60 1.25 1.00 6.50 5.20 11.75 9.40 17.00 13.60 22.25 17.80 1.50 1.20 6.75 5.40 12.00 9.60 17.25 13.80 22.50 18.00 1.75 1.40 7.00 5.60 12.25 9.80 17.50 14.00 22.75 18.20 2.00 1.60 7.25 5.80 12.50 10.00 17.75 14.20 23.00 18.40 2.25 1.80 7.50 6.00 12.75 10.20 18.00 14.40 23.25 18.60 2.50 2.00 7.75 6.20 13.00 10.40 18.25 14.60 23.50 18.80 2.75 2.20 8.00 6.40 13.25 10.60 18.50 14.80 23.75 19.00 3.00 2.40 8.25 6.60 13.50 10.80 18.75 15.00 24.00 19.20 3.25 2.60 8.50 6.80 13.75 11.00 19.00 15.20 24.25 19.40 3.50 2.80 8.75 7.00 14.00 11.20 19.25 15.40 24.50 19.60 3.75 3.00 9.00 7.20 14.25 11.40 19.50 15.60 24.75 19.80 4.00 3.20 9.25 7.40 14.50 11.60 19.75 15.80 25.00 20.00 4.25 3.40 9.50 7.60 14.75 11.80 20.00 16.00 4.50 3.60 9.75 7.80 15.00 12.00 20.25 16.20 4.75 3.80 10.00 8.00 15.25 12.20 20.50 16.40 5.00 4.00 10.25 8.20 15.50 12.40 20.75 16.60 ","title":"Barême"},{"date":"2012-02-17","image":"","imageAlt":"","link":"http://example.org/posts/2012-02-17-placements/","summary":"Tu as de l\u0026rsquo;argent et tu comptes le placer à un meilleur taux\u0026hellip; Combien de temps faudra-t-il bloquer cet argent à ce meilleur taux pour qu\u0026rsquo;il rapporte à nouveau (c\u0026rsquo;est à dire que la quinzaine perdue soit amortie\u0026hellip;)","tags":[],"text":"tu as de l\u0026rsquo;argent et tu comptes le placer à un meilleur taux\u0026hellip; combien de temps faudra-t-il bloquer cet argent à ce meilleur taux pour qu\u0026rsquo;il rapporte à nouveau (c\u0026rsquo;est à dire que la quinzaine perdue soit amortie\u0026hellip;)\n","title":"Placements"},{"date":"2012-01-18","image":"","imageAlt":"","link":"http://example.org/posts/2012-01-18-script-python-qui-affiche-les-couleurs-dans-un-terminal/","summary":" ","tags":[],"text":" ","title":"Script python qui affiche les couleurs dans un terminal"},{"date":"2012-01-16","image":"","imageAlt":"","link":"http://example.org/posts/2012-01-16-copie-de-fichier-en-concervant-l-arborescence/","summary":"$ mkdir toto/tutu/titi/ $ touch toto/tutu/titi/grosminet.txt $ mkdir tata $ cp \u0026ndash;parents toto/tutu/titi/grosminet.txt tata $ tree","tags":[],"text":"$ mkdir toto/tutu/titi/ $ touch toto/tutu/titi/grosminet.txt $ mkdir tata $ cp \u0026ndash;parents toto/tutu/titi/grosminet.txt tata $ tree\n","title":"Copie de fichier en concervant l'arborescence"},{"date":"2011-12-17","image":"","imageAlt":"","link":"http://example.org/posts/2011-12-17-mise-en-colonnes-en-shell/","summary":"Une petite commande plutot sympa pour afficher des résultats en colonnes et tout voir sur l\u0026rsquo;écran du terminal !\n$ python notes.py \u0026ndash;de 25 \u0026ndash;vers 20 \u0026ndash;pas 0.25 | column -c 80 0.00 =\u0026gt; 0.00 5.25 =\u0026gt; 4.20 10.50 =\u0026gt; 8.40 15.75 =\u0026gt; 12.60 21.00 =\u0026gt; 16.80 0.25 =\u0026gt; 0.20 5.50 =\u0026gt; 4.40 10.75 =\u0026gt; 8.60 16.00 =\u0026gt; 12.80 21.25 =\u0026gt; 17.00 0.50 =\u0026gt; 0.40 5.75 =\u0026gt; 4.60 11.00 =\u0026gt; 8.","tags":[],"text":"une petite commande plutot sympa pour afficher des résultats en colonnes et tout voir sur l\u0026rsquo;écran du terminal !\n$ python notes.py \u0026ndash;de 25 \u0026ndash;vers 20 \u0026ndash;pas 0.25 | column -c 80 0.00 =\u0026gt; 0.00 5.25 =\u0026gt; 4.20 10.50 =\u0026gt; 8.40 15.75 =\u0026gt; 12.60 21.00 =\u0026gt; 16.80 0.25 =\u0026gt; 0.20 5.50 =\u0026gt; 4.40 10.75 =\u0026gt; 8.60 16.00 =\u0026gt; 12.80 21.25 =\u0026gt; 17.00 0.50 =\u0026gt; 0.40 5.75 =\u0026gt; 4.60 11.00 =\u0026gt; 8.80 16.25 =\u0026gt; 13.00 21.50 =\u0026gt; 17.20 0.75 =\u0026gt; 0.60 6.00 =\u0026gt; 4.80 11.25 =\u0026gt; 9.00 16.50 =\u0026gt; 13.20 21.75 =\u0026gt; 17.40 1.00 =\u0026gt; 0.80 6.25 =\u0026gt; 5.00 11.50 =\u0026gt; 9.20 16.75 =\u0026gt; 13.40 22.00 =\u0026gt; 17.60 1.25 =\u0026gt; 1.00 6.50 =\u0026gt; 5.20 11.75 =\u0026gt; 9.40 17.00 =\u0026gt; 13.60 22.25 =\u0026gt; 17.80 1.50 =\u0026gt; 1.20 6.75 =\u0026gt; 5.40 12.00 =\u0026gt; 9.60 17.25 =\u0026gt; 13.80 22.50 =\u0026gt; 18.00 1.75 =\u0026gt; 1.40 7.00 =\u0026gt; 5.60 12.25 =\u0026gt; 9.80 17.50 =\u0026gt; 14.00 22.75 =\u0026gt; 18.20 2.00 =\u0026gt; 1.60 7.25 =\u0026gt; 5.80 12.50 =\u0026gt; 10.00 17.75 =\u0026gt; 14.20 23.00 =\u0026gt; 18.40 2.25 =\u0026gt; 1.80 7.50 =\u0026gt; 6.00 12.75 =\u0026gt; 10.20 18.00 =\u0026gt; 14.40 23.25 =\u0026gt; 18.60 2.50 =\u0026gt; 2.00 7.75 =\u0026gt; 6.20 13.00 =\u0026gt; 10.40 18.25 =\u0026gt; 14.60 23.50 =\u0026gt; 18.80 2.75 =\u0026gt; 2.20 8.00 =\u0026gt; 6.40 13.25 =\u0026gt; 10.60 18.50 =\u0026gt; 14.80 23.75 =\u0026gt; 19.00 3.00 =\u0026gt; 2.40 8.25 =\u0026gt; 6.60 13.50 =\u0026gt; 10.80 18.75 =\u0026gt; 15.00 24.00 =\u0026gt; 19.20 3.25 =\u0026gt; 2.60 8.50 =\u0026gt; 6.80 13.75 =\u0026gt; 11.00 19.00 =\u0026gt; 15.20 24.25 =\u0026gt; 19.40 3.50 =\u0026gt; 2.80 8.75 =\u0026gt; 7.00 14.00 =\u0026gt; 11.20 19.25 =\u0026gt; 15.40 24.50 =\u0026gt; 19.60 3.75 =\u0026gt; 3.00 9.00 =\u0026gt; 7.20 14.25 =\u0026gt; 11.40 19.50 =\u0026gt; 15.60 24.75 =\u0026gt; 19.80 4.00 =\u0026gt; 3.20 9.25 =\u0026gt; 7.40 14.50 =\u0026gt; 11.60 19.75 =\u0026gt; 15.80 25.00 =\u0026gt; 20.00 4.25 =\u0026gt; 3.40 9.50 =\u0026gt; 7.60 14.75 =\u0026gt; 11.80 20.00 =\u0026gt; 16.00 4.50 =\u0026gt; 3.60 9.75 =\u0026gt; 7.80 15.00 =\u0026gt; 12.00 20.25 =\u0026gt; 16.20 4.75 =\u0026gt; 3.80 10.00 =\u0026gt; 8.00 15.25 =\u0026gt; 12.20 20.50 =\u0026gt; 16.40 5.00 =\u0026gt; 4.00 10.25 =\u0026gt; 8.20 15.50 =\u0026gt; 12.40 20.75 =\u0026gt; 16.60\n","title":"Mise en colonnes en shell"},{"date":"2011-12-01","image":"","imageAlt":"","link":"http://example.org/posts/2011-12-01-droits-sql/","summary":"Pour générer les commandes SQL adéquates pour 3 types d\u0026rsquo;utilisateurs de la BD avec les grant mysql qui vont bien.\nfunction echo_grant_privileges() { local db=$1 local db_user=$2 local pswd_ro=${db_user}ro local pswd_rw=${db_user}rw local pswd_adm=${db_user}adm echo \u0026#34;GRANT SELECT ON $db.* TO ${db_user}ro identified by \u0026#39;${pswd_ro}\u0026#39;;\u0026#34; echo \u0026#34;GRANT SELECT,INSERT,UPDATE,DELETE ON $db.* TO ${db_user}rw identified by \u0026#39;${pswd_rw}\u0026#39;;\u0026#34; echo \u0026#34;GRANT SELECT,INSERT,UPDATE,DELETE,CREATE,DROP,INDEX,ALTER,CREATE TEMPORARY TABLES,LOCK TABLES, CREATE VIEW, SHOW VIEW ON $db.* TO ${db_user}adm identified by \u0026#39;${pswd_adm}\u0026#39;;\u0026#34; echo \u0026#34;flush privileges;\u0026#34; } $ echo_grant_privileges db toto GRANT SELECT ON db.","tags":["flush","grant","insert","mysql","on","privileges","select","user"],"text":"pour générer les commandes sql adéquates pour 3 types d\u0026rsquo;utilisateurs de la bd avec les grant mysql qui vont bien.\nfunction echo_grant_privileges() { local db=$1 local db_user=$2 local pswd_ro=${db_user}ro local pswd_rw=${db_user}rw local pswd_adm=${db_user}adm echo \u0026#34;grant select on $db.* to ${db_user}ro identified by \u0026#39;${pswd_ro}\u0026#39;;\u0026#34; echo \u0026#34;grant select,insert,update,delete on $db.* to ${db_user}rw identified by \u0026#39;${pswd_rw}\u0026#39;;\u0026#34; echo \u0026#34;grant select,insert,update,delete,create,drop,index,alter,create temporary tables,lock tables, create view, show view on $db.* to ${db_user}adm identified by \u0026#39;${pswd_adm}\u0026#39;;\u0026#34; echo \u0026#34;flush privileges;\u0026#34; } $ echo_grant_privileges db toto grant select on db.* to totoro identified by \u0026#39;totoro\u0026#39;; grant select,insert,update,delete on db.* to totorw identified by \u0026#39;totorw\u0026#39;; grant select,insert,update,delete,create,drop,index,alter,create temporary tables,lock tables, create view, show view on db.* to totoadm identified by \u0026#39;totoadm\u0026#39;; ","title":"Droits sql..."},{"date":"2011-11-29","image":"","imageAlt":"","link":"http://example.org/posts/2011-11-29-moteur-de-recherche-dans-navigateur/","summary":"Il est relativement simple de permettre à un site web de proposer un moteur de recherche dans le navigateur d\u0026rsquo;un client\u0026hellip;\nPour cela il faut proposer un fichier mysearch.xml\n\u0026lt;?xml version=\u0026#34;1.0\u0026#34;?\u0026gt; \u0026lt;OpenSearchDescription xmlns=\u0026#34;http://a9.com/-/spec/opensearch/1.1/\u0026#34;\u0026gt; \u0026lt;ShortName\u0026gt;mysearch\u0026lt;/ShortName\u0026gt; \u0026lt;Description\u0026gt;Ma petite description\u0026lt;/Description\u0026gt; \u0026lt;Image height=\u0026#34;16\u0026#34; width=\u0026#34;16\u0026#34; type=\u0026#34;image/x-icon\u0026#34;\u0026gt;http://yoursite.example.com/favicon.ico\u0026lt;/Image\u0026gt; \u0026lt;Url type=\u0026#34;text/html\u0026#34; method=\u0026#34;get\u0026#34; template=\u0026#34;http://yoursite.example.com/search?q={searchTerms}\u0026#34;/\u0026gt; \u0026lt;/OpenSearchDescription\u0026gt; Et le proposer dans votre page html via la balise link\n\u0026lt;html\u0026gt; \u0026lt;head\u0026gt; \u0026lt;title\u0026gt;Example - Moteur de recherche OpenSearch\u0026lt;/title\u0026gt; \u0026lt;link rel=\u0026#34;search\u0026#34; type=\u0026#34;application/opensearchdescription+xml\u0026#34; href=\u0026#34;mysearch.xml\u0026#34; title=\u0026#34;mysearch\u0026#34; /\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; Votre page.","tags":["description","moteur","navigateur","open","recherche","search"],"text":"il est relativement simple de permettre à un site web de proposer un moteur de recherche dans le navigateur d\u0026rsquo;un client\u0026hellip;\npour cela il faut proposer un fichier mysearch.xml\n\u0026lt;?xml version=\u0026#34;1.0\u0026#34;?\u0026gt; \u0026lt;opensearchdescription xmlns=\u0026#34;http://a9.com/-/spec/opensearch/1.1/\u0026#34;\u0026gt; \u0026lt;shortname\u0026gt;mysearch\u0026lt;/shortname\u0026gt; \u0026lt;description\u0026gt;ma petite description\u0026lt;/description\u0026gt; \u0026lt;image height=\u0026#34;16\u0026#34; width=\u0026#34;16\u0026#34; type=\u0026#34;image/x-icon\u0026#34;\u0026gt;http://yoursite.example.com/favicon.ico\u0026lt;/image\u0026gt; \u0026lt;url type=\u0026#34;text/html\u0026#34; method=\u0026#34;get\u0026#34; template=\u0026#34;http://yoursite.example.com/search?q={searchterms}\u0026#34;/\u0026gt; \u0026lt;/opensearchdescription\u0026gt; et le proposer dans votre page html via la balise link\n\u0026lt;html\u0026gt; \u0026lt;head\u0026gt; \u0026lt;title\u0026gt;example - moteur de recherche opensearch\u0026lt;/title\u0026gt; \u0026lt;link rel=\u0026#34;search\u0026#34; type=\u0026#34;application/opensearchdescription+xml\u0026#34; href=\u0026#34;mysearch.xml\u0026#34; title=\u0026#34;mysearch\u0026#34; /\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; votre page... \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; ","title":"Moteur de recherche dans navigateur"},{"date":"2011-11-29","image":"","imageAlt":"","link":"http://example.org/posts/2011-11-29-petit-serveur-de-pages-statiques-sur-sa-machine-perso/","summary":"Installation d\u0026rsquo;apache :\nPages statiques :\nOuvrir le browser\nhttp://127.0.0.1/~me/hello.html\n:)","tags":[],"text":"installation d\u0026rsquo;apache :\npages statiques :\nouvrir le browser\nhttp://127.0.0.1/~me/hello.html\n:)\n","title":"Petit serveur de pages statiques sur sa machine perso..."},{"date":"2011-11-25","image":"","imageAlt":"","link":"http://example.org/posts/2011-11-25-tri-de-numeros-de-version/","summary":"Sinon si l\u0026rsquo;option est disponible (version récente de la commande)","tags":[],"text":" sinon si l\u0026rsquo;option est disponible (version récente de la commande)\n","title":"Tri de numéros de version"},{"date":"2011-11-23","image":"","imageAlt":"","link":"http://example.org/posts/2011-11-23-entites-html/","summary":"http://matrix.samizdat.net/serveurs/www/html/spec_html4.0/sgml/entities.html","tags":[],"text":"http://matrix.samizdat.net/serveurs/www/html/spec_html4.0/sgml/entities.html\n","title":"Entités html"},{"date":"2011-11-22","image":"","imageAlt":"","link":"http://example.org/posts/2011-11-22-encoding/","summary":"Hudson crie !\n[line 4: the character at position 51 is not allowed [Demande(0,0,affichage);INCOMPLET;;OUI;pour un problÃ¨me d\u0026rsquo;affichage.;;], \u0026hellip; C\u0026rsquo;est dû à l\u0026rsquo;encoding qui n\u0026rsquo;est pas le bon lors de la lecture du fichier.\nIl ouvre en ISO-8859-1 alors que c\u0026rsquo;est de l\u0026rsquo;UTF-8.\nSolution :\nBufferedReader reader = new BufferedReader(new InputStreamReader( new FileInputStream(f.getAbsolutePath()), \u0026ldquo;UTF-8\u0026rdquo;)); Référence : http://www.jmdoudoux.fr/java/dej/chap-encodage.htm","tags":[],"text":"hudson crie !\n[line 4: the character at position 51 is not allowed [demande(0,0,affichage);incomplet;;oui;pour un problã¨me d\u0026rsquo;affichage.;;], \u0026hellip; c\u0026rsquo;est dû à l\u0026rsquo;encoding qui n\u0026rsquo;est pas le bon lors de la lecture du fichier.\nil ouvre en iso-8859-1 alors que c\u0026rsquo;est de l\u0026rsquo;utf-8.\nsolution :\nbufferedreader reader = new bufferedreader(new inputstreamreader( new fileinputstream(f.getabsolutepath()), \u0026ldquo;utf-8\u0026rdquo;)); référence : http://www.jmdoudoux.fr/java/dej/chap-encodage.htm\n","title":"encoding"},{"date":"2011-11-18","image":"","imageAlt":"","link":"http://example.org/posts/2011-11-18-tail/","summary":"Récupérer toutes les lignes d\u0026rsquo;un fichier à partir de la Xième (ici 4)","tags":[],"text":"récupérer toutes les lignes d\u0026rsquo;un fichier à partir de la xième (ici 4)\n","title":"tail"},{"date":"2011-11-15","image":"","imageAlt":"","link":"http://example.org/posts/2011-11-15-recompile-with-xlint-unchecked/","summary":"La solution\u0026hellip;","tags":[],"text":" la solution\u0026hellip;\n","title":"Recompile with -Xlint:unchecked"},{"date":"2011-11-03","image":"","imageAlt":"","link":"http://example.org/posts/2011-11-03-emacs/","summary":"Fichier ~/.emacs\nFichier ~/.emacs.d/themes/color-theme-blackboard.el\nCette configuration requiert le paquet suivant : emacs-goodies-el","tags":[],"text":"fichier ~/.emacs\nfichier ~/.emacs.d/themes/color-theme-blackboard.el\ncette configuration requiert le paquet suivant : emacs-goodies-el\n","title":"emacs"},{"date":"2011-10-17","image":"","imageAlt":"","link":"http://example.org/posts/2011-10-17-reprise-de-son-mobile/","summary":"Reprise de son ancien mobile Orange : ici.","tags":[],"text":"reprise de son ancien mobile orange : ici.\n","title":"Reprise de son mobile"},{"date":"2011-08-31","image":"","imageAlt":"","link":"http://example.org/posts/2011-08-31-mysql-afficher-requete-en-ligne/","summary":"select * from flashes\\G\n*************************** 1. row ***************************\nid: 1 etape: BRANCHE_MOTIF dateCreation: 2011-08-29 14:27:45\ndateDebut: 2011-08-04 00:00:00\ndateFin: NULL active: oui *************************** 2. row ***************************\nid: 2 etape: AC dateCreation: 2011-08-29 14:43:22\ndateDebut: 2011-08-03 00:00:00\ndateFin: NULL active: oui *************************** 3. row ***************************\nid: 3 etape: BRANCHE_MOTIF dateCreation: 2011-08-29 14:46:28\ndateDebut: 2011-08-05 00:00:00\ndateFin: NULL active: oui ","tags":[],"text":"select * from flashes\\g\n*************************** 1. row ***************************\nid: 1 etape: branche_motif datecreation: 2011-08-29 14:27:45\ndatedebut: 2011-08-04 00:00:00\ndatefin: null active: oui *************************** 2. row ***************************\nid: 2 etape: ac datecreation: 2011-08-29 14:43:22\ndatedebut: 2011-08-03 00:00:00\ndatefin: null active: oui *************************** 3. row ***************************\nid: 3 etape: branche_motif datecreation: 2011-08-29 14:46:28\ndatedebut: 2011-08-05 00:00:00\ndatefin: null active: oui ","title":"Mysql: afficher requête en ligne"},{"date":"2011-08-17","image":"","imageAlt":"","link":"http://example.org/posts/2011-08-17-iterm2/","summary":"http://www.iterm2.com/ pour les mac","tags":[],"text":"http://www.iterm2.com/ pour les mac\n","title":"iterm2"},{"date":"2011-08-16","image":"","imageAlt":"","link":"http://example.org/posts/2011-08-16-couleurs/","summary":"Pour retrouver/voir les codes couleurs\u0026hellip;\nhttp://www.colorschemer.com/online.html http://html-color-codes.info/ http://www.tayloredmktg.com/rgb/","tags":[],"text":"pour retrouver/voir les codes couleurs\u0026hellip;\nhttp://www.colorschemer.com/online.html http://html-color-codes.info/ http://www.tayloredmktg.com/rgb/\n","title":"Couleurs..."},{"date":"2011-08-12","image":"","imageAlt":"","link":"http://example.org/posts/2011-08-12-sniffage-reseau/","summary":"mezalor@here:~$ sudo ngrep -x \u0026#39;^(GET|POST)\u0026#39; \u0026#39;src host somewhere.example.com and port 80\u0026#39; interface: eth0 (10.33.2.0/255.255.255.0) filter: (ip or ip6) and ( src host somewhere.example.com and port 80 ) match: ^(GET|POST) ######### T 10.33.99.21:33050 -\u0026gt; 10.33.2.87:80 [AP] 50 4f 53 54 20 2f 68 65 6c 6c 6f 20 48 54 54 50 POST /hello HTTP 2f 31 2e 30 0d 0a /1.0.. Sur somewhere.example.com\n$ telnet here 80 POST /hello HTTP/1.0\u0026lt;/span\u0026gt; EDIT: essayer -d lo si besoin","tags":["network","ngrep","réseau","sniffage"],"text":"mezalor@here:~$ sudo ngrep -x \u0026#39;^(get|post)\u0026#39; \u0026#39;src host somewhere.example.com and port 80\u0026#39; interface: eth0 (10.33.2.0/255.255.255.0) filter: (ip or ip6) and ( src host somewhere.example.com and port 80 ) match: ^(get|post) ######### t 10.33.99.21:33050 -\u0026gt; 10.33.2.87:80 [ap] 50 4f 53 54 20 2f 68 65 6c 6c 6f 20 48 54 54 50 post /hello http 2f 31 2e 30 0d 0a /1.0.. sur somewhere.example.com\n$ telnet here 80 post /hello http/1.0\u0026lt;/span\u0026gt; edit: essayer -d lo si besoin\n$ sudo ngrep -d lo -x \u0026#39;^(post)\u0026#39; \u0026#39;port 8080\u0026#39; ","title":"sniffage réseau"},{"date":"2011-06-17","image":"","imageAlt":"","link":"http://example.org/posts/2011-06-17-jquery/","summary":"Si un prix Nobel en informatique existait, il serait à attribuer à l\u0026rsquo;inventeur de JQuery !","tags":[],"text":"si un prix nobel en informatique existait, il serait à attribuer à l\u0026rsquo;inventeur de jquery !\n","title":"JQuery"},{"date":"2011-06-17","image":"","imageAlt":"","link":"http://example.org/posts/2011-06-17-json-en-java/","summary":"Lib java pour parser une entrée formattée avec json\u0026hellip;\nhttp://code.google.com/p/json-simple/\nSimple et pas de dépendance !","tags":[],"text":"lib java pour parser une entrée formattée avec json\u0026hellip;\nhttp://code.google.com/p/json-simple/\nsimple et pas de dépendance !\n","title":"Json en java"},{"date":"2011-06-03","image":"","imageAlt":"","link":"http://example.org/posts/2011-06-03-chemin-absolu/","summary":"La commande readlink permet de retourner le chemin absolu d\u0026rsquo;un fichier/répertoire en suivant éventuellement les liens symboliques","tags":[],"text":"la commande readlink permet de retourner le chemin absolu d\u0026rsquo;un fichier/répertoire en suivant éventuellement les liens symboliques\n","title":"Chemin absolu"},{"date":"2011-05-30","image":"","imageAlt":"","link":"http://example.org/posts/2011-05-30-svn-executable-property/","summary":" ","tags":[],"text":" ","title":"svn executable property"},{"date":"2011-05-30","image":"","imageAlt":"","link":"http://example.org/posts/2011-05-30-tables-de-hachage-en-bash/","summary":"Voici comment déclarer une table de hachage en bash et itérer sur ses clés pour récupérer les valeurs :\ndeclare -A animals animals=( [\u0026#34;moo\u0026#34;]=\u0026#34;cow\u0026#34; [\u0026#34;miaou\u0026#34;]=\u0026#34;cat\u0026#34; ) animals[\u0026#39;dog\u0026#39;]=\u0026#39;wouaf\u0026#39; for i in \u0026#34;${!animals[@]}\u0026#34; do echo \u0026#34;key : $i\u0026#34; echo \u0026#34;value: ${animals[$i]}\u0026#34; done echo \u0026#34;There are ${#animals[@]} animals.\u0026#34; ","tags":["animals","declare","hachage","hash","iterate","key","value"],"text":"voici comment déclarer une table de hachage en bash et itérer sur ses clés pour récupérer les valeurs :\ndeclare -a animals animals=( [\u0026#34;moo\u0026#34;]=\u0026#34;cow\u0026#34; [\u0026#34;miaou\u0026#34;]=\u0026#34;cat\u0026#34; ) animals[\u0026#39;dog\u0026#39;]=\u0026#39;wouaf\u0026#39; for i in \u0026#34;${!animals[@]}\u0026#34; do echo \u0026#34;key : $i\u0026#34; echo \u0026#34;value: ${animals[$i]}\u0026#34; done echo \u0026#34;there are ${#animals[@]} animals.\u0026#34; ","title":"tables de hachage en bash"},{"date":"2011-04-07","image":"","imageAlt":"","link":"http://example.org/posts/2011-04-07-proprietes-css-et-compatibilites/","summary":"http://www.westciv.com/wiki/CSS_Guide:_Text_style_properties","tags":[],"text":"http://www.westciv.com/wiki/css_guide:_text_style_properties\n","title":"Propriétés CSS et compatibilités"},{"date":"2011-03-31","image":"","imageAlt":"","link":"http://example.org/posts/2011-03-31-compression-url-flashcode/","summary":"http://is.gd/index.php","tags":[],"text":"http://is.gd/index.php\n","title":"Compression URL \u0026 flashcode"},{"date":"2011-02-22","image":"","imageAlt":"","link":"http://example.org/posts/2011-02-22-apple-patch-pour-utiliser-telecommande-avec-vlc/","summary":" ","tags":[],"text":" ","title":"Apple: Patch pour utiliser télécommande avec VLC"},{"date":"2010-12-23","image":"","imageAlt":"","link":"http://example.org/posts/2010-12-23-convertir-mp3-pour-philips-voicetracer-0622/","summary":"[root@archimede ~]# ls /mnt/PHILIPS/VOICE/B/ DVT_B001.MP3","tags":[],"text":" [root@archimede ~]# ls /mnt/philips/voice/b/ dvt_b001.mp3\n","title":"Convertir Mp3 pour philips voicetracer 0622"},{"date":"2010-10-30","image":"","imageAlt":"","link":"http://example.org/posts/2010-10-30-iphone-et-google-calendar/","summary":"https://www.google.com/calendar/iphoneselect","tags":[],"text":"https://www.google.com/calendar/iphoneselect\n","title":"iphone et google calendar"},{"date":"2010-10-15","image":"","imageAlt":"","link":"http://example.org/posts/2010-10-15-regexp/","summary":"http://www.regular-expressions.info/repeat.html","tags":[],"text":"http://www.regular-expressions.info/repeat.html\n","title":"regexp"},{"date":"2010-09-14","image":"","imageAlt":"","link":"http://example.org/posts/2010-09-14-test-a-python-regular-expression-on-text-and-get-results/","summary":"http://re-try.appspot.com/","tags":[],"text":"http://re-try.appspot.com/\n","title":"Test a Python regular expression on text and get results"},{"date":"2010-07-13","image":"","imageAlt":"","link":"http://example.org/posts/2010-07-13-envoi-mail-avec-attachement-en-python/","summary":" ","tags":[],"text":" ","title":"Envoi mail avec attachement en python"},{"date":"2010-07-06","image":"","imageAlt":"","link":"http://example.org/posts/2010-07-06-lancer-un-serveur-qui-ecoute-sur-un-port-et-affiche-ce-qui-arrive/","summary":"socat TCP4-LISTEN:7533,reuseaddr STDOUT","tags":[],"text":"socat tcp4-listen:7533,reuseaddr stdout\n","title":"lancer un serveur qui écoute sur un port et affiche ce qui arrive"},{"date":"2010-06-18","image":"","imageAlt":"","link":"http://example.org/posts/2010-06-18-calendrier/","summary":"pcal -o 2010.ps -P a4 -t 2010 -a fr -F 1 6 2010 2","tags":[],"text":"pcal -o 2010.ps -p a4 -t 2010 -a fr -f 1 6 2010 2\n","title":"Calendrier"},{"date":"2010-06-09","image":"","imageAlt":"","link":"http://example.org/posts/2010-06-09-python-urlparse/","summary":" ","tags":[],"text":" ","title":"Python - urlparse"},{"date":"2010-04-13","image":"","imageAlt":"","link":"http://example.org/posts/2010-04-13-alternatives-java/","summary":"sudo update-java-alternatives -l sudo update-java-alternatives -s java-6-sun","tags":[],"text":"sudo update-java-alternatives -l sudo update-java-alternatives -s java-6-sun\n","title":"Alternatives java"},{"date":"2009-10-21","image":"","imageAlt":"","link":"http://example.org/posts/2009-10-21-mysql/","summary":"mysql\u0026gt; create database 3900_test; Query OK, 1 row affected (0,00 sec)\nmysql\u0026gt; grant all privileges on 3900_test.* to \u0026rsquo;test\u0026rsquo;@\u0026rsquo;localhost\u0026rsquo; identified by \u0026rsquo;test\u0026rsquo;; Query OK, 0 rows affected (0,00 sec)","tags":[],"text":"mysql\u0026gt; create database 3900_test; query ok, 1 row affected (0,00 sec)\nmysql\u0026gt; grant all privileges on 3900_test.* to \u0026rsquo;test\u0026rsquo;@\u0026rsquo;localhost\u0026rsquo; identified by \u0026rsquo;test\u0026rsquo;; query ok, 0 rows affected (0,00 sec)\n","title":"Mysql"},{"date":"2009-08-14","image":"","imageAlt":"","link":"http://example.org/posts/2009-08-14-creation-base-sql-et-user/","summary":"create database mabase; grant all privileges on mabase.* to test identified by \u0026rsquo;test\u0026rsquo;; mysql -h localhost -u test -ptest mabase","tags":[],"text":"create database mabase; grant all privileges on mabase.* to test identified by \u0026rsquo;test\u0026rsquo;; mysql -h localhost -u test -ptest mabase\n","title":"Creation base sql et user"},{"date":"2009-05-05","image":"","imageAlt":"","link":"http://example.org/posts/2009-05-05-unicode/","summary":"pour é\nen java : \\u00e9\nen python : u\u0026rsquo;\\xe9'\nhttp://www.w3schools.com/tags/ref_entities.asp","tags":[],"text":"pour é\nen java : \\u00e9\nen python : u\u0026rsquo;\\xe9'\nhttp://www.w3schools.com/tags/ref_entities.asp\n","title":"unicode"},{"date":"2008-08-20","image":"","imageAlt":"","link":"http://example.org/posts/2008-08-20-distance-de-levenshtein/","summary":" http://hetland.org/coding/python/levenshtein.py http://fr.wikipedia.org/wiki/Distance_de_Levenshtein ","tags":[],"text":" http://hetland.org/coding/python/levenshtein.py http://fr.wikipedia.org/wiki/distance_de_levenshtein ","title":"Distance de Levenshtein"},{"date":"2008-08-19","image":"","imageAlt":"","link":"http://example.org/posts/2008-08-19-accepts-returns-en-python/","summary":"voir :\npackage python-excelerator /usr/share/pycentral/python-excelerator/site-packages/pyExcelerator/Deco.py ","tags":[],"text":"voir :\npackage python-excelerator /usr/share/pycentral/python-excelerator/site-packages/pyexcelerator/deco.py ","title":"@accepts @returns en python"},{"date":"2008-04-03","image":"","imageAlt":"","link":"http://example.org/posts/2008-04-03-emacs-query-replace-avec-retour-chariot/","summary":"Ayant un document xml avec plein de données, je souhaite séparer les blocs \u0026ldquo;\u0026lt;Event\u0026gt;\u0026rdquo; pour mieux distinguer. Voici comment faire\u0026hellip;","tags":[],"text":"ayant un document xml avec plein de données, je souhaite séparer les blocs \u0026ldquo;\u0026lt;event\u0026gt;\u0026rdquo; pour mieux distinguer. voici comment faire\u0026hellip;\n","title":"emacs : query replace avec retour chariot !"},{"date":"2008-03-25","image":"","imageAlt":"","link":"http://example.org/posts/2008-03-25-afficher-la-robustesse-d-un-mot-de-passe/","summary":"Le site suivant permet de saisir un mot de passe et d\u0026rsquo;afficher au fur et à mesure de la saisie la robustesse de celui-ci.","tags":[],"text":"le site suivant permet de saisir un mot de passe et d\u0026rsquo;afficher au fur et à mesure de la saisie la robustesse de celui-ci.\n","title":"Afficher la robustesse d'un mot de passe"},{"date":"2008-03-21","image":"","imageAlt":"","link":"http://example.org/posts/2008-03-21-svn-ignorer-un-fichier-lors-du-commit/","summary":"$ pwd /home/myuser/appli $ touch a_file $ svn st ? a_file $ svn propset svn:ignore a_file . $ svn st $ ","tags":["ignore","propset","svn"],"text":"$ pwd /home/myuser/appli $ touch a_file $ svn st ? a_file $ svn propset svn:ignore a_file . $ svn st $ ","title":"SVN: ignorer un fichier lors du commit"},{"date":"2008-03-21","image":"","imageAlt":"","link":"http://example.org/posts/2008-03-21-archivage-tar-et-exclusions-svn/","summary":"Pour exclure les répertoires lors de la création d\u0026rsquo;une archive avec tar, il faut utiliser \u0026ndash;exclude pattern après le nom de l\u0026rsquo;archive.\nExemple : tar zcvf nomarchive.tgz \u0026ndash;exclude \u0026lsquo;.svn\u0026rsquo; batch/ ","tags":[],"text":"pour exclure les répertoires lors de la création d\u0026rsquo;une archive avec tar, il faut utiliser \u0026ndash;exclude pattern après le nom de l\u0026rsquo;archive.\nexemple : tar zcvf nomarchive.tgz \u0026ndash;exclude \u0026lsquo;.svn\u0026rsquo; batch/ ","title":"Archivage tar et exclusions .svn"},{"date":"2008-03-21","image":"","imageAlt":"","link":"http://example.org/posts/2008-03-21-rendre-attrayant-des-formulaires-et-tableaux-html/","summary":"Voici un lien vers des tutoriaux http://www.fredcavazza.net/mes-ressources/mes-tutoriels/ sympas.\nLe principe adopté est de partir d\u0026rsquo;un formulaire ou d\u0026rsquo;un tableau et de les rendre attrayants.\nCela se fait étape par étape et pemet d\u0026rsquo;apprendre quelques balises html et notions de css.","tags":[],"text":"voici un lien vers des tutoriaux http://www.fredcavazza.net/mes-ressources/mes-tutoriels/ sympas.\nle principe adopté est de partir d\u0026rsquo;un formulaire ou d\u0026rsquo;un tableau et de les rendre attrayants.\ncela se fait étape par étape et pemet d\u0026rsquo;apprendre quelques balises html et notions de css.\n","title":"Rendre attrayant des formulaires et tableaux html"},{"date":"2008-03-17","image":"","imageAlt":"","link":"http://example.org/posts/2008-03-17-utiliser-sort-pour-trier-un-tableau/","summary":"Trie les données sur les colonnes 2 et 3.","tags":[],"text":"trie les données sur les colonnes 2 et 3.\n","title":"Utiliser sort pour trier un tableau"},{"date":"2008-03-17","image":"","imageAlt":"","link":"http://example.org/posts/2008-03-17-comparaisons-numeriques-avec-sort/","summary":"jfgiraud@jfgiraud1:~$ printf \u0026ldquo;1 21 5.0 2e1\u0026rdquo; | tr \u0026quot; \u0026quot; \u0026ldquo;\\n\u0026rdquo; | sort -g 1 5.0 2e1 21 jfgiraud@jfgiraud1:~$ printf \u0026ldquo;1 21 5.0 2e1\u0026rdquo; | tr \u0026quot; \u0026quot; \u0026ldquo;\\n\u0026rdquo; | sort -n 1 2e1 5.0 21 jfgiraud@jfgiraud1:~$ printf \u0026ldquo;1 21 5.0 2e1\u0026rdquo; | tr \u0026quot; \u0026quot; \u0026ldquo;\\n\u0026rdquo; | sort 1 21 2e1 5.0","tags":[],"text":"jfgiraud@jfgiraud1:~$ printf \u0026ldquo;1 21 5.0 2e1\u0026rdquo; | tr \u0026quot; \u0026quot; \u0026ldquo;\\n\u0026rdquo; | sort -g 1 5.0 2e1 21 jfgiraud@jfgiraud1:~$ printf \u0026ldquo;1 21 5.0 2e1\u0026rdquo; | tr \u0026quot; \u0026quot; \u0026ldquo;\\n\u0026rdquo; | sort -n 1 2e1 5.0 21 jfgiraud@jfgiraud1:~$ printf \u0026ldquo;1 21 5.0 2e1\u0026rdquo; | tr \u0026quot; \u0026quot; \u0026ldquo;\\n\u0026rdquo; | sort 1 21 2e1 5.0\n","title":"Comparaisons numériques avec sort"},{"date":"2008-03-17","image":"","imageAlt":"","link":"http://example.org/posts/2008-03-17-manipulation-de-dates/","summary":"Date::Manip n\u0026rsquo;est pas installé par défaut avec perl. C\u0026rsquo;est embêtant car il faut installer un paquet sur chaque environnement utilisé.\nEn outre, dans la perldoc, voici la réponse à la question SHOULD I USE DATE::MANIP\nDate::Manip is written entirely in perl. It’s the most powerful of the date modules. It’s also the biggest and slowest. Bref, pourquoi ne pas utiliser directement la commande date ?!\navec perl : en bash ","tags":[],"text":"date::manip n\u0026rsquo;est pas installé par défaut avec perl. c\u0026rsquo;est embêtant car il faut installer un paquet sur chaque environnement utilisé.\nen outre, dans la perldoc, voici la réponse à la question should i use date::manip\ndate::manip is written entirely in perl. it’s the most powerful of the date modules. it’s also the biggest and slowest. bref, pourquoi ne pas utiliser directement la commande date ?!\navec perl : en bash ","title":"Manipulation de dates"},{"date":"2008-03-13","image":"","imageAlt":"","link":"http://example.org/posts/2008-03-13-xpath/","summary":"XPath permet de désigner une portion d\u0026rsquo;un document XML.\nLa page wiki présente la syntaxe de manière simple.\nUn commentaire indique que l\u0026rsquo;on peut utiliser un utilitaire perl en ligne de commande (paquet à installer : libxml-xpath-perl).\nJ\u0026rsquo;ai fait un test sur un fichier xml (récupéré d\u0026rsquo;un flux rss) et c\u0026rsquo;est impressionnant !\nIl manque la syntaxe pour récupérer les noeuds dont la valeur est X :\n\u0026lt;item \u0026hellip;\u0026gt; \u0026hellip; \u0026lt;title\u0026gt;X\u0026lt;title\u0026gt; \u0026hellip; \u0026lt;/item\u0026gt;","tags":[],"text":"xpath permet de désigner une portion d\u0026rsquo;un document xml.\nla page wiki présente la syntaxe de manière simple.\nun commentaire indique que l\u0026rsquo;on peut utiliser un utilitaire perl en ligne de commande (paquet à installer : libxml-xpath-perl).\nj\u0026rsquo;ai fait un test sur un fichier xml (récupéré d\u0026rsquo;un flux rss) et c\u0026rsquo;est impressionnant !\nil manque la syntaxe pour récupérer les noeuds dont la valeur est x :\n\u0026lt;item \u0026hellip;\u0026gt; \u0026hellip; \u0026lt;title\u0026gt;x\u0026lt;title\u0026gt; \u0026hellip; \u0026lt;/item\u0026gt;\nxpath -e \u0026lsquo;//item[title = \u0026ldquo;x\u0026rdquo;]\u0026rsquo; ~/telechargements/flux.rss\nexemples de chemins :\nresources :\nhttp://jerome.developpez.com/xmlxsl/xpath/?lpage=paths\u0026amp;amp;rpage=17#d1e1010 ","title":"XPath"},{"date":"2008-03-12","image":"","imageAlt":"","link":"http://example.org/posts/2008-03-12-raccourcis-claviers-bien-pratiques/","summary":"Escape puis \u0026ldquo;.\u0026rdquo; : dernier paramètre de la ligne de commande dernièrement exécutée.\nControl R + texte : recherche ce texte dans l\u0026rsquo;historique des lignes de commande. Répeter le Control R pour remonter dans les entrées.","tags":[],"text":"escape puis \u0026ldquo;.\u0026rdquo; : dernier paramètre de la ligne de commande dernièrement exécutée.\ncontrol r + texte : recherche ce texte dans l\u0026rsquo;historique des lignes de commande. répeter le control r pour remonter dans les entrées.\n","title":"Raccourcis claviers bien pratiques"},{"date":"2008-03-12","image":"","imageAlt":"","link":"http://example.org/posts/2008-03-12-comptabiliser-le-nombre-d-occurences/","summary":"Utiliser la commande uniq pour afficher ou omettre des lignes récupérées de l\u0026rsquo;entrée standard. L\u0026rsquo;option -c permet de comptabiliser les lignes (qui doivent être ordonnées)\nAssocier avec sort.\nfor A in 1 3 4 2 3 1 1 1 3; do echo $A; done | sort | uniq -c","tags":[],"text":"utiliser la commande uniq pour afficher ou omettre des lignes récupérées de l\u0026rsquo;entrée standard. l\u0026rsquo;option -c permet de comptabiliser les lignes (qui doivent être ordonnées)\nassocier avec sort.\nfor a in 1 3 4 2 3 1 1 1 3; do echo $a; done | sort | uniq -c\n","title":"Comptabiliser le nombre d'occurences"},{"date":"2008-03-12","image":"","imageAlt":"","link":"http://example.org/posts/2008-03-12-recuperer-les-informations-concernant-une-image/","summary":"sudo apt-get install imagemagick\n/usr/bin/identify -verbose Telechargements/quiz_pblv_xs.gif\nLes informations sont envoyées sur la sortie standard.","tags":[],"text":"sudo apt-get install imagemagick\n/usr/bin/identify -verbose telechargements/quiz_pblv_xs.gif\nles informations sont envoyées sur la sortie standard.\n","title":"Récupérer les informations concernant une image"},{"date":"2008-03-12","image":"","imageAlt":"","link":"http://example.org/posts/2008-03-12-depannage-serveur-qui-affiche-ce-qu-il-recoit/","summary":"Le serveur affiche ce qu\u0026rsquo;il reçoit, c\u0026rsquo;est tout ce qu\u0026rsquo;il fait.\ninstallation sudo apt-get install socat\nlancement du serveur socat tcp4-listen:1234,reuseaddr,fork stdio\nlancement du client où l\u0026rsquo;on envoie des données telnet 127.0.0.1 1234","tags":[],"text":"le serveur affiche ce qu\u0026rsquo;il reçoit, c\u0026rsquo;est tout ce qu\u0026rsquo;il fait.\ninstallation sudo apt-get install socat\nlancement du serveur socat tcp4-listen:1234,reuseaddr,fork stdio\nlancement du client où l\u0026rsquo;on envoie des données telnet 127.0.0.1 1234\n","title":"Dépannage: serveur qui affiche ce qu'il reçoit"},{"date":"2008-03-12","image":"","imageAlt":"","link":"http://example.org/posts/2008-03-12-cvs-suppression-d-une-branche/","summary":"Ce matin, j\u0026rsquo;ai crée une branche à la place d\u0026rsquo;un tag. La correction n\u0026rsquo;est pas évidente pour nettoyer :\nLien externe : http://www.delorie.com/gnu/docs/cvs/cvs_51.html","tags":[],"text":"ce matin, j\u0026rsquo;ai crée une branche à la place d\u0026rsquo;un tag. la correction n\u0026rsquo;est pas évidente pour nettoyer :\nlien externe : http://www.delorie.com/gnu/docs/cvs/cvs_51.html\n","title":"CVS: suppression d'une branche"},{"date":"0001-01-01","image":"","imageAlt":"","link":"http://example.org/posts/2008-12-31-jekyll-md/","summary":"Text can be bold, italic, strikethrough or keyword.\nLink to another page.\nThere should be whitespace between paragraphs.\nThere should be whitespace between paragraphs. We recommend including a README, or a file with information about your project.\nHeader 1 This is a normal paragraph following a header. GitHub is a code hosting platform for version control and collaboration. It lets you and others work together on projects from anywhere.\nHeader 2 This is a blockquote following a header.","tags":[],"text":"text can be bold, italic, strikethrough or keyword.\nlink to another page.\nthere should be whitespace between paragraphs.\nthere should be whitespace between paragraphs. we recommend including a readme, or a file with information about your project.\nheader 1 this is a normal paragraph following a header. github is a code hosting platform for version control and collaboration. it lets you and others work together on projects from anywhere.\nheader 2 this is a blockquote following a header.\nwhen something is important enough, you do it even if the odds are not in your favor.\nheader 3 // javascript code with syntax highlighting. var fun = function lang(l) { dateformat.i18n = require(\u0026#39;./lang/\u0026#39; + l) return true; } # ruby code with syntax highlighting githubpages::dependencies.gems.each do |gem, version| s.add_dependency(gem, \u0026#34;= #{version}\u0026#34;) end header 4 this is an unordered list following a header. this is an unordered list following a header. this is an unordered list following a header. header 5 this is an ordered list following a header. this is an ordered list following a header. this is an ordered list following a header. header 6 head1 head two three ok good swedish fish nice out of stock good and plenty nice ok good oreos hmm ok good zoute drop yumm there\u0026rsquo;s a horizontal rule below this. here is an unordered list: item foo item bar item baz item zip and an ordered list: item one item two item three item four and a nested list: level 1 item level 2 item level 2 item level 3 item level 3 item level 1 item level 2 item level 2 item level 2 item level 1 item level 2 item level 2 item level 1 item small image large image definition lists can be used with html syntax. long, single-line code blocks should not wrap. they should horizontally scroll if they are too long. this line should be long enough to demonstrate this. the final element. ","title":""}]
}

