<!DOCTYPE html>
<html class="" lang="fr"><head>
    
    <meta name="viewport" content="width=device-width" />
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=7" />

    <link
    rel="icon"
    href='/favicon.png'
/>
<link
    rel="shortcut icon"
    href='/favicon.ico'
    type="image/x-icon"
/>
<link
    rel="apple-touch-icon"
    href='/apple-touch-icon.png'
/>

<title>
        
            mysql, données binaires  &ndash;
        
        Mezalor
    </title>

    
    <link href="/symbols-nerd-font/symbols-nerd-font.css" rel="stylesheet" integrity="sha512-lydow8GLOLlYNOtHlksNCmGWWCBsbIEtikXpHzfWqx78HLlyQZHOzyLwPpKol4Th6aCwLUXOfODVYgwrd3nwKQ=="/>
    <link href="/jetbrains-mono/jetbrains-mono.css" rel="stylesheet" integrity="sha512-tJxlgL6v1Y7kFf+qB8SloaAMKnOAw6WouknxXtIjkBux9Y/9aX81EUWOJO8c/3l98DmjG8brr4to7zaez606Fg=="/>

    
    
    <link type="text/css" rel="stylesheet" href=http://example.org/css/styles.0e1d555204b33a1d39a8669b29e99a46097aa138b00b88d34610fed68eeabdc5fc4bc4b44e53bb13819744fbab67a5c6ff79190a00b2c90fdf40813e52087375.css integrity="sha512-Dh1VUgSzOh05qGabKemaRgl6oTiwC4jTRhD&#43;1o7qvcX8S8S0TlO7E4GXRPurZ6XG/3kZCgCyyQ/fQIE&#43;UghzdQ==" />
<meta name="author" content="Jean-François Giraud" />

    
        <meta name="keywords" content='binaire, binary, hexa, mysql' />
    
    
        <meta name="description" content="a commande LOAD_FILE n&amp;rsquo;est pas utilisable (problèmes de droits, etc..) pour alimenter un blob.
Dans ce cas, il peut être intéressant de convertir un fichier binaire (ici un fichier texte) en séquence hexadécimale&amp;hellip;
$ cat lorem.txt Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer at lorem pharetra, pulvinar quam nec, efficitur ligula. Donec imperdiet aliquam rutrum. Aenean metus est, cursus eget auctor sit amet, vehicula id lorem." />
    

<meta property="og:site_name"
    content='Mezalor' />

    <meta property="og:title" content="mysql, données binaires" />
    <meta property="og:type" content="article" />
    
    <meta
        property="article:author" content="Jean-François Giraud" />
    <meta
        property="article:published_time"
        content='2020-11-12T15:47:00Z&#43;0100' />
    
        
            <meta property="article:tag" content="binaire" />
        
            <meta property="article:tag" content="binary" />
        
            <meta property="article:tag" content="hexa" />
        
            <meta property="article:tag" content="mysql" />
        
    
    <meta property="og:url" content="http://example.org/posts/2020-11-12-mysql-donnees-binaires/" />
    
    
    <meta property="og:image"
        content="http://example.org/img/icon.svg" />
    
        <meta property="og:description" content="Dans certains cas, la commande LOAD_FILE n&amp;rsquo;est pas utilisable (problèmes de droits, etc..) pour alimenter un blob.
Dans ce cas, il peut être intéressant d" />
    

<meta name="twitter:card" content="summary_large_image" />
<meta property="twitter:domain"
      content='example.org'
/>
<meta property="twitter:url" content="http://example.org/posts/2020-11-12-mysql-donnees-binaires/" />


    <meta name="twitter:title" content="mysql, données binaires" />
    
    
    
    <meta name="twitter:image"
        content="http://example.org/img/icon.svg" />
    
        <meta name="twitter:description" content="Dans certains cas, la commande LOAD_FILE n&amp;rsquo;est pas utilisable (problèmes de droits, etc..) pour alimenter un blob.
Dans ce cas, il peut être intéressant d" />
    

<link rel="manifest" href="/manifest/index.json" />
</head>


<body>
        <div id="baseContainer"><header class="">
<div class="titleAndSearchContainer">
        <div id="titleContainer">
            
                <a class="unstyledLink" href="/">
                    <img src='/logo.svg' alt='Logo'/>
                </a>
            
            <div class="rightOfLogo">
                <div class="titleAndHamburger">
                    <h1>
                        <a class="unstyledLink" href="/">Mezalor</a>
                        
                    </h1>
                    
                </div>
                <div id="wide_nav"><nav>
    
    <ul id="main-nav">
        <li><a href="/">Home</a></li>
        
            <li><a href="/posts">Posts</a></li>
        
        
        
        
        
        
        
            <li><a href="/tags">Tags</a></li>
        
        
    </ul>
</nav>
</div>
            </div>
        </div>
        <div class="search">
    <input id="searchbar" type="text" placeholder='Chercher' />
    <a class="nerdlink" onclick="newSearch();">&#xf002;</a>
</div>
<script>
    function newSearch() {
        let term = searchbar.value.trim();
        if (!term) return;
        location.href = `/search?q=${term}`;
    }
    searchbar.onkeyup = (ev) => {if (ev.keyCode == 13) newSearch()};
</script>

    </div>
    <div id="links">
        <a
    
        rel="noreferrer"
    
    target="_blank"
    class="nerdlink"
    href="/index.xml">
    
    
        &#xf09e;
    
    <span>
        RSS
    </span>
</a>

        
        <a
    
        rel="noreferrer"
    
    target="_blank"
    class="nerdlink"
    href="https://github.com/jfgiraud">
    
    
        &#xf09b;
    
    <span>
        GitHub
    </span>
</a>

    </div>
    

</header>
<div id="contentContainer">
                <div id="content">
                    <main>
<article class="card single">
    
        <h1>mysql, données binaires</h1>
    
    
        <p class="date">
            <span title='Date'> </span>
    2020-11-12

</p>
    
    
    
    
    <div><p>Dans certains cas, la commande <code>LOAD_FILE</code> n&rsquo;est pas utilisable (problèmes de droits, etc..) pour alimenter
un blob.</p>
<p>Dans ce cas, il peut être intéressant de convertir un fichier binaire (ici un fichier texte) en séquence
hexadécimale&hellip;</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ cat lorem.txt 
</span></span><span style="display:flex;"><span>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer at lorem pharetra, pulvinar quam nec, efficitur ligula. Donec imperdiet aliquam rutrum. Aenean metus est, cursus eget auctor sit amet, vehicula id lorem. Vivamus mollis sollicitudin mattis. Aenean volutpat velit tellus, et ullamcorper nisi aliquam ut. Nunc efficitur est ac tincidunt ultrices. Morbi ac quam magna. Vivamus egestas elit in bibendum fermentum. Nulla nunc felis, aliquet a lorem eleifend, mollis laoreet libero. Etiam sit amet justo bibendum, cursus lectus in, blandit ex. Nulla dolor est, pharetra eget nulla et, sodales dapibus diam.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Fusce et mauris quis sem tincidunt eleifend. In felis ipsum, vehicula sit amet sapien a, vulputate euismod lacus. Proin condimentum ante ex, et viverra eros tristique eu. Quisque consectetur, lectus ut tempus aliquet, lorem urna venenatis dolor, id venenatis ante tortor quis odio. Fusce consectetur nisi id massa efficitur, et condimentum enim sagittis. Donec volutpat leo in nisl vestibulum tempor. Aliquam erat volutpat. Praesent egestas lectus nibh, vel porta lorem pharetra a. Pellentesque nec bibendum metus. Nulla a felis hendrerit, pulvinar est ac, ullamcorper ipsum. Donec tempus porta lectus a laoreet. Aenean eget tortor at mi aliquet sodales.
</span></span></code></pre></div><p>et utiliser cette séquence hexadécimale pour faire sa requête mysql.</p>
<p>On utilisera alors la commande UNHEX pour décoder la séquence hexadécimale et la remettre en binaire dans la requête SQL.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ xxd -p lorem.txt | tr -d <span style="color:#e6db74">&#39;\n&#39;</span> | xargs printf <span style="color:#e6db74">&#39;select unhex(&#34;%s&#34;);&#39;</span> | mysql -u root -ptest -s 2&gt; /dev/null | xargs -0 printf <span style="color:#e6db74">$&#39;%b&#39;</span>
</span></span><span style="display:flex;"><span>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer at lorem pharetra, pulvinar quam nec, efficitur ligula. Donec imperdiet aliquam rutrum. Aenean metus est, cursus eget auctor sit amet, vehicula id lorem. Vivamus mollis sollicitudin mattis. Aenean volutpat velit tellus, et ullamcorper nisi aliquam ut. Nunc efficitur est ac tincidunt ultrices. Morbi ac quam magna. Vivamus egestas elit in bibendum fermentum. Nulla nunc felis, aliquet a lorem eleifend, mollis laoreet libero. Etiam sit amet justo bibendum, cursus lectus in, blandit ex. Nulla dolor est, pharetra eget nulla et, sodales dapibus diam.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Fusce et mauris quis sem tincidunt eleifend. In felis ipsum, vehicula sit amet sapien a, vulputate euismod lacus. Proin condimentum ante ex, et viverra eros tristique eu. Quisque consectetur, lectus ut tempus aliquet, lorem urna venenatis dolor, id venenatis ante tortor quis odio. Fusce consectetur nisi id massa efficitur, et condimentum enim sagittis. Donec volutpat leo in nisl vestibulum tempor. Aliquam erat volutpat. Praesent egestas lectus nibh, vel porta lorem pharetra a. Pellentesque nec bibendum metus. Nulla a felis hendrerit, pulvinar est ac, ullamcorper ipsum. Donec tempus porta lectus a laoreet. Aenean eget tortor at mi aliquet sodales.
</span></span></code></pre></div><p>Le <code>xxd -p</code> permet de ne sortir que l&rsquo;hexa sur la sortie standard tandis que le <code>tr -d '\n'</code> concatène les lignes.</p>
</div>
</article>

    <hr />
    <p class="articleTagsContainer">
        <span> </span>
        <strong>Tags:</strong>
        
            <a
                
                href="/tags/binaire">#binaire</a>
        
            <a
                
                href="/tags/binary">#binary</a>
        
            <a
                
                href="/tags/hexa">#hexa</a>
        
            <a
                
                href="/tags/mysql">#mysql</a>
        
    </p>






                    </main><footer>
    <hr />

<p><small>
        2023 &copy; 
    </small></p>
    <p><small>
        <a href='https://gitlab.com/gabmus/hugo-ficurinia'>Ficurinia theme</a> for <a href='https://gohugo.io'>Hugo</a> by <a href='https://gabmus.org'>Gabriele Musco</a>. Licensed under <a href='https://www.gnu.org/licenses/agpl-3.0.html'>GNU AGPLv3</a>.
    </small></p>
</footer>
</div>
            </div>
        </div>


</body>
</html>
