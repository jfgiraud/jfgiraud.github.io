---
layout: post
title: "Java, convertir un fichier alaw en pcm"
date: "2017-11-24 15:09:00"
---
Dans un billet précédent, je parlais d'un petit player en html5 qui devait jouer des wav. Je convertissais les wav en mp3 pour la compatibilité des navigateurs.<br /><br />Lors de l'intégration de celui-ci dans l'IHM d'administration du serveur vocal, j'ai eu quelques soucis de conversion...<br /><br />La conversion en mp3 ne fonctionnait pas car les fichiers en entrée n'étaient pas des vrais "wav"... C'étaient des fichiers A-law ! <br /><br /><code><br />ACCUEIL_CHOIX_TARIFS.wav:        RIFF (little-endian) data, WAVE audio, ITU G.711 A-law, mono 8000 Hz<br /></code><br /><br />Pour que la conversion en mp3 avec jump3r fonctionne, le format d'entrée doit être dans mon cas<br /><br /><code><br />RIFF (little-endian) data, WAVE audio, Microsoft PCM, 16 bit, mono 8000 Hz<br /></code><br /><br />Avec sox, la conversion est simple :<br /><br /><script src="https://pastebin.com/embed_js/ustJnvPv"></script><br /><br />Mais c'est en java que cette conversion doit être faite car embarquée dans tomcat !<br /><br />Le code suivant permet de convertir en java un fichier ITU G.711 A-law en Microsoft PCM<br /><br /><script src="https://pastebin.com/embed_js/iqtyGk4e"></script><br /><br />Référence: <a href="https://stackoverflow.com/a/12862290/3550759">https://stackoverflow.com/a/12862290/3550759</a>
