---
layout: post
title: "emacs"
date: "2011-11-03 16:22:00"
---
<span style="font-weight: bold;">Fichier ~/.emacs</span><br /><br /><code></code><br /><pre><code><small><br />(require 'color-theme)<br />(load-file "~/.emacs.d/themes/color-theme-blackboard.el")<br />(color-theme-blackboard) <br /><br />(menu-bar-mode -1)<br />(tool-bar-mode -1)<br />(scroll-bar-mode -1)<br /><br />(setq column-number-mode t)<br />(setq line-number-mode t)<br />(setq inhibit-startup-message t)<br /><br />;; ==================== KEYS ====================<br />;; already bind via simple.el<br />;; (global-set-key [home] 'beginning-of-line)<br />;; (global-set-key [end] 'end-of-line) <br />;; (global-set-key [backspace] 'backward-delete-char-untabify)<br />;; (global-set-key [(control space)] 'set-mark-command)<br />;; (global-set-key [(control insert)] 'kill-ring-save)<br />;; (global-set-key [(shift insert)] 'yank)<br />;; (global-set-key [(control home)] 'beginning-of-buffer)<br />;; (global-set-key [(control end)] 'end-of-buffer)<br />;; (global-set-key [(control left)] 'backward-word)<br />;; (global-set-key [(control right)] 'forward-word)<br />;; (global-set-key [(control o)] 'open-line)<br /><br />;; already bind via paragraphs.el<br />;; (global-set-key [(control down)] 'forward-paragraph)<br />;; (global-set-key [(control up)] 'backward-paragraph)<br /><br />(defun beginning-of-page () (interactive) (move-to-window-line 0))<br />(defun end-of-page () (interactive) (move-to-window-line -1))<br />(global-set-key [(control kp-begin)] 'move-to-window-line)<br />(global-set-key [(control kp-down)] 'end-of-page)<br />(global-set-key [(control kp-up)] 'beginning-of-page)<br /><br />(defun delete-char-or-region() (interactive) (if mark-active (delete-region (point) (mark)) (delete-char 1)))<br />(global-set-key [delete] 'delete-char-or-region)<br /><br />(global-set-key [(control return)] 'newline-and-indent)<br />(global-set-key [(control delete)] 'kill-region)<br /><br /><br />(global-set-key [?\e ?s] 'point-to-register)  ;; M-s<br />(global-set-key [?\e ?r] 'jump-to-register) ;;  M-r<br /><br /><br />(global-set-key [?\e backspace] 'backward-kill-word)<br />(global-set-key [?\e delete] 'kill-word)<br /><br />(global-set-key [?\e ?g] 'goto-line)<br /><br />(global-set-key [M-return] 'kill-this-buffer)<br />(global-set-key [(control &gt;)]    'bs-cycle-next)<br />(global-set-key [(control &lt;)]   'bs-cycle-previous)<br />(global-set-key [f5]     'linum-mode)<br />(global-set-key [f6]     'menu-bar-mode)<br />(global-set-key [f8]     'next-error)<br />(global-set-key [f9]     'compile) ;;my-compile-or-tramp-compile)<br /><br /><br />(defun move-region (start end n)<br />  "Move the current region up or down by N lines."<br />  (interactive "r\np")<br />  (let ((line-text (delete-and-extract-region start end)))<br />    (forward-line n)<br />    (let ((start (point)))<br />      (insert line-text)<br />      (setq deactivate-mark nil)<br />      (set-mark start))))<br /><br />(defun move-region-up (start end n)<br />  "Move the current line up by N lines."<br />  (interactive "r\np")<br />  (move-region start end (if (null n) -1 (- n))))<br /><br />(defun move-region-down (start end n)<br />  "Move the current line down by N lines."<br />  (interactive "r\np")<br />  (move-region start end (if (null n) 1 n)))<br /><br />(defun move-line (n)<br />  "Move the current line up or down by N lines."<br />  (interactive "p")<br />  (setq col (current-column))<br />  (beginning-of-line) (setq start (point))<br />  (end-of-line) (forward-char) (setq end (point))<br />  (let ((line-text (delete-and-extract-region start end)))<br />    (forward-line n)<br />    (insert line-text)<br />    ;; restore point to original column in moved line<br />    (forward-line -1)<br />    (forward-char col)))<br /><br />(defun move-line-up (n)<br />  "Move the current line up by N lines."<br />  (interactive "p")<br />  (move-line (if (null n) -1 (- n))))<br /><br />(defun move-line-down (n)<br />  "Move the current line down by N lines."<br />  (interactive "p")<br />  (move-line (if (null n) 1 n)))<br /><br />(defun move-line-region-up (start end n)<br />  (interactive "r\np")<br />  (if (region-active-p) (move-region-up start end n) (move-line-up n)))<br /><br />(defun move-line-region-down (start end n)<br />  (interactive "r\np")<br />  (if (region-active-p) (move-region-down start end n) (move-line-down n)))<br /><br />(global-set-key [(meta up)] 'move-line-region-up)<br />(global-set-key [(meta down)] 'move-line-region-down)<br /><br /><br />;;; DÃ©placements entre buffers ************************************************<br />;;; Affichage du nom du fichier dans minibuffer *******************************<br /><br />(global-set-key [(meta left)]    'goto-previous-buffer)<br />(global-set-key [(meta right)]   'goto-next-buffer)<br /><br />(defun goto-next-buffer ()<br />  ""<br />  (interactive)<br />  (let ((l (reverse (buffer-list)))<br />        (buf (current-buffer))<br />        (regexp "^ ?\\*.*\\*$")<br />        )<br />    (while (progn<br />             (if l nil<br />               (switch-to-buffer buf)<br />               (error "No buffer to show"))<br />             (switch-to-buffer (car l))<br />             (message (buffer-file-name))<br />             (setq l (cdr l))<br />             (string-match regexp (buffer-name (current-buffer)))))))<br /><br />(defun goto-previous-buffer ()<br />  ""<br />  (interactive)<br />  (let ((n (length (buffer-list)))<br />        (k 0)<br />        (buf (current-buffer))<br />        (regexp "^ ?\\*.*\\*$")<br />        )<br />    (while (progn<br />             (setq k (1+ k))<br />             (if (&lt;= k n) nil<br />               (switch-to-buffer buf)<br />               (error "No buffer to show"))<br />             (bury-buffer)<br />             (message (buffer-file-name))<br />             (string-match regexp (buffer-name (current-buffer)))))))<br /><br />;;; deplacement entre frames **************************************************<br /><br />(global-set-key (kbd "<c -s-iso-lefttab="-s-iso-lefttab">")<br />  '(lambda () (interactive)<br />     (message (buffer-file-name)) (other-window -1)))<br />(global-set-key [(control tab)]<br />  '(lambda () (interactive)<br />     (message (buffer-file-name)) (other-window 1)))<br /><br />;;; Acces par REGEXP dans C-x b ***********************************************<br /><br />(iswitchb-mode t)<br />(iswitchb-default-keybindings)<br /><br />(defun iswitchb-system-buffers-to-end ()<br />  ""<br />  (let ((files (delq nil (mapcar <br />                          (lambda (x) <br />                            (if (or <br />                                 (string-match "Summary" x)<br />                                 (string-match "^ ?\\*.*\\*$" x))<br />                                x))<br />                          iswitchb-temp-buflist))))<br />    (iswitchb-to-end files)))<br /><br />(add-hook 'iswitchb-make-buflist-hook 'iswitchb-system-buffers-to-end)<br /><br />(message "main is loaded")</c></small></code></pre><br /><br /><span style="font-weight: bold;">Fichier ~/.emacs.d/themes/color-theme-blackboard.el</span><br /><br /><code></code><br /><pre><code><small><br />(defun color-theme-blackboard ()<br />  "Color theme"<br />  (interactive)<br />  (color-theme-install<br />   '(color-theme-blackboard<br />     ((background-color . "black")<br />      (background-mode . dark)<br />      (border-color . "black")<br />      (cursor-color . "#A7A7A7")<br />      (foreground-color . "#F8F8F8")<br />      (mouse-color . "sienna1"))<br />     (default ((t (:background "#000000" :foreground "#F8F8F8"))))<br />     (font-lock-builtin-face ((t (:foreground "#F8F8F8"))))<br />     (font-lock-comment-face ((t (:italic t :foreground "#AEAEAE"))))<br />     (font-lock-constant-face ((t (:foreground "#D8FA3C"))))<br />     (font-lock-doc-string-face ((t (:foreground "DarkOrange"))))<br />     (font-lock-function-name-face ((t (:foreground "#FF6400"))))<br />     (font-lock-keyword-face ((t (:foreground "#FBDE2D"))))<br />     (font-lock-preprocessor-face ((t (:foreground "Aquamarine"))))<br />     (font-lock-reference-face ((t (:foreground "SlateBlue"))))<br /><br />     (font-lock-regexp-grouping-backslash ((t (:foreground "#E9C062"))))<br />     (font-lock-regexp-grouping-construct ((t (:foreground "red"))))<br /><br />     (font-lock-string-face ((t (:foreground "#61CE3C"))))<br />     (font-lock-type-face ((t (:foreground "#8DA6CE"))))<br />     (font-lock-variable-name-face ((t (:foreground "#FF6400"))))<br />     (font-lock-warning-face ((t (:bold t :foreground "Pink"))))<br />     (gui-element ((t (:background "#D4D0C8" :foreground "black"))))<br />     (region ((t (:background "#253B76"))))<br />     (mode-line ((t (:background "grey75" :foreground "black"))))<br />     (highlight ((t (:background "#222222"))))<br />     (highline-face ((t (:background "SeaGreen"))))<br />     (italic ((t (nil))))<br />     (left-margin ((t (nil))))<br />     (text-cursor ((t (:background "yellow" :foreground "black"))))<br />     (toolbar ((t (nil))))<br />     (underline ((nil (:underline nil))))<br />     (zmacs-region ((t (:background "snow" :foreground "ble")))))))</small></code></pre><pre><code><small><br /></small></code></pre><pre><span style="font-weight: bold;">Cette configuration requiert  </span></pre><pre><code><small><br /></small></code></pre><pre><code><small>le paquet suivant : emacs-goodies-el</small></code></pre>
