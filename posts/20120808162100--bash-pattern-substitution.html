---
layout: post
title: Bash, pattern substitution
---
Le manuel bash présente les syntaxes suivantes (<a href="http://tldp.org/LDP/abs/html/string-manipulation.html">voir</a>)  <ul><li>${parameter#word} et ${parameter##word} pour supprimer le plus court et le plus long préfix<br /><li>${parameter%word} et ${parameter%%word} pour supprimer le plus court et le plus long suffixe<br /><li>${parameter/pattern/string} pour substituer une chaîne à un pattern. </ul>Il faut savoir que word peut être une regexp dans les 2 premiers cas.  Mais il faut surtout savoir que la syntaxe du pattern diffère de celles que l'on connaît généralement...  Sur <a href="http://wiki.bash-hackers.org/syntax/pattern">wiki.bash-hackers.org</a> :  <code><pre>?(&lt;PATTERN-LIST&gt;) Matches zero or one occurrence of the given patterns<br />*(&lt;PATTERN-LIST&gt;) Matches zero or more occurrences of the given patterns<br />+(&lt;PATTERN-LIST&gt;) Matches one or more occurrences of the given patterns<br />@(&lt;PATTERN-LIST&gt;) Matches one of the given patterns<br />!(&lt;PATTERN-LIST&gt;) Matches anything except one of the given patterns<br /></pre></code>  D'où des choses zarbies du genre :  <code><pre>$ shopt -s extglob<br />$ v="LE temps PASSE vite"<br />$ echo ${v//+([[:upper:]])} <br />temps vite<br />$ echo ${v%%+([[:lower:]])} <br />LE temps PASSE<br /></pre></code> <script src="http://pastebin.com/embed_js.php?i=KJjpzEHF"></script><div style="height: 0; overflow: hidden;">pattern</div>
